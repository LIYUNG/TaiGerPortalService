"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[2363],{50099:function(e,t,n){var r=n(35531),s=n(27853),a=n(84531),i=n(78932),o=n(66621),d=n(47313),l=n(58050),c=n(72880),u=n(88815),h=n(29678),p=n.n(h),f=n(54991),Z=n(12401),m=n(46417),x=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,a.Z)(n,[{key:"render",value:function(){var e,t,n,s,a,i=this,o=[];return this.state.isOption&&(n=(0,m.jsx)("div",{className:"card-header-right",children:(0,m.jsxs)(l.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,m.jsx)(l.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,m.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,m.jsxs)(l.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,m.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,m.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,m.jsxs)("a",{href:Z.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,m.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,m.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,m.jsxs)("a",{href:Z.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,m.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,m.jsx)("i",{className:"feather icon-refresh-cw"}),(0,m.jsx)("a",{href:Z.Z.BLANK_LINK,children:" Reload "})]}),(0,m.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,m.jsx)("i",{className:"feather icon-trash"}),(0,m.jsx)("a",{href:Z.Z.BLANK_LINK,children:" Remove "})]})]})]})})),s=(0,m.jsxs)(c.Z.Header,{children:[(0,m.jsx)(c.Z.Title,{as:"h5",children:this.props.title}),n]}),this.state.fullCard&&(o=[].concat((0,r.Z)(o),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(o=[].concat((0,r.Z)(o),["card-load"]),t=(0,m.jsx)("div",{className:"card-loader",children:(0,m.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(o=[].concat((0,r.Z)(o),["d-none"])),this.props.cardClass&&(o=[].concat((0,r.Z)(o),[this.props.cardClass])),a=(0,m.jsxs)(c.Z,{className:o.join(" "),style:e,children:[s,(0,m.jsx)(u.Z,{in:!this.state.collapseCard,children:(0,m.jsx)("div",{children:(0,m.jsx)(c.Z.Body,{children:this.props.children})})}),t]}),(0,m.jsx)(f.Z,{children:a})}}]),n}(d.Component);t.Z=p()(x)},31974:function(e,t,n){var r=n(18489),s=n(23430),a=n(47313),i=(n(94611),n(86450),n(52500),n(79489),n(1110)),o=(n(85463),n(43636),n(63849)),d=n(31616),l=(n(51426),n(46417));t.Z=function(e){var t=(0,a.useState)({editorState:e.editorState}),n=(0,s.Z)(t,2),c=n[0],u=n[1];return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.Z,{style:{textDecoration:"none"},children:(0,l.jsx)(d.Z,{className:"my-0 mx-0",children:(0,l.jsx)(i.Z,{doc_title:e.doc_title,readOnly:!1,handleEditorChange:function(e){u((function(t){return(0,r.Z)((0,r.Z)({},t),{},{editorState:e})}))},handleClickSave:e.handleClickSave,handleClickCancel:e.handleClickCancel,editorState:c.editorState,setStatedata:u})})})})}},92363:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(18489),s=n(35531),a=n(27853),i=n(84531),o=n(78932),d=n(66621),l=n(47313),c=n(44030),u=n(63849),h=n(31616),p=n(72880),f=n(93298),Z=n(83109),m=n(64212),x=n(54991),j=n(94611),v=n(86450),C=n(52500),S=(n(79489),n(37062)),g=n(31974),y=(n(85463),n(43636),n(4901)),k=n(51426),_=n(46417),w=function(e){(0,o.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={timeouterror:null,unauthorizederror:null,student:e.props.student,deleteFileWarningModel:!1,SetAsFinalFileModel:!1,Requirements_Modal:!1,in_edit_mode:!1,student_id:"",doc_thread_id:"",applicationId:"",editorState:null,ConvertedContent:"",isLoaded:!1,requirements:"",file:"",isThreadExisted:!1},e.handleClickEdit=function(t){t.preventDefault(),e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{in_edit_mode:!0})}))},e.handleClickCancel=function(t){e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{in_edit_mode:!1})}))},e.handleClickSave=function(t,n){t.preventDefault();var s=JSON.stringify((0,C.convertToRaw)(n.getCurrentContent())),a={prop:e.props.item,text:s};(0,k.Pd)(a).then((function(t){var r=t.data,s=r.success;r.data;s?e.setState({success:s,editorState:n,isLoaded:!0}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status?e.setState({isLoaded:!0,unauthorizederror:!0}):400===t.status&&e.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){e.setState({error:t})})),e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{in_edit_mode:!1})}))},e.handleEditorChange=function(t){e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{editorState:t})}))},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=null;if(this.props.message){var t=(0,C.convertFromRaw)(JSON.parse(this.props.message));e=C.EditorState.createWithContent(t)}else e=C.EditorState.createEmpty();this.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{editorState:e,ConvertedContent:e,isLoaded:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.timeouterror,r=t.unauthorizederror,s=(t.error,t.isLoaded);if(n)return(0,_.jsx)("div",{children:(0,_.jsx)(j.Z,{})});if(r)return(0,_.jsx)("div",{children:(0,_.jsx)(v.Z,{})});return s||this.state.student?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(u.Z,{children:(0,_.jsxs)(h.Z,{sm:10,children:[(0,_.jsx)(y.apv,{size:24,color:"red",title:"Un do Final Version",style:{cursor:"pointer"},onClick:function(){return e.props.openDeleteDocModalWindow(e.props.document)}}),this.props.idx,". ",(0,_.jsx)(S.Z,{to:"/docs/search/".concat(this.props.document._id),children:this.props.document.title})]})})}):(0,_.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,_.jsx)(c.Z,{animation:"border",role:"status",children:(0,_.jsx)("span",{className:"visually-hidden"})})})}}]),n}(l.Component),D=w,N=n(29021),L=function(e){(0,o.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,o=new Array(i),d=0;d<i;d++)o[d]=arguments[d];return(e=t.call.apply(t,[this].concat(o))).state={error:null,timeouterror:null,unauthorizederror:null,isLoaded:!1,data:null,success:!1,documentlists:[],doc_id_toBeDelete:"",doc_title_toBeDelete:"",doc_title:"",SetDeleteDocModel:!1,isEdit:!1,expand:!0,editorState:"",accordionKeys:!Object.keys(window.checklist)||"Editor"!==e.props.user.role&&"Agent"!==e.props.user.role?[0]:new Array(Object.keys(window.checklist).length).fill().map((function(e,t){return t}))},e.singleExpandtHandler=function(t){var n=(0,s.Z)(e.state.accordionKeys);n[t]=n[t]!==t?t:-1,e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{accordionKeys:n})}))},e.AllCollapsetHandler=function(){var t=Object.keys(window.checklist);e.setState((function(n){return(0,r.Z)((0,r.Z)({},n),{},{expand:!1,accordionKeys:!t||"Editor"!==e.props.user.role&&"Agent"!==e.props.user.role?[-1]:new Array(t.length).fill().map((function(e,t){return-1}))})}))},e.AllExpandtHandler=function(){var t=Object.keys(window.checklist);e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{expand:!0,accordionKeys:t&&new Array(t.length).fill().map((function(e,t){return t}))})}))},e.handleChange_doc_title=function(t){var n=t.target.value;e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{doc_title:n})}))},e.handleClick=function(){e.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{isEdit:!e.state.isEdit})}))},e.handleClickAdd=function(e){e.preventDefault()},e.handleDeleteDoc=function(t){(0,k.V0)(e.state.doc_id_toBeDelete).then((function(t){var n=t.data.success,r=(0,s.Z)(e.state.documentlists),a=r.findIndex((function(t){return t._id.toString()===e.state.doc_id_toBeDelete}));a>-1&&r.splice(a,1),n?e.setState({success:n,documentlists:r,SetDeleteDocModel:!1,isEdit:!1,isLoaded:!0}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status?e.setState({isLoaded:!0,unauthorizederror:!0}):400===t.status&&e.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){e.setState({error:t})}))},e.openDeleteDocModalWindow=function(t){e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{doc_id_toBeDelete:t._id,doc_title_toBeDelete:t.title,SetDeleteDocModel:!0})}))},e.closeDeleteDocModalWindow=function(t){e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{SetDeleteDocModel:!1})}))},e.handleClickCancel=function(t){e.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{isEdit:!e.state.isEdit})}))},e.handleClickSave=function(t,n){t.preventDefault();var a=JSON.stringify(n),i={title:e.state.doc_title,category:e.props.match.params.category,prop:e.props.item,text:a};(0,k.p8)(i).then((function(t){var n=t.data,r=n.success,a=n.data,i=(0,s.Z)(e.state.documentlists);i.push(a),r?e.setState({success:r,documentlists:i,editorState:"",isEdit:!e.state.isEdit,isLoaded:!0}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status?e.setState({isLoaded:!0,unauthorizederror:!0}):e.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){e.setState({error:t})})),e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{in_edit_mode:!1})}))},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this;(0,k.au)(this.props.match.params.category).then((function(t){var n=t.data,r=n.data,s=n.success;s?e.setState({isLoaded:!0,documentlists:r,success:s}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status?e.setState({isLoaded:!0,unauthorizederror:!0}):e.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;e.match.params.category!==this.props.match.params.category&&(0,k.au)(this.props.match.params.category).then((function(e){var t=e.data,r=t.data,s=t.success;s?n.setState({isLoaded:!0,documentlists:r,editorState:"",isEdit:!1,success:s,pagenotfounderror:null}):401===e.status||500===e.status?n.setState({isLoaded:!0,timeouterror:!0}):403===e.status&&n.setState({isLoaded:!0,unauthorizederror:!0})}),(function(e){n.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.unauthorizederror,r=t.timeouterror,s=t.isLoaded,a=t.pagenotfounderror;if(r)return(0,_.jsx)("div",{children:(0,_.jsx)(j.Z,{})});if(n)return(0,_.jsx)("div",{children:(0,_.jsx)(v.Z,{})});if(a)return(0,_.jsx)("div",{children:(0,_.jsx)(N.Z,{})});if(!s)return(0,_.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,_.jsx)(c.Z,{animation:"border",role:"status",children:(0,_.jsx)("span",{className:"visually-hidden"})})});var i=this.state.documentlists.map((function(t,n){return(0,_.jsx)(D,{idx:n,document:t,role:e.props.user.role,openDeleteDocModalWindow:e.openDeleteDocModalWindow},n)}));return(0,_.jsxs)(x.Z,{children:[(0,_.jsx)(u.Z,{className:"sticky-top ",children:(0,_.jsx)(h.Z,{children:(0,_.jsx)(p.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,_.jsx)(p.Z.Header,{text:"dark",children:(0,_.jsx)(p.Z.Title,{children:(0,_.jsxs)(u.Z,{children:[(0,_.jsx)(h.Z,{className:"my-0 mx-0 text-light",children:window.documentlist[this.props.match.params.category]}),(0,_.jsx)(h.Z,{md:{span:2,offset:0},children:this.state.expand?(0,_.jsx)(f.Z,{size:"sm",onClick:function(){return e.AllCollapsetHandler()},children:"Collaspse"}):(0,_.jsx)(f.Z,{size:"sm",onClick:function(){return e.AllExpandtHandler()},children:"Expand"})})]})})})})})}),(0,_.jsx)(u.Z,{children:(0,_.jsx)(h.Z,{sm:12,children:(0,_.jsx)(p.Z,{className:"mb-2 mx-0",children:this.state.isEdit?(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(p.Z.Body,{children:[(0,_.jsx)(u.Z,{children:(0,_.jsx)(h.Z,{children:(0,_.jsx)(Z.Z.Group,{controlId:"doc_title",className:"mb-4",children:(0,_.jsx)(Z.Z.Control,{type:"text",placeholder:"title",defaultValue:"",onChange:function(t){return e.handleChange_doc_title(t)}})})})}),(0,_.jsx)(g.Z,{doc_title:this.state.doc_title,editorState:this.state.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.handleClickCancel,role:this.props.role})]})}):(0,_.jsxs)(p.Z.Body,{children:[(0,_.jsx)(u.Z,{children:(0,_.jsx)(h.Z,{sm:10,children:i})})," ",("Admin"===this.props.user.role||"Agent"===this.props.user.role)&&(0,_.jsx)(f.Z,{onClick:this.handleClick,children:"Add"})]})})})}),(0,_.jsxs)(m.Z,{show:this.state.SetDeleteDocModel,onHide:this.closeDeleteDocModalWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,_.jsx)(m.Z.Header,{children:(0,_.jsx)(m.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,_.jsxs)(m.Z.Body,{children:["Do you want to delete documentation of title:"," ",this.state.doc_title_toBeDelete,"?"]}),(0,_.jsxs)(m.Z.Footer,{children:[(0,_.jsx)(f.Z,{disabled:!s,onClick:this.handleDeleteDoc,children:"Yes"}),(0,_.jsx)(f.Z,{onClick:this.closeDeleteDocModalWindow,children:"No"})]})]})]})}}]),n}(l.Component),b=L},29021:function(e,t,n){var r=n(27853),s=n(84531),a=n(78932),i=n(66621),o=n(47313),d=n(63849),l=n(31616),c=n(72880),u=n(54991),h=n(46417),p=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(c.Z.Body,{children:(0,h.jsx)("h4",{children:"Page Not Found!"})})})})})})}}]),n}(o.Component);t.Z=p},94611:function(e,t,n){var r=n(27853),s=n(84531),a=n(78932),i=n(66621),o=n(47313),d=n(63849),l=n(31616),c=n(50099),u=n(54991),h=n(46417),p=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(c.Z,{children:"Time out error. Please login again!"})})})})}}]),n}(o.Component);t.Z=p},86450:function(e,t,n){var r=n(27853),s=n(84531),a=n(78932),i=n(66621),o=n(47313),d=n(63849),l=n(31616),c=n(50099),u=n(54991),h=n(46417),p=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(c.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),n}(o.Component);t.Z=p},1110:function(e,t,n){var r=n(33032),s=n(23430),a=n(78994),i=n.n(a),o=n(47313),d=n(63849),l=n(31616),c=n(93298),u=(n(89351),n(88195)),h=n.n(u),p=n(82737),f=n.n(p),Z=n(67989),m=n.n(Z),x=n(1693),j=n.n(x),v=n(87606),C=n.n(v),S=n(60823),g=n.n(S),y=n(44789),k=n.n(y),_=n(37417),w=n.n(_),D=(n(99086),n(68234)),N=n.n(D),L=n(87366),b=n.n(L),E=n(70021),A=n.n(E),R=n(44236),M=n.n(R),B=n(6855),z=n.n(B),F=n(51426),H=n(46417);t.Z=function(e){var t,n=(0,o.useRef)(),a=(0,o.useState)(),u=(0,s.Z)(a,2);u[0],u[1];(0,o.useEffect)((function(){return n.current||p(),function(){n.current.destroy(),n.current=null}}),[]);var p=function(){t=new(h())({holder:"editorjs",logLevel:"ERROR",data:e.editorState,onReady:function(){n.current=t},onChange:function(){var t=(0,r.Z)(i().mark((function t(n,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.saver.save().then((function(t){e.handleEditorChange(t)}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),readOnly:e.readOnly,autofocus:!0,minHeight:30,tools:{header:{class:f(),config:{placeholder:"Enter a header",levels:[2,3,4,5,6],defaultLevel:3}},list:{class:m(),inlineToolbar:["link","bold"]},Marker:{class:k()},attaches:{class:z(),config:{onRemove:function(e){return console.log(e)},uploader:{uploadByFile:function(e){return(0,r.Z)(i().mark((function t(){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),t.next=4,(0,F.Ix)(n);case 4:return r=t.sent,t.abrupt("return",{success:1,file:{url:r.data.data}});case 6:case"end":return t.stop()}}),t)})))()}}}},underline:M(),code:b(),quote:A(),table:{class:g(),inlineToolbar:!0,config:{rows:2,cols:3}},image:{class:C(),config:{onRemove:function(e){return console.log(e)},uploader:{uploadByFile:function(e){return(0,r.Z)(i().mark((function t(){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),t.next=4,(0,F.Ix)(n);case 4:return r=t.sent,t.abrupt("return",{success:1,file:{url:r.data.data}});case 6:case"end":return t.stop()}}),t)})))()},uploadByUrl:function(e){return(0,r.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{success:1,file:{url:e}});case 1:case"end":return t.stop()}}),t)})))()}}}},elimiter:N(),embed:{class:j(),inlineToolbar:!1,config:{services:{youtube:!0,coub:!0}}},inlineCode:{class:w()}}})};return(0,H.jsxs)(o.Fragment,{children:[(0,H.jsx)("div",{id:"editorjs"}),e.readOnly?(0,H.jsx)(H.Fragment,{}):(0,H.jsx)(d.Z,{children:(0,H.jsxs)(l.Z,{className:"my-0 mx-0",children:[(0,H.jsx)(c.Z,{disabled:0===e.doc_title.replace(/ /g,"").length,onClick:function(t){return e.handleClickSave(t,e.editorState)},children:"Save"}),(0,H.jsx)(c.Z,{onClick:function(t){return e.handleClickCancel(t)},children:"Cancel"})]})})]})}},43636:function(){}}]);