"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[4778],{50099:function(e,r,t){var a=t(35531),n=t(27853),s=t(84531),i=t(78932),o=t(66621),l=t(47313),d=t(58050),c=t(72880),u=t(88815),p=t(29678),m=t.n(p),h=t(54991),f=t(12401),x=t(46417),Z=function(e){(0,i.Z)(t,e);var r=(0,o.Z)(t);function t(){var e;(0,n.Z)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=r.call.apply(r,[this].concat(s))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,s.Z)(t,[{key:"render",value:function(){var e,r,t,n,s,i=this,o=[];return this.state.isOption&&(t=(0,x.jsx)("div",{className:"card-header-right",children:(0,x.jsxs)(d.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,x.jsx)(d.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,x.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,x.jsxs)(d.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,x.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,x.jsxs)("a",{href:f.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,x.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,x.jsxs)("a",{href:f.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,x.jsx)("i",{className:"feather icon-refresh-cw"}),(0,x.jsx)("a",{href:f.Z.BLANK_LINK,children:" Reload "})]}),(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,x.jsx)("i",{className:"feather icon-trash"}),(0,x.jsx)("a",{href:f.Z.BLANK_LINK,children:" Remove "})]})]})]})})),n=(0,x.jsxs)(c.Z.Header,{children:[(0,x.jsx)(c.Z.Title,{as:"h5",children:this.props.title}),t]}),this.state.fullCard&&(o=[].concat((0,a.Z)(o),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(o=[].concat((0,a.Z)(o),["card-load"]),r=(0,x.jsx)("div",{className:"card-loader",children:(0,x.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(o=[].concat((0,a.Z)(o),["d-none"])),this.props.cardClass&&(o=[].concat((0,a.Z)(o),[this.props.cardClass])),s=(0,x.jsxs)(c.Z,{className:o.join(" "),style:e,children:[n,(0,x.jsx)(u.Z,{in:!this.state.collapseCard,children:(0,x.jsx)("div",{children:(0,x.jsx)(c.Z.Body,{children:this.props.children})})}),r]}),(0,x.jsx)(h.Z,{children:s})}}]),t}(l.Component);r.Z=m()(Z)},26276:function(e,r,t){t.r(r),t.d(r,{default:function(){return S}});var a=t(27853),n=t(84531),s=t(78932),i=t(66621),o=t(47313),l=t(44030),d=t(63849),c=t(31616),u=t(54991),p=t(18489),m=t(23430),h=t(45110),f=t(86450),x=t(94611),Z=t(37062),v=t(465),j=t(93298),g=t(32441),y=t(95364),_=t(72880),N=t(51426),b=t(65777),C=t(46417);function w(e){var r=e.column,t=r.filterValue,a=r.preFilteredRows,n=r.setFilter,s=a.length;return(0,C.jsx)("input",{value:t||"",onChange:function(e){n(e.target.value||void 0)},placeholder:"Search ".concat(s," records...")})}function P(e,r,t){return(0,b.Lu)(e,t,{keys:[function(e){return e.values[r]}]})}P.autoRemove=function(e){return!e};function I(e){var r=e.header,t=e.data,a=(e.userId,(0,o.useState)({success:!1,isloaded:!1,error:null,everlogin:!1,modalShowAssignWindow:!1,modalShowAssignSuccessWindow:!1})),n=(0,m.Z)(a,2),s=(n[0],n[1],(0,o.useState)({programIds:[],schools:[],program_names:[]})),i=(0,m.Z)(s,2),l=(i[0],i[1],(0,o.useState)("")),u=(0,m.Z)(l,2),f=(u[0],u[1],o.useMemo((function(){return[{Header:r,columns:[{Header:"First Name",accessor:"firstname"},{Header:"Last Name",accessor:"lastname"},{Header:"University",accessor:"school"},{Header:"Program",accessor:"program_name"},{Header:"Application Year",accessor:"application_year"},{Header:"Semester",accessor:"semester"}]}]}),[])),x=o.useMemo((function(){return{fuzzyText:P,text:function(e,r,t){return e.filter((function(e){var a=e.values[r];return void 0===a||String(a).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),g=o.useMemo((function(){return{Filter:w}}),[]),y=(0,h.useTable)({columns:f,data:t,defaultColumn:g,filterTypes:x},h.useFilters,h.useGlobalFilter,h.usePagination),_=y.getTableProps,N=y.getTableBodyProps,b=y.headerGroups,I=y.page,R=y.prepareRow,k=(y.state,y.visibleColumns,y.canPreviousPage),S=y.canNextPage,E=y.pageOptions,A=y.pageCount,L=y.gotoPage,z=y.nextPage,H=y.previousPage,O=y.setPageSize,F=(y.preGlobalFilteredRows,y.setGlobalFilter,y.toggleAllRowsSelected,y.state),K=F.pageIndex,T=F.pageSize;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(v.Z,(0,p.Z)((0,p.Z)({className:"my-0 mx-2",variant:"dark",text:"light",responsive:!0,hover:!0},_()),{},{children:[(0,C.jsx)("thead",{children:b.map((function(e){return(0,C.jsx)("tr",(0,p.Z)((0,p.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,C.jsxs)("th",(0,p.Z)((0,p.Z)({},e.getHeaderProps()),{},{children:[e.render("Header"),(0,C.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),(0,C.jsx)("tbody",(0,p.Z)((0,p.Z)({},N()),{},{children:I.map((function(e,r){return R(e),(0,C.jsx)("tr",(0,p.Z)((0,p.Z)({},e.getRowProps()),{},{children:e.cells.map((function(r,t){return(0,C.jsx)("td",(0,p.Z)((0,p.Z)({},r.getCellProps()),{},{children:0===t?(0,C.jsx)(C.Fragment,{children:r.render("Cell")}):(0,C.jsx)(Z.Z,{to:"/student-database/"+e.original._id+"/background",className:"text-info",style:{textDecoration:"none"},children:r.render("Cell")})}))}))}))}))}))]})),(0,C.jsx)("div",{className:"pagination",children:(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(c.Z,{md:1,children:(0,C.jsx)(j.Z,{size:"sm",onClick:function(){return L(0)},disabled:!k,children:"<<"})})," ",(0,C.jsx)(c.Z,{md:1,children:(0,C.jsx)(j.Z,{size:"sm",onClick:function(){return H()},disabled:!k,children:"<"})})," ",(0,C.jsx)(c.Z,{md:1,children:(0,C.jsx)(j.Z,{size:"sm",onClick:function(){return z()},disabled:!S,children:">"})})," ",(0,C.jsx)(c.Z,{md:1,children:(0,C.jsx)(j.Z,{size:"sm",onClick:function(){return L(A-1)},disabled:!S,children:">>"})})," ",(0,C.jsx)(c.Z,{md:2,children:(0,C.jsxs)("span",{className:"my-0 mx-0 text-light",children:["Page"," ",(0,C.jsxs)("strong",{children:[K+1," of ",E.length]})," "]})}),(0,C.jsx)(c.Z,{md:4,children:(0,C.jsxs)("span",{className:"my-0 mx-0 text-light",children:["| Go to page:"," ",(0,C.jsx)("input",{type:"number",defaultValue:K+1,onChange:function(e){var r=e.target.value?Number(e.target.value)-1:0;L(r)},style:{width:"100px"}})]})})," ",(0,C.jsx)(c.Z,{md:2,children:(0,C.jsx)("select",{value:T,onChange:function(e){O(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return(0,C.jsxs)("option",{value:e,children:["Show ",e]},e)}))})})]})})]})}var R=function(e){var r=(0,o.useState)({success:!1,students:null,isloaded:!1,error:null,unauthorizederror:null,everlogin:!1}),t=(0,m.Z)(r,2),a=t[0],n=t[1];if((0,o.useEffect)((function(){(0,N.mK)().then((function(e){var r=e.data,t=r.data,a=r.success;a?n((function(e){return(0,p.Z)((0,p.Z)({},e),{},{success:a,students:t,isloaded:!0})})):401===e.status||500===e.status?n((function(e){return(0,p.Z)((0,p.Z)({},e),{},{error:!0,isloaded:!0})})):403===e.status&&n((function(e){return(0,p.Z)((0,p.Z)({},e),{},{unauthorizederror:!0,isloaded:!0})}))}),(function(e){return n((function(r){return(0,p.Z)((0,p.Z)({},r),{},{error:e,isloaded:!0})}))}))}),[]),a.error)return(0,C.jsx)("div",{children:(0,C.jsx)(x.Z,{})});if(a.unauthorizederror)return(0,C.jsx)("div",{children:(0,C.jsx)(f.Z,{})});if(!a.isloaded&&!a.students)return(0,C.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,C.jsx)(l.Z,{animation:"border",role:"status",children:(0,C.jsx)("span",{className:"visually-hidden"})})});var s=[],i=[],c=[],u=[];return a.students.map((function(e){return e.applications.map((function(r){"O"===r.decided&&("O"===r.closed?("O"===r.admission&&s.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.aapplication_preference.expected_application_date,school:r.programId.school,program_name:r.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:r.programId.semester}),"X"===r.admission&&i.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.aapplication_preference.expected_application_date,school:r.programId.school,program_name:r.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:r.programId.semester}),"-"===r.admission&&c.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.application_preference.expected_application_date,school:r.programId.school,program_name:r.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:r.programId.semester})):u.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.application_preference.expected_application_date,school:r.programId.school,program_name:r.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:r.programId.semester}))}))})),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(g.Z,{defaultActiveKey:"Admissions",id:"fill-tab-example",children:[(0,C.jsx)(y.Z,{eventKey:"Admissions",title:"Admissions",className:"my-0 mx-0",children:(0,C.jsx)(d.Z,{children:(0,C.jsx)(_.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,C.jsx)(I,{header:"Admissions",data:s,userId:e.userId})})})}),(0,C.jsx)(y.Z,{eventKey:"Rejections",title:"Rejections",children:(0,C.jsx)(d.Z,{children:(0,C.jsx)(_.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,C.jsx)(I,{header:"Rejections ",data:i,userId:e.userId})})})}),(0,C.jsx)(y.Z,{eventKey:"Pending",title:"Pending",children:(0,C.jsx)(d.Z,{children:(0,C.jsx)(_.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,C.jsx)(I,{header:"Pending",data:c,userId:e.userId})})})}),(0,C.jsx)(y.Z,{eventKey:"NotClosedYet",title:"Not Closed Yet",children:(0,C.jsx)(d.Z,{children:(0,C.jsx)(_.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,C.jsx)(I,{header:"Not Closed Yet",data:u,userId:e.userId})})})})]})})},k=function(e){(0,s.Z)(t,e);var r=(0,i.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=r.call.apply(r,[this].concat(s))).state={error:null,timeouterror:null,unauthorizederror:null,isLoaded:!1,students:[],success:!1},e}return(0,n.Z)(t,[{key:"componentDidMount",value:function(){var e=this;(0,N.mK)().then((function(r){var t=r.data,a=t.data,n=t.success;n?e.setState({isLoaded:!0,students:a,success:n}):401===r.status||500===r.status?e.setState({isLoaded:!0,timeouterror:!0}):403===r.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(r){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this.state,r=e.unauthorizederror,t=e.timeouterror,a=e.isLoaded;if(t)return(0,C.jsx)("div",{children:(0,C.jsx)(x.Z,{})});if(r)return(0,C.jsx)("div",{children:(0,C.jsx)(f.Z,{})});var n={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};return a||this.state.data?this.state.success?(0,C.jsx)(u.Z,{children:(0,C.jsx)(d.Z,{children:(0,C.jsxs)(c.Z,{children:["Admin"===this.props.user.role||"Agent"===this.props.user.role||"Editor"===this.props.user.role?(0,C.jsx)(R,{students:this.state.students}):(0,C.jsx)(C.Fragment,{}),!a&&(0,C.jsx)("div",{style:n,children:(0,C.jsx)(l.Z,{animation:"border",role:"status",children:(0,C.jsx)("span",{className:"visually-hidden"})})})]})})}):void 0:(0,C.jsx)("div",{style:n,children:(0,C.jsx)(l.Z,{animation:"border",role:"status",children:(0,C.jsx)("span",{className:"visually-hidden"})})})}}]),t}(o.Component),S=k},94611:function(e,r,t){var a=t(27853),n=t(84531),s=t(78932),i=t(66621),o=t(47313),l=t(63849),d=t(31616),c=t(50099),u=t(54991),p=t(46417),m=function(e){(0,s.Z)(t,e);var r=(0,i.Z)(t);function t(){return(0,a.Z)(this,t),r.apply(this,arguments)}return(0,n.Z)(t,[{key:"render",value:function(){return(0,p.jsx)(u.Z,{children:(0,p.jsx)(l.Z,{children:(0,p.jsx)(d.Z,{children:(0,p.jsx)(c.Z,{children:"Time out error. Please login again!"})})})})}}]),t}(o.Component);r.Z=m},86450:function(e,r,t){var a=t(27853),n=t(84531),s=t(78932),i=t(66621),o=t(47313),l=t(63849),d=t(31616),c=t(50099),u=t(54991),p=t(46417),m=function(e){(0,s.Z)(t,e);var r=(0,i.Z)(t);function t(){return(0,a.Z)(this,t),r.apply(this,arguments)}return(0,n.Z)(t,[{key:"render",value:function(){return(0,p.jsx)(u.Z,{children:(0,p.jsx)(l.Z,{children:(0,p.jsx)(d.Z,{children:(0,p.jsx)(c.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),t}(o.Component);r.Z=m},60576:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];function a(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=null;return r.forEach((function(e){if(null==n){var r=e.apply(void 0,t);null!=r&&(n=r)}})),n}return(0,s.default)(a)};var a,n=t(62865),s=(a=n)&&a.__esModule?a:{default:a};e.exports=r.default},62865:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){function r(r,t,a,n,s,i){var o=n||"<<anonymous>>",l=i||a;if(null==t[a])return r?new Error("Required "+s+" `"+l+"` was not specified in `"+o+"`."):null;for(var d=arguments.length,c=Array(d>6?d-6:0),u=6;u<d;u++)c[u-6]=arguments[u];return e.apply(void 0,[t,a,o,s,l].concat(c))}var t=r.bind(null,!1);return t.isRequired=r.bind(null,!0),t},e.exports=r.default},72880:function(e,r,t){t.d(r,{Z:function(){return P}});var a=t(1368),n=t(38321),s=t(46123),i=t.n(s),o=t(47313),l=t(68524),d=t(28864),c=t(96205),u=t(85348),p=["bsPrefix","className","variant","as"],m=o.forwardRef((function(e,r){var t=e.bsPrefix,s=e.className,d=e.variant,c=e.as,u=void 0===c?"img":c,m=(0,n.Z)(e,p),h=(0,l.vE)(t,"card-img");return o.createElement(u,(0,a.Z)({ref:r,className:i()(d?h+"-"+d:h,s)},m))}));m.displayName="CardImg",m.defaultProps={variant:null};var h=m,f=["bsPrefix","className","bg","text","border","body","children","as"],x=(0,c.Z)("h5"),Z=(0,c.Z)("h6"),v=(0,d.Z)("card-body"),j=(0,d.Z)("card-title",{Component:x}),g=(0,d.Z)("card-subtitle",{Component:Z}),y=(0,d.Z)("card-link",{Component:"a"}),_=(0,d.Z)("card-text",{Component:"p"}),N=(0,d.Z)("card-header"),b=(0,d.Z)("card-footer"),C=(0,d.Z)("card-img-overlay"),w=o.forwardRef((function(e,r){var t=e.bsPrefix,s=e.className,d=e.bg,c=e.text,p=e.border,m=e.body,h=e.children,x=e.as,Z=void 0===x?"div":x,j=(0,n.Z)(e,f),g=(0,l.vE)(t,"card"),y=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:g+"-header"}}),[g]);return o.createElement(u.Z.Provider,{value:y},o.createElement(Z,(0,a.Z)({ref:r},j,{className:i()(s,g,d&&"bg-"+d,c&&"text-"+c,p&&"border-"+p)}),m?o.createElement(v,null,h):h))}));w.displayName="Card",w.defaultProps={body:!1},w.Img=h,w.Title=j,w.Subtitle=g,w.Body=v,w.Link=y,w.Text=_,w.Header=N,w.Footer=b,w.ImgOverlay=C;var P=w},85348:function(e,r,t){var a=t(47313).createContext(null);a.displayName="CardContext",r.Z=a},22868:function(e,r,t){var a,n=t(1368),s=t(38321),i=t(46123),o=t.n(i),l=t(47313),d=t(67557),c=t(59498),u=t(6280),p=["className","children"],m=((a={})[d.d0]="show",a[d.cn]="show",a),h=l.forwardRef((function(e,r){var t=e.className,a=e.children,i=(0,s.Z)(e,p),h=(0,l.useCallback)((function(e){(0,u.Z)(e),i.onEnter&&i.onEnter(e)}),[i]);return l.createElement(d.ZP,(0,n.Z)({ref:r,addEndListener:c.Z},i,{onEnter:h}),(function(e,r){return l.cloneElement(a,(0,n.Z)({},r,{className:o()("fade",t,a.props.className,m[e])}))}))}));h.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},h.displayName="Fade",r.Z=h},63849:function(e,r,t){var a=t(1368),n=t(38321),s=t(46123),i=t.n(s),o=t(47313),l=t(68524),d=["bsPrefix","className","noGutters","as"],c=["xl","lg","md","sm","xs"],u=o.forwardRef((function(e,r){var t=e.bsPrefix,s=e.className,u=e.noGutters,p=e.as,m=void 0===p?"div":p,h=(0,n.Z)(e,d),f=(0,l.vE)(t,"row"),x=f+"-cols",Z=[];return c.forEach((function(e){var r,t=h[e];delete h[e];var a="xs"!==e?"-"+e:"";null!=(r=null!=t&&"object"===typeof t?t.cols:t)&&Z.push(""+x+a+"-"+r)})),o.createElement(m,(0,a.Z)({ref:r},h,{className:i().apply(void 0,[s,f,u&&"no-gutters"].concat(Z))}))}));u.displayName="Row",u.defaultProps={noGutters:!1},r.Z=u},96205:function(e,r,t){var a=t(1368),n=t(47313),s=t(46123),i=t.n(s);r.Z=function(e){return n.forwardRef((function(r,t){return n.createElement("div",(0,a.Z)({},r,{ref:t,className:i()(r.className,e)}))}))}},94360:function(e,r,t){function a(e,r){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},a(e,r)}function n(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,a(e,r)}t.d(r,{Z:function(){return n}})}}]);