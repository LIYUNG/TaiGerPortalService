"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[5133],{89613:function(e,t,s){var n=s(27853),i=s(84531),r=s(78932),d=s(38128),a=s(47313),o=s(76935),l=s(41965),u=s(465),c=s(93298),h=s(46417),p=function(e){(0,r.Z)(s,e);var t=(0,d.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){var e=this,t=this.props.agent_list?this.props.agent_list.map((function(t,s){return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:(0,h.jsx)(o.Z.Group,{children:(0,h.jsx)(o.Z.Check,{custom:!0,type:"checkbox",name:"agent_id",defaultChecked:!!e.props.student.agents&&e.props.student.agents.findIndex((function(e){return e._id===t._id}))>-1,onChange:function(t){return e.props.handleChangeAgentlist(t)},value:t._id,id:"agent"+s+1})})}),(0,h.jsx)("td",{children:(0,h.jsxs)("h5",{className:"my-0",children:[t.lastname," ",t.firstname]})})]},s+1)})):(0,h.jsx)("tr",{children:(0,h.jsx)("h5",{className:"my-1",children:" No Agent"})});return(0,h.jsxs)(l.Z,{show:this.props.show,onHide:this.props.onHide,size:"l","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,h.jsx)(l.Z.Header,{children:(0,h.jsxs)(l.Z.Title,{id:"contained-modal-title-vcenter",children:["Agent for ",this.props.student.firstname," -"," ",this.props.student.lastname," to"]})}),(0,h.jsx)(l.Z.Body,{children:(0,h.jsx)(u.Z,{size:"sm",children:(0,h.jsx)("tbody",{children:t})})}),(0,h.jsxs)(l.Z.Footer,{children:[(0,h.jsx)(c.Z,{onClick:function(t){return e.props.submitUpdateAgentlist(t,e.props.updateAgentList,e.props.student._id)},children:"Update"}),(0,h.jsx)(c.Z,{onClick:this.props.setmodalhide,children:"Cancel"})]})]})}}]),s}(a.Component);t.Z=p},89700:function(e,t,s){var n=s(27853),i=s(84531),r=s(78932),d=s(38128),a=s(47313),o=s(41965),l=s(465),u=s(76935),c=s(93298),h=s(46417),p=function(e){(0,r.Z)(s,e);var t=(0,d.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){var e=this;return(0,h.jsxs)(o.Z,{show:this.props.show,onHide:this.props.onHide,size:"l","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,h.jsx)(o.Z.Header,{children:(0,h.jsxs)(o.Z.Title,{id:"contained-modal-title-vcenter",children:["Editor for ",this.props.student.firstname," -"," ",this.props.student.lastname]})}),(0,h.jsxs)(o.Z.Body,{children:[(0,h.jsx)("h4",{children:"Editor:"}),(0,h.jsx)(l.Z,{size:"sm",children:(0,h.jsx)("tbody",{children:this.props.editor_list?this.props.editor_list.map((function(t,s){return(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:(0,h.jsx)(u.Z.Group,{children:(0,h.jsx)(u.Z.Check,{custom:!0,type:"checkbox",name:"student_id",defaultChecked:!!e.props.student.editors&&e.props.student.editors.findIndex((function(e){return e._id===t._id}))>-1,onChange:function(t){return e.props.handleChangeEditorlist(t)},value:t._id,id:"editor"+s+1})})}),(0,h.jsx)("td",{children:(0,h.jsxs)("h5",{className:"my-0",children:[t.firstname," ",t.lastname]})})]},s+1)})):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{children:(0,h.jsx)("h5",{className:"my-0",children:" No Editor"})})})})})]}),(0,h.jsxs)(o.Z.Footer,{children:[(0,h.jsx)(c.Z,{onClick:function(t){return e.props.submitUpdateEditorlist(t,e.props.updateEditorList,e.props.student._id)},children:"Update"}),(0,h.jsx)(c.Z,{onClick:this.props.setmodalhide,children:"Cancel"})]})]})}}]),s}(a.Component);t.Z=p},35626:function(e,t,s){var n=s(27853),i=s(84531),r=s(78932),d=s(38128),a=s(47313),o=s(1590),l=s(73158),u=s(89613),c=s(89700),h=s(37062),p=s(46417),m=function(e){(0,r.Z)(s,e);var t=(0,d.Z)(s);function s(){var e;(0,n.Z)(this,s);for(var i=arguments.length,r=new Array(i),d=0;d<i;d++)r[d]=arguments[d];return(e=t.call.apply(t,[this].concat(r))).state={showAgentPage:!1,showEditorPage:!1},e.setAgentModalhide=function(){e.setState({showAgentPage:!1})},e.startEditingAgent=function(t){e.props.editAgent(t),e.setState({subpage:1,showAgentPage:!0})},e.setEditorModalhide=function(){e.setState({showEditorPage:!1})},e.startEditingEditor=function(t){e.props.editEditor(t),e.setState({subpage:2,showEditorPage:!0})},e.submitUpdateAgentlist=function(t,s,n){t.preventDefault(),e.setAgentModalhide(),e.props.submitUpdateAgentlist(t,s,n)},e.submitUpdateEditorlist=function(t,s,n){t.preventDefault(),e.setEditorModalhide(),e.props.submitUpdateEditorlist(t,s,n)},e}return(0,i.Z)(s,[{key:"render",value:function(){var e,t,s=this;return e=void 0===this.props.student.agents||0===this.props.student.agents.length?(0,p.jsx)("p",{className:"text-danger",children:"No Agent assigned"}):this.props.student.agents.map((function(e,t){return(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"mb-1 text-info",children:[e.firstname,", ",e.lastname]}),(0,p.jsx)("p",{className:"mb-0 text-muted",children:e.email})]},e._id)})),t=void 0===this.props.student.editors||0===this.props.student.editors.length?(0,p.jsx)("p",{className:"text-danger",children:"No Editor assigned"}):this.props.student.editors.map((function(e,t){return(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"mb-1 text-info",children:[e.firstname,", ",e.lastname]}),(0,p.jsx)("p",{className:"mb-0 text-muted",children:e.email})]},e._id)})),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("tr",{children:["Admin"===this.props.role&&!this.props.isArchivPage&&(0,p.jsx)("td",{children:(0,p.jsxs)(o.Z,{size:"sm",title:"Option",variant:"primary",id:"dropdown-variants-".concat(this.props.student._id),children:[(0,p.jsx)(l.Z.Item,{eventKey:"1",onClick:function(){return s.startEditingAgent(s.props.student)},children:"Edit Agent"}),(0,p.jsx)(l.Z.Item,{eventKey:"2",onClick:function(){return s.startEditingEditor(s.props.student)},children:"Edit Editor"})]},this.props.student._id)}),"Student"!==this.props.role?(0,p.jsxs)("td",{children:[(0,p.jsx)("p",{className:"mb-1",children:(0,p.jsxs)(h.Z,{to:"/student-database/"+this.props.student._id+"/background",className:"text-info",style:{textDecoration:"none"},children:[this.props.student.firstname,", ",this.props.student.lastname]})}),(0,p.jsx)("p",{className:"mb-0 text-muted",children:this.props.student.email})]}):(0,p.jsx)(p.Fragment,{}),(0,p.jsx)("td",{children:e}),(0,p.jsx)("td",{children:t})]}),"Admin"===this.props.role&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{student:this.props.student,agent_list:this.props.agent_list,show:this.state.showAgentPage,onHide:this.setAgentModalhide,setmodalhide:this.setAgentModalhide,updateAgentList:this.props.updateAgentList,handleChangeAgentlist:this.props.handleChangeAgentlist,submitUpdateAgentlist:this.submitUpdateAgentlist}),(0,p.jsx)(c.Z,{student:this.props.student,editor_list:this.props.editor_list,show:this.state.showEditorPage,onHide:this.setEditorModalhide,setmodalhide:this.setEditorModalhide,updateEditorList:this.props.updateEditorList,handleChangeEditorlist:this.props.handleChangeEditorlist,submitUpdateEditorlist:this.submitUpdateEditorlist})]})]})}}]),s}(a.Component);t.Z=m},95133:function(e,t,s){s.r(t);var n=s(18489),i=s(27853),r=s(84531),d=s(78932),a=s(38128),o=s(47313),l=s(44030),u=s(63849),c=s(31616),h=s(65832),p=s(465),m=s(68611),f=s(65487),x=s(93298),g=s(51426),j=s(37062),Z=s(75828),v=s(60257),_=s(46090),b=s(3735),S=s(59931),L=s(28979),k=s(4454),y=s(94611),F=s(86450),N=s(30843),D=s(72018),A=s(35626),w=s(51767),C=s(94395),E=s(46417),U=function(e){(0,d.Z)(s,e);var t=(0,a.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var r=arguments.length,d=new Array(r),a=0;a<r;a++)d[a]=arguments[a];return(e=t.call.apply(t,[this].concat(d))).state={isLoaded:!1,student:null,base_docs_link:null,survey_link:null,success:!1,timeouterror:null,unauthorizederror:null,error:null},e.onUpdateProfileFilefromstudent=function(t,s,i,r){(0,g.dn)(t,s,i,r).then((function(t){var s=t.data,i=s.data,r=s.success;r?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student:i,success:r,isLoaded:!0})})):401==t.status?e.setState({isLoaded:!0,timeouterror:!0}):403==t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:t})}))},e.handleGeneralDocSubmit=function(t,s,n){t.preventDefault(),e.onSubmitGeneralFile(t,t.target.files[0],s,n)},e.onSubmitGeneralFile=function(t,s,i,r){t.preventDefault();var d=new FormData;d.append("file",s),(0,g.HQ)(i,r,d).then((function(t){var s=t.data,i=s.data,r=s.success;r?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student:i,success:r,category:"",isLoaded:!0,file:""})})):401==t.status?e.setState({isLoaded:!0,timeouterror:!0}):403==t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:t})}))},e.updateDocLink=function(t,s){(0,g.xn)(t,s,"base-documents").then((function(t){var s=t.data,i=s.helper_link,r=s.success;r?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!0,base_docs_link:i,success:r})})):401==t.status?e.setState({isLoaded:!0,timeouterror:!0}):403==t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(e){}))},e.handleSubmit_AcademicBackground_root=function(t,s,i){t.preventDefault(),(0,g.zg)(s,i).then((function(t){var s=t.data,i=s.profile,r=s.data,d=s.success;d?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!0,student:(0,n.Z)((0,n.Z)({},e.student),{},{academic_background:(0,n.Z)((0,n.Z)({},e.student.academic_background),{},{university:r}),profile:i}),success:d,updateconfirmed:!0})})):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))},e.handleSubmit_Language_root=function(t,s,i){t.preventDefault(),(0,g.v2)(s,i).then((function(t){var s=t.data,i=s.profile,r=s.data,d=s.success;d?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!0,student:(0,n.Z)((0,n.Z)({},e.student),{},{academic_background:(0,n.Z)((0,n.Z)({},e.student.academic_background),{},{language:r}),profile:i}),success:d,updateconfirmed:!0})})):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))},e.onDeleteFilefromstudent=function(t,s){var i=(0,n.Z)({},e.state.student),r=i.profile.findIndex((function(e){return e.name===t}));(0,g._I)(t,s).then((function(t){var s=t.data,d=s.data,a=s.success;i.profile[r]=d,a?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:"",category:"",isLoaded:!0,student:i,success:a,deleteFileWarningModel:!1})})):401==t.status?e.setState({isLoaded:!0,timeouterror:!0}):403==t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:t})}))},e}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){var e=this;(0,g.at)(this.props.match.params.studentId).then((function(t){var s=t.data,n=s.survey_link,i=s.base_docs_link,r=s.data,d=s.success,a=n.find((function(e){return e.key===w.Wm.Grading_System}));d?e.setState({isLoaded:!0,student:r,base_docs_link:i,survey_link:a.link,success:d}):401==t.status?e.setState({isLoaded:!0,timeouterror:!0}):403==t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this;if("Admin"!==this.props.user.role&&"Agent"!==this.props.user.role&&"Editor"!==this.props.user.role)return(0,E.jsx)(C.Z,{to:"/dashboard/default"});var t=this.state,s=t.unauthorizederror,n=t.base_docs_link,i=t.timeouterror,r=t.isLoaded;if(i)return(0,E.jsx)("div",{children:(0,E.jsx)(y.Z,{})});if(s)return(0,E.jsx)("div",{children:(0,E.jsx)(F.Z,{})});if(!r&&!this.state.student)return(0,E.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,E.jsx)(l.Z,{animation:"border",role:"status",children:(0,E.jsx)("span",{className:"visually-hidden"})})});for(var d,a=Object.values(window.profile_list),o=Object.keys(window.profile_list),g={},U={},z={},P={},M=0;M<o.length;M++)g[o[M]]={status:"missing",link:"",path:""},U[o[M]]="",z[o[M]]="",P[o[M]]="";if(n)for(var I=0;I<n.length;I++)g[n[I].key].link=n[I].link;if(this.state.student.profile)for(var W=0;W<this.state.student.profile.length;W++){var G=this.state.student.profile[W].path.replace(/\\/g,"/");"uploaded"===this.state.student.profile[W].status?(g[this.state.student.profile[W].name].status="uploaded",g[this.state.student.profile[W].name].path=G.split("/")[1]):"accepted"===this.state.student.profile[W].status?(g[this.state.student.profile[W].name].status="accepted",g[this.state.student.profile[W].name].path=G.split("/")[1]):"rejected"===this.state.student.profile[W].status?(g[this.state.student.profile[W].name].status="rejected",g[this.state.student.profile[W].name].path=G.split("/")[1]):"notneeded"===this.state.student.profile[W].status?g[this.state.student.profile[W].name].status="notneeded":"missing"===this.state.student.profile[W].status&&(g[this.state.student.profile[W].name].status="missing"),U[this.state.student.profile[W].name]=this.state.student.profile[W].feedback?this.state.student.profile[W].feedback:"",z[this.state.student.profile[W].name]=new Date(this.state.student.profile[W].updatedAt).toLocaleDateString(),P[this.state.student.profile[W].name]=new Date(this.state.student.profile[W].updatedAt).toLocaleTimeString()}return d=o.map((function(t,s){return"uploaded"===g[t].status?(0,E.jsx)(Z.Z,{updateDocLink:e.updateDocLink,link:g[t].link,path:g[t].path,role:e.props.user.role,isLoaded:e.state.isLoaded,docName:a[s],date:z[t],time:P[t],k:t,student_id:e.state.student._id,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,SubmitGeneralFile:e.props.SubmitGeneralFile},s+1):"accepted"===g[t].status?(0,E.jsx)(v.Z,{updateDocLink:e.updateDocLink,link:g[t].link,path:g[t].path,role:e.props.user.role,isLoaded:e.state.isLoaded,docName:a[s],date:z[t],time:P[t],k:t,student_id:e.state.student._id,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,SubmitGeneralFile:e.props.SubmitGeneralFile,deleteFileWarningModel:e.props.deleteFileWarningModel},s+1):"rejected"===g[t].status?(0,E.jsx)(_.Z,{updateDocLink:e.updateDocLink,link:g[t].link,path:g[t].path,role:e.props.user.role,isLoaded:e.state.isLoaded,docName:a[s],date:z[t],time:P[t],k:t,message:U[t],student_id:e.state.student._id,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,SubmitGeneralFile:e.props.SubmitGeneralFile,deleteFileWarningModel:e.props.deleteFileWarningModel},s+1):"notneeded"===g[t].status?("Admin"===e.props.user.role||"Agent"===e.props.user.role||"Edior"===e.props.user.role)&&(0,E.jsx)(b.Z,{updateDocLink:e.updateDocLink,link:g[t].link,role:e.props.user.role,isLoaded:e.state.isLoaded,docName:a[s],date:z[t],time:P[t],k:t,student_id:e.state.student._id,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,SubmitGeneralFile:e.props.SubmitGeneralFile,deleteFileWarningModel:e.props.deleteFileWarningModel,handleGeneralDocSubmit:e.handleGeneralDocSubmit},s+1):(0,E.jsx)(S.Z,{updateDocLink:e.updateDocLink,link:g[t].link,role:e.props.user.role,isLoaded:e.state.isLoaded,docName:a[s],date:z[t],time:P[t],k:t,message:U[t],student_id:e.state.student._id,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,SubmitGeneralFile:e.SubmitGeneralFile,handleGeneralDocSubmit:e.handleGeneralDocSubmit},s+1)})),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(u.Z,{children:(0,E.jsx)(c.Z,{children:(0,E.jsx)(h.Z,{className:"my-2 mx-0",bg:"dark",text:"white",children:(0,E.jsx)(h.Z.Header,{children:(0,E.jsxs)(h.Z.Title,{className:"text-light",children:[this.state.student.firstname," ,",this.state.student.lastname]})})})})}),(0,E.jsx)(u.Z,{children:(0,E.jsx)(c.Z,{children:(0,E.jsx)(h.Z,{className:"my-1 mx-0",bg:"dark",text:"white",children:(0,E.jsx)(h.Z.Body,{children:(0,E.jsxs)(p.Z,{responsive:!0,className:"my-0 mx-0",variant:"dark",text:"light",size:"sm",children:[(0,E.jsx)("thead",{children:(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{}),"Student"===this.props.user.role||"Guest"===this.props.user.role?(0,E.jsx)(E.Fragment,{}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("th",{children:"First-, Last Name"}),(0,E.jsx)("th",{children:"#"})]}),window.programstatuslist.map((function(e,t){return(0,E.jsx)("th",{children:e.name},t)}))]})}),(0,E.jsx)("tbody",{children:(0,E.jsx)(D.Z,{role:this.props.user.role,student:this.state.student,isLoaded:this.state.isLoaded})})]})})})})}),(0,E.jsxs)(m.Z,{defaultActiveKey:this.props.match.params.tab,id:"uncontrolled-tab-example",fill:!0,justify:!0,children:[(0,E.jsxs)(f.Z,{eventKey:"profile",title:"Profile Overview",children:[(0,E.jsxs)(p.Z,{responsive:!0,className:"my-2 mx0",variant:"dark",text:"light",size:"sm",children:[(0,E.jsx)("thead",{children:(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{children:"First-, Last Name"}),(0,E.jsx)("th",{children:"Agents"}),(0,E.jsx)("th",{children:"Editors"})]})}),(0,E.jsx)("tbody",{children:(0,E.jsx)(A.Z,{student:this.state.student})})]}),(0,E.jsx)(u.Z,{children:(0,E.jsxs)(p.Z,{responsive:!0,className:"my-0 mx-0",variant:"dark",text:"light",size:"sm",children:[(0,E.jsx)("thead",{children:(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{children:"Status"}),(0,E.jsx)("th",{children:"File Name:"}),(0,E.jsx)("th",{}),(0,E.jsx)("th",{}),(0,E.jsx)("th",{children:"Feedback"}),(0,E.jsx)("th",{}),(0,E.jsx)("th",{children:"Delete"})]})}),(0,E.jsx)("tbody",{children:d})]})}),(0,E.jsx)(u.Z,{children:w.vE})]}),(0,E.jsx)(f.Z,{eventKey:"CV_ML_RL",title:"CV ML RL",children:(0,E.jsx)(h.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,E.jsx)(L.Z,{student:this.state.student,idx:0,accordionKeys:[0],singleExpandtHandler:this.singleExpandtHandler,role:this.props.user.role})})}),(0,E.jsx)(f.Z,{eventKey:"program_portal",title:"Portal",children:(0,E.jsx)(u.Z,{children:"Coming Soon!"})}),(0,E.jsx)(f.Z,{eventKey:"uni-assist",title:"Uni-Assist",children:(0,E.jsx)(u.Z,{children:(0,E.jsx)(k.Z,{student:this.state.student,role:this.props.user.role})})}),(0,E.jsx)(f.Z,{eventKey:"background",title:"Background",children:(0,E.jsx)(N.Z,{role:this.props.user.role,survey_link:this.state.survey_link,user:this.props.user,academic_background:this.state.student.academic_background,application_preference:this.state.student.application_preference,isLoaded:this.state.isLoaded,student_id:this.state.student._id,singlestudentpage_fromtaiger:!0,handleSubmit_AcademicBackground_root:this.handleSubmit_AcademicBackground_root,handleSubmit_Language_root:this.handleSubmit_Language_root,updateconfirmed:this.state.updateconfirmed})}),(0,E.jsx)(f.Z,{eventKey:"Courses_Table",title:"Courses Table",children:(0,E.jsx)(h.Z,{className:"my-0 mx-0",children:(0,E.jsx)(h.Z.Body,{children:(0,E.jsx)(u.Z,{children:(0,E.jsx)(j.Z,{to:"/my-courses/".concat(this.state.student._id.toString()),children:(0,E.jsx)(x.Z,{children:"Go to Courses Table "})})})})})})]})]})}}]),s}(o.Component);t.default=U},4454:function(e,t,s){var n=s(18489),i=s(27853),r=s(84531),d=s(78932),a=s(38128),o=s(47313),l=s(44030),u=s(63849),c=s(31616),h=s(76935),p=s(93298),m=s(65832),f=s(41965),x=s(60860),g=s(51426),j=s(57864),Z=s(37062),v=s(94611),_=s(86450),b=s(46417),S=function(e){(0,d.Z)(s,e);var t=(0,a.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var r=arguments.length,d=new Array(r),a=0;a<r;a++)d[a]=arguments[a];return(e=t.call.apply(t,[this].concat(d))).state={student_id:"",program_id:"",isLoaded:!1,student:e.props.student,timeouterror:null,unauthorizederror:null,deleteVPDFileWarningModel:!1,setAsNotNeededModel:!1},e.closeWarningWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{deleteVPDFileWarningModel:!1})}))},e.handleUniAssistDocSubmit=function(t,s,n){t.preventDefault(),e.onSubmitGeneralFile(t,t.target.files[0],s,n)},e.closesetAsNotNeededWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{setAsNotNeededModel:!1})}))},e.opensetAsNotNeededWindow=function(t,s,i){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{setAsNotNeededModel:!0,student_id:s,program_id:i})}))},e.handleSetAsNotNeeded=function(t){t.preventDefault(),(0,g.bV)(e.state.student_id,e.state.program_id).then((function(t){var s=t.data,n=s.data,i=s.success;i?e.setState({isLoaded:!0,student:n,success:i,setAsNotNeededModel:!1,student_id:"",program_id:""}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))},e.handleUniAssistDocDelete=function(t){e.setState({isLoaded:!1}),(0,g.Ws)(e.state.student_id,e.state.program_id).then((function(t){var s=t.data,i=s.data,r=s.success;r?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!0,student:i,success:r,deleteVPDFileWarningModel:!1})})):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))},e.onDeleteVPDFileWarningPopUp=function(t,s,i){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:s,program_id:i,deleteVPDFileWarningModel:!0})}))},e.handleUniAssistDocDownload=function(t,s,n){t.preventDefault(),(0,g.$Y)(s,n).then((function(t){if(200===t.status){var s=t.headers["content-disposition"].split('"')[1],n=t.data;if(0===n.size)return;var i=s.split(".");if("pdf"===(i=i.pop())){var r=window.URL.createObjectURL(new Blob([n],{type:"application/pdf"}));window.open(r)}else{var d=window.URL.createObjectURL(new Blob([n])),a=document.createElement("a");a.href=d,a.setAttribute("download",s),document.body.appendChild(a),a.click(),a.parentNode.removeChild(a)}}else 401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(e){alert("The file is not available.")}))},e.onSubmitGeneralFile=function(t,s,i,r){t.preventDefault();var d=new FormData;d.append("file",s),e.setState({isLoaded:!1}),(0,g.pJ)(i,r,d).then((function(t){var s=t.data,i=s.data,r=s.success;r?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student:i,success:r,category:"",isLoaded:!0,file:""})})):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:t})}))},e}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.student?this.setState({isLoaded:!0}):(0,g.u6)(this.props.user._id.toString()).then((function(t){var s=t.data,n=s.data,i=s.success;i?e.setState({isLoaded:!0,student:n,success:i}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.unauthorizederror,n=t.timeouterror,i=t.isLoaded;if(n)return(0,b.jsx)("div",{children:(0,b.jsx)(v.Z,{})});if(s)return(0,b.jsx)("div",{children:(0,b.jsx)(_.Z,{})});var r={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};if(!i&&!this.state.student)return(0,b.jsx)("div",{style:r,children:(0,b.jsx)(l.Z,{animation:"border",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden"})})});var d=this.state.student.applications.map((function(t,s){return(0,b.jsxs)("div",{children:["Yes-FULL"===t.programId.uni_assist&&"O"===t.decided&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Z,{children:(0,b.jsx)(Z.Z,{to:"/programs/"+t.programId._id.toString(),style:{textDecoration:"none"},children:(0,b.jsxs)("h4",{className:"text-info",children:[t.programId.school," ",t.programId.program_name," Yes-FULL"]})})}),(0,b.jsx)(u.Z,{children:t.uni_assist&&"notstarted"!==t.uni_assist.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Z,{onClick:function(s){return e.handleUniAssistDocDownload(s,e.state.student._id.toString(),t.programId._id.toString())},size:"sm",children:(0,b.jsx)(j.RFS,{size:16})}),(0,b.jsx)(p.Z,{onClick:function(s){return e.onDeleteVPDFileWarningPopUp(s,e.state.student._id.toString(),t.programId._id.toString())},size:"sm",children:(0,b.jsx)(j.VPh,{size:16})})]}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(u.Z,{children:e.state.isLoaded?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Z,{children:(0,b.jsxs)(h.Z.Group,{controlId:"formFile",children:[(0,b.jsx)(h.Z.Label,{children:(0,b.jsx)(x.lnH,{color:"lightgray",size:32})}),(0,b.jsx)(h.Z.Control,{hidden:!0,type:"file",onChange:function(s){return e.handleUniAssistDocSubmit(s,e.state.student._id.toString(),t.programId._id.toString())}})]})}),"Agent"===e.props.role||"Admin"===e.props.role&&(0,b.jsx)(c.Z,{children:"Agent"===e.props.role||"Admin"===e.props.role&&(0,b.jsx)(p.Z,{size:"sm",color:"lightgray",onClick:function(s){return e.opensetAsNotNeededWindow(s,e.state.student._id.toString(),t.programId._id.toString())},children:"Set Not Needed"})})]}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{style:r,children:(0,b.jsx)(l.Z,{className:"mx-2 my-2",animation:"border",role:"status",variant:"light",children:(0,b.jsx)("span",{className:"visually-hidden"})})})})})})})]}),"Yes-VPD"===t.programId.uni_assist&&"O"===t.decided&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Z,{children:(0,b.jsx)(Z.Z,{to:"/programs/"+t.programId._id.toString(),style:{textDecoration:"none"},children:(0,b.jsxs)("h4",{className:"text-info",children:[t.programId.school," ",t.programId.program_name," Yes-VPD"]})})}),(0,b.jsx)(u.Z,{children:t.uni_assist&&"missing"!==t.uni_assist.status&&"notstarted"!==t.uni_assist.status?t.uni_assist&&"notneeded"===t.uni_assist.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Z,{children:(0,b.jsx)("p",{className:"text-light",children:"Uni-assist is not necessary as it can be reused from another program."})}),(0,b.jsx)(c.Z,{children:(0,b.jsx)(p.Z,{size:"sm",color:"lightgray",onClick:function(s){return e.opensetAsNotNeededWindow(s,e.state.student._id.toString(),t.programId._id.toString())},children:"Set Needed"})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Z,{md:2,children:(0,b.jsx)(p.Z,{onClick:function(s){return e.handleUniAssistDocDownload(s,e.state.student._id.toString(),t.programId._id.toString())},size:"sm",children:(0,b.jsx)(j.RFS,{size:16})})}),(0,b.jsx)(c.Z,{children:(0,b.jsx)(p.Z,{onClick:function(s){return e.onDeleteVPDFileWarningPopUp(s,e.state.student._id.toString(),t.programId._id.toString())},variant:"danger",size:"sm",children:(0,b.jsx)(j.VPh,{size:16})})})]}):(0,b.jsx)(b.Fragment,{children:e.state.isLoaded?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Z,{md:1,children:(0,b.jsxs)(h.Z.Group,{controlId:"formFile",children:[(0,b.jsx)(h.Z.Label,{children:(0,b.jsx)(x.lnH,{color:"lightgray",size:32})}),(0,b.jsx)(h.Z.Control,{hidden:!0,type:"file",onChange:function(s){return e.handleUniAssistDocSubmit(s,e.state.student._id.toString(),t.programId._id.toString())}})]})}),(0,b.jsx)(c.Z,{children:"Agent"===e.props.role||"Admin"===e.props.role&&(0,b.jsx)(p.Z,{size:"sm",color:"lightgray",onClick:function(s){return e.opensetAsNotNeededWindow(s,e.state.student._id.toString(),t.programId._id.toString())},children:"Set Not Needed"})})]}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{children:(0,b.jsx)(l.Z,{animation:"border",role:"status",variant:"light",children:(0,b.jsx)("span",{className:"visually-hidden"})})})})})})]}),"No"===t.programId.uni_assist&&"O"===t.decided&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Z.Z,{to:"/programs/"+t.programId._id.toString(),style:{textDecoration:"none"},children:(0,b.jsxs)("h4",{className:"text-info",children:[t.programId.school," ",t.programId.program_name]})}),(0,b.jsx)("p",{className:"text-light",children:"This program does NOT require Uni-Assist."})]}),void 0===t.programId.uni_assist&&"O"===t.decided&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h4",{className:"text-info",children:[t.programId.school," ",t.programId.program_name," "]}),(0,b.jsx)("p",{className:"text-light",children:"This program does NOT require Uni-Assist."})]})]},s)}));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,b.jsx)(m.Z.Body,{children:d})}),(0,b.jsxs)(f.Z,{show:this.state.deleteVPDFileWarningModel,onHide:this.closeWarningWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,b.jsx)(f.Z.Header,{children:(0,b.jsx)(f.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,b.jsx)(f.Z.Body,{children:"Do you want to delete?"}),(0,b.jsxs)(f.Z.Footer,{children:[(0,b.jsx)(p.Z,{disabled:!this.state.isLoaded,onClick:function(t){return e.handleUniAssistDocDelete(t)},children:"Yes"}),(0,b.jsx)(p.Z,{onClick:this.closeWarningWindow,children:"No"})]})]}),(0,b.jsxs)(f.Z,{show:this.state.setAsNotNeededModel,onHide:this.closesetAsNotNeededWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,b.jsx)(f.Z.Header,{children:(0,b.jsx)(f.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,b.jsx)(f.Z.Body,{children:"Is VPD not necessary for this program (because other programs have already VPD and it can be reused for this)?"}),(0,b.jsxs)(f.Z.Footer,{children:[(0,b.jsx)(p.Z,{onClick:function(t){return e.handleSetAsNotNeeded(t)},children:"Yes"}),(0,b.jsx)(p.Z,{onClick:this.closesetAsNotNeededWindow,children:"No"})]})]})]})}}]),s}(o.Component);t.Z=S},1590:function(e,t,s){var n=s(18489),i=s(83738),r=s(47313),d=s(75192),a=s.n(d),o=s(73158),l=s(1683),u=s(38388),c=s(84050),h=s(46417),p=["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id","menuVariant","flip"],m={id:a().string,href:a().string,onClick:a().func,title:a().node.isRequired,disabled:a().bool,align:c.r,menuRole:a().string,renderMenuOnMount:a().bool,rootCloseEvent:a().string,menuVariant:a().oneOf(["dark"]),flip:a().bool,bsPrefix:a().string,variant:a().string,size:a().string},f=r.forwardRef((function(e,t){var s=e.title,r=e.children,d=e.bsPrefix,a=e.rootCloseEvent,c=e.variant,m=e.size,f=e.menuRole,x=e.renderMenuOnMount,g=e.disabled,j=e.href,Z=e.id,v=e.menuVariant,_=e.flip,b=(0,i.Z)(e,p);return(0,h.jsxs)(o.Z,(0,n.Z)((0,n.Z)({ref:t},b),{},{children:[(0,h.jsx)(l.Z,{id:Z,href:j,size:m,variant:c,disabled:g,childBsPrefix:d,children:s}),(0,h.jsx)(u.Z,{role:f,renderOnMount:x,rootCloseEvent:a,variant:v,flip:_,children:r})]}))}));f.displayName="DropdownButton",f.propTypes=m,t.Z=f},84050:function(e,t,s){s.d(t,{r:function(){return d}});var n=s(75192),i=s.n(n),r=i().oneOf(["start","end"]),d=i().oneOfType([r,i().shape({sm:r}),i().shape({md:r}),i().shape({lg:r}),i().shape({xl:r}),i().shape({xxl:r}),i().object])}}]);