"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[6939],{50099:function(e,t,n){var r=n(35531),s=n(27853),a=n(84531),i=n(78932),o=n(38128),l=n(47313),d=n(73158),c=n(65832),u=n(62396),h=n(29678),p=n.n(h),f=n(54991),m=n(12401),x=n(46417),Z=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,a.Z)(n,[{key:"render",value:function(){var e,t,n,s,a,i=this,o=[];return this.state.isOption&&(n=(0,x.jsx)("div",{className:"card-header-right",children:(0,x.jsxs)(d.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,x.jsx)(d.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,x.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,x.jsxs)(d.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,x.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,x.jsxs)("a",{href:m.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,x.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,x.jsxs)("a",{href:m.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,x.jsx)("i",{className:"feather icon-refresh-cw"}),(0,x.jsx)("a",{href:m.Z.BLANK_LINK,children:" Reload "})]}),(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,x.jsx)("i",{className:"feather icon-trash"}),(0,x.jsx)("a",{href:m.Z.BLANK_LINK,children:" Remove "})]})]})]})})),s=(0,x.jsxs)(c.Z.Header,{children:[(0,x.jsx)(c.Z.Title,{as:"h5",children:this.props.title}),n]}),this.state.fullCard&&(o=[].concat((0,r.Z)(o),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(o=[].concat((0,r.Z)(o),["card-load"]),t=(0,x.jsx)("div",{className:"card-loader",children:(0,x.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(o=[].concat((0,r.Z)(o),["d-none"])),this.props.cardClass&&(o=[].concat((0,r.Z)(o),[this.props.cardClass])),a=(0,x.jsxs)(c.Z,{className:o.join(" "),style:e,children:[s,(0,x.jsx)(u.Z,{in:!this.state.collapseCard,children:(0,x.jsx)("div",{children:(0,x.jsx)(c.Z.Body,{children:this.props.children})})}),t]}),(0,x.jsx)(f.Z,{children:a})}}]),n}(l.Component);t.Z=p()(Z)},86939:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var r=n(18489),s=n(35531),a=n(27853),i=n(84531),o=n(78932),l=n(38128),d=n(47313),c=n(44030),u=n(65832),h=n(63849),p=n(31616),f=n(93298),m=n(54991),x=n(94611),Z=n(86450),j=n(52500),C=n(79489),v=n(23430),k=(n(85463),n(43636),n(51426)),y=n(46417);window.Buffer=window.Buffer||n(40918).lW;var S=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.block,n=e.contentState,r=(this.props.blockProps.foo,n.getEntity(t.getEntityAt(0)).getData());return(0,y.jsxs)("div",{children:[" ",(0,y.jsx)("img",{src:r.src,alt:r.alt||"",style:{height:r.height||"auto",width:r.width||"auto"}})]})}}]),n}(d.Component);var g=function(e){var t=(0,d.useState)({editorState:null}),n=(0,v.Z)(t,2),s=n[0],a=n[1];return(0,d.useEffect)((function(){a((function(t){return(0,r.Z)((0,r.Z)({},t),{},{editorState:e.editorState})}))}),[]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(h.Z,{style:{textDecoration:"none"},children:(0,y.jsx)(p.Z,{className:"my-0 mx-0",children:(0,y.jsx)(C.Editor,{spellCheck:!0,handlePastedFiles:function(e){},blockRendererFn:function(e){if("atomic"===e.getType())return{component:S,editable:!1,props:{foo:"bar"}}},placeholder:"Write comments",editorState:s.editorState,onEditorStateChange:function(e){s.editorState.getCurrentContent().createEntity("image","IMMUTABLE",{}).getLastCreatedEntityKey();a((function(t){return(0,r.Z)((0,r.Z)({},t),{},{editorState:e})}))},wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class",toolbar:{link:{defaultTargetOption:"_blank",popupClassName:"mail-editor-link"},image:{urlEnabled:!0,uploadEnabled:!0,uploadCallback:function(e){var t=new FormData;return t.append("file",e),new Promise((function(e,n){(0,k.Ix)(t).then((function(t){e({data:{link:t.data.data}})})).catch((function(e){n(e)}))}))},alignmentEnabled:!0,defaultSize:{height:"auto",width:"auto"},alt:{present:(!0).valueOf,mandatory:!1},inputAccept:"application/pdf,text/plain,application/vnd.openxmlformatsofficedocument.wordprocessingml.document,application/msword,application/vnd.ms-excel"}}})})}),(0,y.jsx)(h.Z,{children:(0,y.jsxs)(p.Z,{className:"my-0 mx-4",children:[(0,y.jsx)(f.Z,{onClick:function(t){return e.handleClickSave(t,s.editorState)},children:"Save"}),(0,y.jsx)(f.Z,{onClick:function(t){return e.handleClickCancel(t,s.editorState)},children:"Cancel"})]})})]})},w=n(62396),N=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={timeouterror:null,unauthorizederror:null,student:e.props.student,deleteFileWarningModel:!1,SetAsFinalFileModel:!1,Requirements_Modal:!1,in_edit_mode:!1,student_id:"",doc_thread_id:"",applicationId:"",editorState:null,ConvertedContent:"",isLoaded:!1,requirements:"",file:"",isThreadExisted:!1},e.handleClickEdit=function(t){t.preventDefault(),e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{in_edit_mode:!0})}))},e.handleClickCancel=function(t){e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{in_edit_mode:!1})}))},e.handleClickSave=function(t,n){t.preventDefault();var s=JSON.stringify((0,j.convertToRaw)(n.getCurrentContent())),a={prop:e.props.item,text:s};(0,k.Pd)(a).then((function(t){var r=t.data,s=r.success;r.data;s?e.setState({success:s,editorState:n,isLoaded:!0}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status?e.setState({isLoaded:!0,unauthorizederror:!0}):400===t.status&&e.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){e.setState({error:t})})),e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{in_edit_mode:!1})}))},e.handleEditorChange=function(t){e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{editorState:t})}))},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=null;if(this.props.message){var t=(0,j.convertFromRaw)(JSON.parse(this.props.message));e=j.EditorState.createWithContent(t)}else e=j.EditorState.createEmpty();this.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{editorState:e,ConvertedContent:e,isLoaded:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.timeouterror,r=t.unauthorizederror,s=t.error,a=t.isLoaded;if(s)return(0,y.jsx)("div",{children:"Error: your session is timeout! Please refresh the page and Login"});if(n)return(0,y.jsx)("div",{children:(0,y.jsx)(x.Z,{})});if(r)return(0,y.jsx)("div",{children:(0,y.jsx)(Z.Z,{})});return a||this.state.student?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(w.Z,{in:this.props.accordionKeys[this.props.idx]===this.props.idx,children:(0,y.jsx)("div",{id:"accordion1",children:this.state.in_edit_mode?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(g,{editorState:this.state.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.handleClickCancel,role:this.props.role})}):(0,y.jsx)(u.Z.Body,{children:(0,y.jsxs)(h.Z,{children:[(0,y.jsxs)(p.Z,{sm:10,children:[(0,y.jsx)(C.Editor,{spellCheck:!0,readOnly:!0,toolbarHidden:!0,editorState:this.state.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,y.jsx)(f.Z,{onClick:function(t){return e.handleClickEdit(t)},children:"Edit"})," "]}),(0,y.jsx)(p.Z,{md:2,children:"Student"===this.props.role?this.props.student.checklist&&"finished"===this.props.student.checklist[this.props.item].status?(0,y.jsx)(f.Z,{onClick:function(t){return e.props.handleClickChangeStatus(t,e.props.student._id,e.props.item)},children:"Mark as Incomplete"}):(0,y.jsx)(f.Z,{onClick:function(t){return e.props.handleClickChangeStatus(t,e.props.student._id,e.props.item)},children:"Mark as Complete"}):(0,y.jsx)(y.Fragment,{})})]})})})})}):(0,y.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,y.jsx)(c.Z,{animation:"border",role:"status",children:(0,y.jsx)("span",{className:"visually-hidden"})})})}}]),n}(d.Component),b=N,E=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={error:null,timeouterror:null,unauthorizederror:null,isLoaded:!1,data:null,success:!1,student:null,checklists:[],file:"",expand:!0,accordionKeys:!Object.keys(window.checklist)||"Editor"!==e.props.user.role&&"Agent"!==e.props.user.role?[0]:new Array(Object.keys(window.checklist).length).fill().map((function(e,t){return t}))},e.singleExpandtHandler=function(t){var n=(0,s.Z)(e.state.accordionKeys);n[t]=n[t]!==t?t:-1,e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{accordionKeys:n})}))},e.AllCollapsetHandler=function(){var t=Object.keys(window.checklist);e.setState((function(n){return(0,r.Z)((0,r.Z)({},n),{},{expand:!1,accordionKeys:!t||"Editor"!==e.props.user.role&&"Agent"!==e.props.user.role?[-1]:new Array(t.length).fill().map((function(e,t){return-1}))})}))},e.AllExpandtHandler=function(){var t=Object.keys(window.checklist);e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{expand:!0,accordionKeys:t&&new Array(t.length).fill().map((function(e,t){return t}))})}))},e.handleClickChangeStatus=function(t,n,r){t.preventDefault(),(0,k.tM)(n,r).then((function(t){var n=t.data,r=n.success,s=n.data;r?e.setState({success:r,student:s,isLoaded:!0}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status?e.setState({isLoaded:!0,unauthorizederror:!0}):400===t.status&&e.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){e.setState({error:t})}))},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=Object.keys(window.checklist);(0,k.j7)().then((function(n){var r=n.data,s=r.data,a=r.success;a?e.setState({isLoaded:!0,checklists:s,student:e.props.user,success:a,accordionKeys:new Array(t.length).fill().map((function(e,t){return t}))}):401===n.status||500===n.status?e.setState({isLoaded:!0,timeouterror:!0}):403===n.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.unauthorizederror,r=t.timeouterror,s=t.isLoaded;t.accordionKeys;if(r)return(0,y.jsx)("div",{children:(0,y.jsx)(x.Z,{})});if(n)return(0,y.jsx)("div",{children:(0,y.jsx)(Z.Z,{})});if(!s)return(0,y.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,y.jsx)(c.Z,{animation:"border",role:"status",children:(0,y.jsx)("span",{className:"visually-hidden"})})});var a=Object.keys(window.checklist).map((function(t,n){return(0,y.jsxs)(u.Z,{className:"mb-2 mx-0",children:[(0,y.jsx)(u.Z.Header,{onClick:function(){return e.singleExpandtHandler(n)},children:(0,y.jsxs)(u.Z.Title,{"aria-controls":"accordion"+n,"aria-expanded":e.state.accordionKeys[n]===n,children:["Student"===e.props.user.role&&e.props.user.checklist[t].name,window.checklist[t]]})}),(0,y.jsx)(b,{idx:n,name:e.state.checklists.find((function(e){return e.prop===t}))&&e.state.checklists.find((function(e){return e.prop===t})).name,item:t,message:e.state.checklists.find((function(e){return e.prop===t}))&&e.state.checklists.find((function(e){return e.prop===t})).text,accordionKeys:e.state.accordionKeys,singleExpandtHandler:e.singleExpandtHandler,role:e.props.user.role,student:e.state.student,handleClickChangeStatus:e.handleClickChangeStatus})]},n)}));return(0,y.jsxs)(m.Z,{children:[(0,y.jsx)(h.Z,{className:"sticky-top ",children:(0,y.jsx)(u.Z,{className:"my-2 mx-0",bg:"dark",text:"light",children:(0,y.jsx)(u.Z.Header,{text:"dark",children:(0,y.jsx)(u.Z.Title,{children:(0,y.jsxs)(h.Z,{children:[(0,y.jsx)(p.Z,{className:"my-0 mx-0 text-light",children:"Check List"}),(0,y.jsx)(p.Z,{md:{span:2,offset:0},children:this.state.expand?(0,y.jsx)(f.Z,{className:"my-0 mx-0",size:"sm",onClick:function(){return e.AllCollapsetHandler()},children:"Collaspse1"}):(0,y.jsx)(f.Z,{className:"my-0 mx-0",size:"sm",onClick:function(){return e.AllExpandtHandler()},children:"Expand"})})]})})})})}),(0,y.jsx)(h.Z,{children:a})]})}}]),n}(d.Component),L=E},94611:function(e,t,n){var r=n(27853),s=n(84531),a=n(78932),i=n(38128),o=n(47313),l=n(63849),d=n(31616),c=n(50099),u=n(54991),h=n(46417),p=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(c.Z,{children:"Time out error. Please login again!"})})})})}}]),n}(o.Component);t.Z=p},86450:function(e,t,n){var r=n(27853),s=n(84531),a=n(78932),i=n(38128),o=n(47313),l=n(63849),d=n(31616),c=n(50099),u=n(54991),h=n(46417),p=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(c.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),n}(o.Component);t.Z=p},43636:function(){}}]);