"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[2291],{50099:function(e,t,s){var r=s(35531),n=s(27853),a=s(84531),i=s(78932),o=s(66621),d=s(47313),l=s(58050),c=s(72880),u=s(88815),h=s(29678),p=s.n(h),m=s(54991),f=s(12401),x=s(46417),Z=function(e){(0,i.Z)(s,e);var t=(0,o.Z)(s);function s(){var e;(0,n.Z)(this,s);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,a.Z)(s,[{key:"render",value:function(){var e,t,s,n,a,i=this,o=[];return this.state.isOption&&(s=(0,x.jsx)("div",{className:"card-header-right",children:(0,x.jsxs)(l.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,x.jsx)(l.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,x.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,x.jsxs)(l.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,x.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,x.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,x.jsxs)("a",{href:f.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,x.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,x.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,x.jsxs)("a",{href:f.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,x.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,x.jsx)("i",{className:"feather icon-refresh-cw"}),(0,x.jsx)("a",{href:f.Z.BLANK_LINK,children:" Reload "})]}),(0,x.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,x.jsx)("i",{className:"feather icon-trash"}),(0,x.jsx)("a",{href:f.Z.BLANK_LINK,children:" Remove "})]})]})]})})),n=(0,x.jsxs)(c.Z.Header,{children:[(0,x.jsx)(c.Z.Title,{as:"h5",children:this.props.title}),s]}),this.state.fullCard&&(o=[].concat((0,r.Z)(o),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(o=[].concat((0,r.Z)(o),["card-load"]),t=(0,x.jsx)("div",{className:"card-loader",children:(0,x.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(o=[].concat((0,r.Z)(o),["d-none"])),this.props.cardClass&&(o=[].concat((0,r.Z)(o),[this.props.cardClass])),a=(0,x.jsxs)(c.Z,{className:o.join(" "),style:e,children:[n,(0,x.jsx)(u.Z,{in:!this.state.collapseCard,children:(0,x.jsx)("div",{children:(0,x.jsx)(c.Z.Body,{children:this.props.children})})}),t]}),(0,x.jsx)(m.Z,{children:a})}}]),s}(d.Component);t.Z=p()(Z)},52291:function(e,t,s){s.r(t),s.d(t,{default:function(){return R}});var r=s(27853),n=s(84531),a=s(78932),i=s(66621),o=s(47313),d=s(44030),l=s(63849),c=s(31616),u=s(72880),h=s(54991),p=s(35531),m=s(465),f=s(1590),x=s(58050),Z=s(46417),v=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"render",value:function(){var e=this;return this.props.success?(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{children:(0,Z.jsx)(f.Z,{size:"sm",title:"Option",variant:"primary",id:"dropdown-variants-".concat(this.props.user._id),children:(0,Z.jsx)(x.Z.Item,{eventKey:"2",onSelect:function(){return e.props.setModalShow(e.props.user.firstname,e.props.user.lastname,e.props.user.role,e.props.user._id)},children:"Set User as..."})},this.props.user._id)}),this.props.header.map((function(t,s){return(0,Z.jsx)("td",{children:e.props.user[t.prop]},s)}))]},this.props.user._id):(0,Z.jsx)(Z.Fragment,{})}}]),s}(o.Component),j=v,g=s(64212),y=s(83109),_=s(93298),C=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){var e;(0,r.Z)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={data:[]},e}return(0,n.Z)(s,[{key:"render",value:function(){var e=this;return(0,Z.jsxs)(g.Z,{show:this.props.show,onHide:this.props.setModalHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,Z.jsx)(g.Z.Header,{children:(0,Z.jsxs)(g.Z.Title,{id:"contained-modal-title-vcenter",children:["Assign ",this.props.firstname," - ",this.props.lastname," as"]})}),(0,Z.jsx)(g.Z.Body,{children:(0,Z.jsx)("table",{children:(0,Z.jsx)("tbody",{children:["Guest","Student","Editor","Agent","Admin"].map((function(t,s){return(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{children:(0,Z.jsx)(y.Z.Group,{children:(0,Z.jsx)(y.Z.Check,{custom:!0,type:"radio",name:"user_role",defaultChecked:e.props.selected_user_role===t,id:t,value:t,onChange:e.props.handleChange2})})}),(0,Z.jsx)("td",{children:(0,Z.jsx)("h4",{className:"mb-1",children:t})})]},s+1)}))})})}),(0,Z.jsxs)(g.Z.Footer,{children:[(0,Z.jsx)(_.Z,{onClick:function(t){return e.props.onSubmit2(t)},children:"Assign"}),(0,Z.jsx)(_.Z,{onClick:this.props.setModalHide,children:"Cancel"})]})]})}}]),s}(o.Component),w=C,S=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"render",value:function(){var e=this;return(0,Z.jsxs)(g.Z,{show:this.props.deleteUserWarning,onHide:this.props.setModalHideDDelete,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,Z.jsx)(g.Z.Header,{closeButton:!0,children:(0,Z.jsx)(g.Z.Title,{children:"Warning"})}),(0,Z.jsx)(g.Z.Body,{children:(0,Z.jsxs)("h5",{children:["Do you want to delete ",this.props.firstname," - ",this.props.lastname,"?"]})}),(0,Z.jsxs)(g.Z.Footer,{children:[(0,Z.jsx)(_.Z,{variant:"primary",onClick:function(){return e.props.RemoveUserHandler3(e.props.selected_user_id)},children:"Yes"}),(0,Z.jsx)(_.Z,{variant:"secondary",onClick:this.props.setModalHideDDelete,children:"No"})]})]})}}]),s}(o.Component),b=S,N=s(94611),E=s(86450),M=s(51426),L=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){var e;(0,r.Z)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={modalShow:!1,timeouterror:null,unauthorizederror:null,firstname:"",lastname:"",selected_user_role:"",selected_user_id:"",data:e.props.user,modalShowNewProgram:!1,deleteUserWarning:!1,success:e.props.success},e.setModalShow=function(t,s,r,n){e.setState({modalShow:!0,firstname:t,lastname:s,selected_user_role:r,selected_user_id:n})},e.setModalHide=function(){e.setState({modalShow:!1})},e.setModalHideDDelete=function(){e.setState({deleteUserWarning:!1})},e.setModalShowDelete=function(t,s,r){e.setState({deleteUserWarning:!0,firstname:t,lastname:s,selected_user_id:r})},e.handleChange2=function(t){var s=t.target.value;e.setState((function(e){return{selected_user_role:s}}))},e.deleteUser=function(t){var s=(0,p.Z)(e.state.data),r=e.state.data.findIndex((function(e){return e._id===t}));-1!==r&&s.splice(r,1),(0,M.h8)(t).then((function(t){var r=t.data.success;r?e.setState({isLoaded:!0,success:r,deleteUserWarning:!1,data:s}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:t})}))},e.assignUserAs=function(t){var s=e.state.data.map((function(e){return e._id===t._id?Object.assign(e,t):e}));(0,M.wc)(t._id,t.role).then((function(t){var r=t.data,n=(r.data,r.success);n?e.setState({modalShow:!1,isLoaded:!0,success:n,data:s}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:t})}))},e.onSubmit2=function(t){t.preventDefault();var s=e.state.selected_user_role,r=e.state.selected_user_id;e.assignUserAs({role:s,_id:r})},e.RemoveUserHandler3=function(t){e.deleteUser(t)},e}return(0,n.Z)(s,[{key:"render",value:function(){var e=this,t=this.state,s=t.unauthorizederror;if(t.timeouterror)return(0,Z.jsx)("div",{children:(0,Z.jsx)(N.Z,{})});if(s)return(0,Z.jsx)("div",{children:(0,Z.jsx)(E.Z,{})});if(this.state.success){var r=(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{children:" "}),this.props.header.map((function(e,t){return(0,Z.jsx)("th",{children:e.name},t)}))]}),n=this.state.data.map((function(t){return(0,Z.jsx)(j,{user:t,header:e.props.header,setModalShowDelete:e.setModalShowDelete,setModalShow:e.setModalShow,success:e.state.success},t._id)}));return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(m.Z,{responsive:!0,className:"my-0 mx-0",variant:"dark",text:"light",children:[(0,Z.jsx)("thead",{children:r}),(0,Z.jsx)("tbody",{children:n})]}),(0,Z.jsx)(w,{show:this.state.modalShow,setModalHide:this.setModalHide,firstname:this.state.firstname,lastname:this.state.lastname,selected_user_role:this.state.selected_user_role,selected_user_id:this.state.selected_user_id,handleChange2:this.handleChange2,onSubmit2:this.onSubmit2}),(0,Z.jsx)(b,{deleteUserWarning:this.state.deleteUserWarning,setModalHideDDelete:this.setModalHideDDelete,firstname:this.state.firstname,lastname:this.state.lastname,selected_user_id:this.state.selected_user_id,RemoveUserHandler3:this.RemoveUserHandler3})]})}return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("p",{children:"This is for Admin only."})})}}]),s}(o.Component),k=L,H=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){var e;(0,r.Z)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={error:null,timeouterror:null,role:"",isLoaded:!1,user:null,unauthorizederror:null,success:!1},e.validate=function(){var t=!1,s={firstName:"",lastName:"",username:"",email:"",password:""},r=e.state.values,n=r.username,a=r.email;return n.length<5&&(t=!0,s.username="Username needs to be atleast 5 characters long"),-1===a.indexOf("@")&&(t=!0,s.email="Requires valid email"),e.setState({errors:s}),t},e}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){var e=this;(0,M.Rf)().then((function(t){var s=t.data,r=s.data,n=s.success;n?e.setState({isLoaded:!0,user:r,success:n}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){return e.setState({isLoaded:!0,error:t})}))}},{key:"componentDidUpdate",value:function(e,t){var s=this;!1===this.state.isLoaded&&(0,M.Rf)().then((function(e){var t=e.data,r=t.data,n=t.success;n?s.setState({isLoaded:!0,user:r,success:n}):401===e.status||500===e.status?s.setState({isLoaded:!0,timeouterror:!0}):403===e.status&&s.setState({isLoaded:!0,unauthorizederror:!0})}),(function(e){return s.setState({isLoaded:!0,error:e})}))}},{key:"render",value:function(){var e=this.state,t=e.unauthorizederror,s=e.timeouterror,r=e.isLoaded,n={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};return s?(0,Z.jsx)("div",{children:(0,Z.jsx)(N.Z,{})}):t?(0,Z.jsx)("div",{children:(0,Z.jsx)(E.Z,{})}):r||this.state.data?(0,Z.jsx)(h.Z,{children:(0,Z.jsx)(l.Z,{children:(0,Z.jsxs)(c.Z,{children:[(0,Z.jsxs)(u.Z,{bg:"primary",text:"light",children:[(0,Z.jsx)(u.Z.Header,{children:(0,Z.jsx)(u.Z.Title,{className:"my-0 mx-0 text-light",children:"Users List"})}),(0,Z.jsx)(k,{success:this.state.success,user:this.state.user,onSubmit2:this.onSubmit2,header:window.UserlistHeader})]}),!this.state.isLoaded&&(0,Z.jsx)("div",{style:n,children:(0,Z.jsx)(d.Z,{animation:"border",role:"status",children:(0,Z.jsx)("span",{className:"visually-hidden"})})})]})})}):(0,Z.jsx)("div",{style:n,children:(0,Z.jsx)(d.Z,{animation:"border",role:"status",children:(0,Z.jsx)("span",{className:"visually-hidden"})})})}}]),s}(o.Component),R=H},94611:function(e,t,s){var r=s(27853),n=s(84531),a=s(78932),i=s(66621),o=s(47313),d=s(63849),l=s(31616),c=s(50099),u=s(54991),h=s(46417),p=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(c.Z,{children:"Time out error. Please login again!"})})})})}}]),s}(o.Component);t.Z=p},86450:function(e,t,s){var r=s(27853),n=s(84531),a=s(78932),i=s(66621),o=s(47313),d=s(63849),l=s(31616),c=s(50099),u=s(54991),h=s(46417),p=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(c.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),s}(o.Component);t.Z=p},88815:function(e,t,s){var r,n=s(1368),a=s(38321),i=s(46123),o=s.n(i),d=s(46988),l=s(47313),c=s(67557),u=s(59498),h=s(31207),p=s(6280),m=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],f={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function x(e,t){var s=t["offset"+e[0].toUpperCase()+e.slice(1)],r=f[e];return s+parseInt((0,d.Z)(t,r[0]),10)+parseInt((0,d.Z)(t,r[1]),10)}var Z=((r={})[c.Wj]="collapse",r[c.Ix]="collapsing",r[c.d0]="collapsing",r[c.cn]="collapse show",r),v={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:x},j=l.forwardRef((function(e,t){var s=e.onEnter,r=e.onEntering,i=e.onEntered,d=e.onExit,f=e.onExiting,v=e.className,j=e.children,g=e.dimension,y=void 0===g?"height":g,_=e.getDimensionValue,C=void 0===_?x:_,w=(0,a.Z)(e,m),S="function"===typeof y?y():y,b=(0,l.useMemo)((function(){return(0,h.Z)((function(e){e.style[S]="0"}),s)}),[S,s]),N=(0,l.useMemo)((function(){return(0,h.Z)((function(e){var t="scroll"+S[0].toUpperCase()+S.slice(1);e.style[S]=e[t]+"px"}),r)}),[S,r]),E=(0,l.useMemo)((function(){return(0,h.Z)((function(e){e.style[S]=null}),i)}),[S,i]),M=(0,l.useMemo)((function(){return(0,h.Z)((function(e){e.style[S]=C(S,e)+"px",(0,p.Z)(e)}),d)}),[d,C,S]),L=(0,l.useMemo)((function(){return(0,h.Z)((function(e){e.style[S]=null}),f)}),[S,f]);return l.createElement(c.ZP,(0,n.Z)({ref:t,addEndListener:u.Z},w,{"aria-expanded":w.role?w.in:null,onEnter:b,onEntering:N,onEntered:E,onExit:M,onExiting:L}),(function(e,t){return l.cloneElement(j,(0,n.Z)({},t,{className:o()(v,j.props.className,Z[e],"width"===S&&"width")}))}))}));j.defaultProps=v,t.Z=j},1590:function(e,t,s){var r=s(1368),n=s(38321),a=s(47313),i=s(75192),o=s.n(i),d=s(58050),l=s(1683),c=s(38388),u=["title","children","bsPrefix","rootCloseEvent","variant","size","menuAlign","menuRole","renderMenuOnMount","disabled","href","id"],h={id:o().any,href:o().string,onClick:o().func,title:o().node.isRequired,disabled:o().bool,menuAlign:c.r,menuRole:o().string,renderMenuOnMount:o().bool,rootCloseEvent:o().string,bsPrefix:o().string,variant:o().string,size:o().string},p=a.forwardRef((function(e,t){var s=e.title,i=e.children,o=e.bsPrefix,h=e.rootCloseEvent,p=e.variant,m=e.size,f=e.menuAlign,x=e.menuRole,Z=e.renderMenuOnMount,v=e.disabled,j=e.href,g=e.id,y=(0,n.Z)(e,u);return a.createElement(d.Z,(0,r.Z)({ref:t},y),a.createElement(l.Z,{id:g,href:j,size:m,variant:p,disabled:v,childBsPrefix:o},s),a.createElement(c.Z,{align:f,role:x,renderOnMount:Z,rootCloseEvent:h},i))}));p.displayName="DropdownButton",p.propTypes=h,t.Z=p},465:function(e,t,s){var r=s(1368),n=s(38321),a=s(46123),i=s.n(a),o=s(47313),d=s(68524),l=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],c=o.forwardRef((function(e,t){var s=e.bsPrefix,a=e.className,c=e.striped,u=e.bordered,h=e.borderless,p=e.hover,m=e.size,f=e.variant,x=e.responsive,Z=(0,n.Z)(e,l),v=(0,d.vE)(s,"table"),j=i()(a,v,f&&v+"-"+f,m&&v+"-"+m,c&&v+"-striped",u&&v+"-bordered",h&&v+"-borderless",p&&v+"-hover"),g=o.createElement("table",(0,r.Z)({},Z,{className:j,ref:t}));if(x){var y=v+"-responsive";return"string"===typeof x&&(y=y+"-"+x),o.createElement("div",{className:y},g)}return g}));t.Z=c}}]);