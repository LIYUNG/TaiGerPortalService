"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[1634],{36673:function(t,e,n){n.r(e);var a=n(18489),s=n(36222),r=n(27853),i=n(84531),o=n(78932),l=n(38128),c=n(47313),d=n(44030),u=n(96655),h=n(52506),p=n(51767),Z=n(66417),m=n(51426),x=n(46417),C=function(t){(0,o.Z)(n,t);var e=(0,l.Z)(n);function n(){var t,i;(0,r.Z)(this,n);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(i=e.call.apply(e,[this].concat(l))).state=(t={isLoaded:!1,success:!1,error:null,editorState:null,unauthorizederror:null},(0,s.Z)(t,"unauthorizederror",null),(0,s.Z)(t,"isEdit",!1),(0,s.Z)(t,"res_status",0),t),i.handleClickCancel=function(t){i.setState((function(t){return(0,a.Z)((0,a.Z)({},t),{},{isEdit:!i.state.isEdit})}))},i.handleClickSave=function(t,e,n,s){t.preventDefault();var r=JSON.stringify(s),o={title:n,category:e,prop:i.props.item,text:r};(0,m.D6)(i.props.match.params.documentation_id,o).then((function(t){var e=t.data,n=e.success,a=e.data,r=t.status;n?i.setState({success:n,document_title:a.title,editorState:s,isEdit:!i.state.isEdit,isLoaded:!0,res_status:r}):i.setState({isLoaded:!0,res_status:r})}),(function(t){i.setState({error:t})})),i.setState((function(t){return(0,a.Z)((0,a.Z)({},t),{},{in_edit_mode:!1})}))},i.handleClick=function(){i.setState((function(t){return(0,a.Z)((0,a.Z)({},t),{},{isEdit:!i.state.isEdit})}))},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var t=this;(0,m.CF)(this.props.match.params.documentation_id).then((function(e){var n=e.data,a=n.data,s=n.success,r=e.status;if(a||t.setState({isLoaded:!0,res_status:r}),s){var i=null;i=a.text?JSON.parse(a.text):{},i=JSON.parse(a.text),t.setState({isLoaded:!0,document_title:a.title,category:a.category,editorState:i,success:s,res_status:r})}else t.setState({isLoaded:!0,res_status:r})}),(function(e){t.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var t=this.state,e=t.res_status,n=t.editorState,a=t.isLoaded;return a||n?e>=400?(0,x.jsx)(Z.Z,{res_status:e}):this.state.isEdit?(0,x.jsx)(h.Z,{category:this.state.category,document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:a,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave}):(0,x.jsx)(u.Z,{category:this.state.category,document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:a,role:this.props.user.role,handleClick:this.handleClick}):(0,x.jsx)("div",{style:p.nT,children:(0,x.jsx)(d.Z,{animation:"border",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden"})})})}}]),n}(c.Component);e.default=C},52506:function(t,e,n){var a=n(18489),s=n(27853),r=n(84531),i=n(78932),o=n(38128),l=n(47313),c=n(65832),d=n(63849),u=n(31616),h=n(67203),p=n(31974),Z=n(51767),m=n(46417),x=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={doc_title:t.props.document_title,category:t.props.category},t.handleChange_category=function(e){e.preventDefault();var n=(0,a.Z)({},t.state.category);n=e.target.value,t.setState((function(t){return(0,a.Z)((0,a.Z)({},t),{},{category:n})}))},t.handleChange=function(e){e.preventDefault();var n=(0,a.Z)({},t.state.doc_title);n=e.target.value,t.setState((function(t){return(0,a.Z)((0,a.Z)({},t),{},{doc_title:n})}))},t.handleClickSave=function(e,n){e.preventDefault(),t.props.handleClickSave(e,t.state.category,t.state.doc_title,n)},t}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){var t=this;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(c.Z,{children:(0,m.jsxs)(c.Z.Body,{children:[" ",(0,m.jsx)(d.Z,{children:(0,m.jsx)(u.Z,{children:this.props.internal?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h4",{children:["Category:",(0,m.jsx)("b",{className:"text-danger",children:"Internal"})]}),(0,m.jsx)(h.Z.Group,{controlId:"category",children:(0,m.jsxs)(h.Z.Control,{as:"select",onChange:function(e){return t.handleChange_category(e)},defaultValue:this.props.category,children:[(0,m.jsx)("option",{value:"",children:"Select Document Category"}),Z.pD.map((function(t,e){return(0,m.jsx)("option",{value:t.key,children:t.value})}))]})})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h4",{children:["Category:",(0,m.jsx)("b",{className:"text-danger",children:"Public"})]})," ",(0,m.jsx)(h.Z.Group,{controlId:"category",children:(0,m.jsxs)(h.Z.Control,{as:"select",onChange:function(e){return t.handleChange_category(e)},defaultValue:this.props.category,children:[(0,m.jsx)("option",{value:"",children:"Select Document Category"}),Z.XA.map((function(t,e){return(0,m.jsx)("option",{value:t.key,children:t.value})}))]})})]})})})," ",(0,m.jsx)(d.Z,{children:(0,m.jsx)(u.Z,{children:(0,m.jsx)("h4",{children:(0,m.jsx)(h.Z.Group,{controlId:"document_title",children:(0,m.jsx)(h.Z.Control,{type:"text",placeholder:"Title",onChange:function(e){return t.handleChange(e)},defaultValue:this.props.document_title})})})})})," ",(0,m.jsx)(p.Z,{doc_title:this.state.doc_title,editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})]})})})}}]),n}(l.Component);e.Z=x},96655:function(t,e,n){var a=n(27853),s=n(84531),r=n(78932),i=n(38128),o=n(47313),l=n(65832),c=n(63849),d=n(31616),u=n(93298),h=n(1110),p=n(51767),Z=(n(7077),n(46417)),m=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var t=this;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(l.Z,{className:"mb-2 mx-0",children:[(0,Z.jsx)(l.Z.Header,{children:(0,Z.jsx)(l.Z.Title,{children:this.props.document_title})}),(0,Z.jsxs)(l.Z.Body,{children:[(0,Z.jsx)(h.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{md:2,children:(0,Z.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,Z.jsx)(d.Z,{md:10,children:(0,Z.jsx)("p",{className:"my-0",children:(0,p.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,Z.jsx)(u.Z,{size:"sm",onClick:function(){return t.props.handleClick()},children:"Edit"})]})]})})}}]),n}(o.Component);e.Z=m}}]);