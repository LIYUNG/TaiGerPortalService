"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[6673],{31974:function(e,t,n){n(47313);var r=n(1110),a=(n(85463),n(43636),n(63849)),s=n(31616),i=n(46417);t.Z=function(e){return(0,i.jsx)(a.Z,{style:{textDecoration:"none"},children:(0,i.jsx)(s.Z,{className:"my-0 mx-0",children:(0,i.jsx)(r.Z,{category:e.category,doc_title:e.doc_title,readOnly:!1,handleClickSave:e.handleClickSave,handleClickCancel:e.handleClickCancel,editorState:e.editorState})})})}},36673:function(e,t,n){n.r(t);var r=n(18489),a=n(36222),s=n(27853),i=n(84531),o=n(78932),l=n(38128),c=n(47313),d=n(44030),u=n(96655),h=n(52506),p=n(51767),f=n(82423),m=n(20688),x=n(51426),Z=n(46417),g=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,i;(0,s.Z)(this,n);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(i=t.call.apply(t,[this].concat(l))).state=(e={isLoaded:!1,success:!1,error:null,editorState:null,unauthorizederror:null},(0,a.Z)(e,"unauthorizederror",null),(0,a.Z)(e,"isEdit",!1),(0,a.Z)(e,"res_status",0),(0,a.Z)(e,"res_modal_message",""),(0,a.Z)(e,"res_modal_status",0),e),i.handleClickCancel=function(e){i.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isEdit:!i.state.isEdit})}))},i.handleClickSave=function(e,t,n,a){e.preventDefault();var s=JSON.stringify(a),o={title:n,category:t,prop:i.props.item,text:s};(0,x.D6)(i.props.match.params.documentation_id,o).then((function(e){var t=e.data,n=t.success,s=t.data,o=e.status;if(n)i.setState({success:n,document_title:s.title,editorState:a,isEdit:!i.state.isEdit,isLoaded:!0,res_modal_status:o});else{var l=e.data.message;i.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isLoaded:!0,res_modal_message:l,res_modal_status:o})}))}}),(function(e){i.setState({error:e})})),i.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{in_edit_mode:!1})}))},i.handleClick=function(){i.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isEdit:!i.state.isEdit})}))},i.ConfirmError=function(){i.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{res_modal_status:0,res_modal_message:""})}))},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this;(0,x.CF)(this.props.match.params.documentation_id).then((function(t){var n=t.data,r=n.data,a=n.success,s=t.status;if(r||e.setState({isLoaded:!0,res_status:s}),a){var i=null;i=r.text?JSON.parse(r.text):{},i=JSON.parse(r.text),e.setState({isLoaded:!0,document_title:r.title,category:r.category,editorState:i,success:a,res_status:s})}else e.setState({isLoaded:!0,res_status:s})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.res_status,n=e.editorState,r=e.isLoaded,a=e.res_modal_status,s=e.res_modal_message;return r||n?t>=400?(0,Z.jsx)(f.Z,{res_status:t}):this.state.isEdit?(0,Z.jsxs)(Z.Fragment,{children:[a>=400&&(0,Z.jsx)(m.Z,{ConfirmError:this.ConfirmError,res_modal_status:a,res_modal_message:s}),(0,Z.jsx)(h.Z,{category:this.state.category,document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:r,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave})]}):(0,Z.jsxs)(Z.Fragment,{children:[a>=400&&(0,Z.jsx)(m.Z,{ConfirmError:this.ConfirmError,res_modal_status:a,res_modal_message:s}),(0,Z.jsx)(u.Z,{category:this.state.category,document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:r,role:this.props.user.role,handleClick:this.handleClick})]}):(0,Z.jsx)("div",{style:p.nT,children:(0,Z.jsx)(d.Z,{animation:"border",role:"status",children:(0,Z.jsx)("span",{className:"visually-hidden"})})})}}]),n}(c.Component);t.default=g},52506:function(e,t,n){var r=n(18489),a=n(27853),s=n(84531),i=n(78932),o=n(38128),l=n(47313),c=n(65832),d=n(63849),u=n(31616),h=n(67203),p=n(31974),f=n(51767),m=n(46417),x=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={doc_title:e.props.document_title,category:e.props.category},e.handleChange_category=function(t){t.preventDefault();var n=(0,r.Z)({},e.state.category);n=t.target.value,e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{category:n})}))},e.handleChange=function(t){t.preventDefault();var n=(0,r.Z)({},e.state.doc_title);n=t.target.value,e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{doc_title:n})}))},e.handleClickSave=function(t,n){t.preventDefault(),e.props.handleClickSave(t,e.state.category,e.state.doc_title,n)},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){var e=this;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(c.Z,{children:(0,m.jsxs)(c.Z.Body,{children:[" ",(0,m.jsx)(d.Z,{children:(0,m.jsx)(u.Z,{children:this.props.internal?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h4",{children:["Category:",(0,m.jsx)("b",{className:"text-danger",children:"Internal"})]}),(0,m.jsx)(h.Z.Group,{controlId:"category",children:(0,m.jsxs)(h.Z.Control,{as:"select",onChange:function(t){return e.handleChange_category(t)},defaultValue:this.props.category,children:[(0,m.jsx)("option",{value:"",children:"Select Document Category"}),f.pD.map((function(e,t){return(0,m.jsx)("option",{value:e.key,children:e.value})}))]})})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h4",{children:["Category:",(0,m.jsx)("b",{className:"text-danger",children:"Public"})]})," ",(0,m.jsx)(h.Z.Group,{controlId:"category",children:(0,m.jsxs)(h.Z.Control,{as:"select",onChange:function(t){return e.handleChange_category(t)},defaultValue:this.props.category,children:[(0,m.jsx)("option",{value:"",children:"Select Document Category"}),f.XA.map((function(e,t){return(0,m.jsx)("option",{value:e.key,children:e.value})}))]})})]})})})," ",(0,m.jsx)(d.Z,{children:(0,m.jsx)(u.Z,{children:(0,m.jsx)("h4",{children:(0,m.jsx)(h.Z.Group,{controlId:"document_title",children:(0,m.jsx)(h.Z.Control,{type:"text",placeholder:"Title",onChange:function(t){return e.handleChange(t)},defaultValue:this.props.document_title})})})})})," ",(0,m.jsx)(p.Z,{doc_title:this.state.doc_title,editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})]})})})}}]),n}(l.Component);t.Z=x},96655:function(e,t,n){var r=n(27853),a=n(84531),s=n(78932),i=n(38128),o=n(47313),l=n(65832),c=n(63849),d=n(31616),u=n(93298),h=n(1110),p=n(51767),f=(n(7077),n(46417)),m=function(e){(0,s.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(l.Z,{className:"mb-2 mx-0",children:[(0,f.jsx)(l.Z.Header,{children:(0,f.jsx)(l.Z.Title,{children:this.props.document_title})}),(0,f.jsxs)(l.Z.Body,{children:[(0,f.jsx)(h.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(c.Z,{children:[(0,f.jsx)(d.Z,{md:2,children:(0,f.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,f.jsx)(d.Z,{md:10,children:(0,f.jsx)("p",{className:"my-0",children:(0,p.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,f.jsx)(u.Z,{size:"sm",onClick:function(){return e.props.handleClick()},children:"Edit"})]})]})})}}]),n}(o.Component);t.Z=m},1110:function(e,t,n){var r=n(33032),a=n(23430),s=n(78994),i=n.n(s),o=n(47313),l=n(63849),c=n(31616),d=n(93298),u=(n(89351),n(88195)),h=n.n(u),p=n(82737),f=n.n(p),m=n(67989),x=n.n(m),Z=n(1693),g=n.n(Z),C=n(87606),v=n.n(C),_=n(60823),y=n.n(_),j=(n(44789),n(37417)),S=n.n(j),k=n(68234),F=n.n(k),b=n(87366),E=n.n(b),w=n(70021),D=n.n(w),L=n(44236),N=n.n(L),O=n(65911),A=n.n(O),T=(n(99086),n(19893)),B=n.n(T),I=n(28668),R=n.n(I),z=n(51426),G=n(46417);t.Z=function(e){var t,n=(0,o.useRef)(),s=(0,o.useState)(e.editorState),u=(0,a.Z)(s,2),p=u[0],m=u[1],Z=(0,o.useState)(!0),C=(0,a.Z)(Z,2),_=C[0],j=C[1];(0,o.useEffect)((function(){m(e.editorState)}),[e.editorState]),(0,o.useEffect)((function(){return n.current||k(),function(){n.current.destroy(),n.current=null}}),[e.editorState]);var k=function(){t=new(h())({holder:"editorjs",logLevel:"ERROR",data:e.editorState,onReady:function(){n.current=t},onChange:function(){var e=(0,r.Z)(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!1),t.saver.save().then((function(e){m(e),j(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),readOnly:e.readOnly,autofocus:!0,minHeight:30,tools:{header:{class:f(),config:{placeholder:"Enter a header",levels:[2,3,4,5,6],defaultLevel:3},inlineToolbar:!0},list:{class:x(),inlineToolbar:!0},underline:N(),code:E(),Color:{class:B(),config:{colorCollections:["#000000","#FF0000","#00FF00","#0000FF","#999999","#00FFFF","#FF00FF","#800080","#FFF"],type:"text"}},Marker:{class:B(),config:{colorCollections:["#000000","#FF0000","#00FF00","#0000FF","#999999","#00FFFF","#FF00FF","#800080","#FFF"],defaultColor:"#FFF",type:"marker"}},textAlign:R(),attaches:{class:A(),config:{uploader:{uploadByFile:function(e){return(0,r.Z)(i().mark((function t(){var n,r,a,s,o,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),t.next=4,(0,z.w_)(n);case 4:if(r=t.sent,a=r.data,s=a.url,o=a.title,l=a.extension,!a.success){t.next=10;break}return t.abrupt("return",{success:1,file:{url:s,title:o,extension:l}});case 10:alert(r.data.message);case 11:case"end":return t.stop()}}),t)})))()}}}},quote:D(),table:{class:y(),inlineToolbar:!0,config:{rows:2,cols:3}},image:{class:v(),config:{uploader:{uploadByFile:function(e){return(0,r.Z)(i().mark((function t(){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),t.next=4,(0,z.Ix)(n);case 4:return r=t.sent,t.abrupt("return",{success:1,file:{url:r.data.data}});case 6:case"end":return t.stop()}}),t)})))()},uploadByUrl:function(e){return(0,r.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{success:1,file:{url:e}});case 1:case"end":return t.stop()}}),t)})))()}}}},elimiter:F(),embed:{class:g(),inlineToolbar:!1,config:{services:{youtube:!0,coub:!0}}},inlineCode:{class:S()}}})};return(0,G.jsxs)(o.Fragment,{children:[(0,G.jsx)("div",{id:"editorjs"}),e.readOnly?(0,G.jsx)(G.Fragment,{}):(0,G.jsx)(l.Z,{children:(0,G.jsxs)(c.Z,{className:"my-0 mx-0",children:[(0,G.jsx)(d.Z,{disabled:!_||0===e.doc_title.replace(/ /g,"").length||""===e.category||!p.blocks||0===p.blocks.length,onClick:function(t){return e.handleClickSave(t,p)},children:"Save"}),(0,G.jsx)(d.Z,{onClick:function(t){return e.handleClickCancel(t)},children:"Cancel"})]})})]})}},43636:function(){}}]);