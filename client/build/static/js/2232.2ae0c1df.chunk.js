"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[2232],{92634:function(t,e,a){var r=a(18489),n=a(27853),s=a(84531),i=a(78932),o=a(66621),d=a(47313),c=a(72880),l=a(31974),u=a(46417),h=function(t){(0,i.Z)(a,t);var e=(0,o.Z)(a);function a(){var t;(0,n.Z)(this,a);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={doc_title:t.props.document_title},t.handleChange=function(e){e.preventDefault();var a=(0,r.Z)({},t.state.doc_title);a=e.target.value,t.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{doc_title:a})}))},t.handleClickSave=function(e,a){e.preventDefault(),t.props.handleClickSave(e,t.state.doc_title,a)},t}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(c.Z,{children:(0,u.jsx)(c.Z.Body,{children:(0,u.jsx)(l.Z,{category:this.props.category,doc_title:"not_used",editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})})})})}}]),a}(d.Component);e.Z=h},51025:function(t,e,a){var r=a(27853),n=a(84531),s=a(78932),i=a(66621),o=a(47313),d=a(72880),c=a(63849),l=a(31616),u=a(93298),h=(a(79489),a(1110)),p=a(51767),m=a(46417),f=function(t){(0,s.Z)(a,t);var e=(0,i.Z)(a);function a(){return(0,r.Z)(this,a),e.apply(this,arguments)}return(0,n.Z)(a,[{key:"render",value:function(){var t=this;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(d.Z,{className:"mb-2 mx-0",children:(0,m.jsxs)(d.Z.Body,{children:[(0,m.jsx)(h.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(c.Z,{children:[(0,m.jsx)(l.Z,{md:2,children:(0,m.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,m.jsx)(l.Z,{md:10,children:(0,m.jsx)("p",{className:"my-0",children:(0,p.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(u.Z,{size:"sm",onClick:function(){return t.props.handleClick()},children:"Edit"})]})})})}}]),a}(o.Component);e.Z=f},15253:function(t,e,a){a.r(e);var r=a(18489),n=a(36222),s=a(27853),i=a(84531),o=a(78932),d=a(66621),c=a(47313),l=a(44030),u=(a(52500),a(51426)),h=a(51025),p=a(92634),m=a(94611),f=a(86450),v=a(29021),Z=a(46417),x=function(t){(0,o.Z)(a,t);var e=(0,d.Z)(a);function a(){var t,i;(0,s.Z)(this,a);for(var o=arguments.length,d=new Array(o),c=0;c<o;c++)d[c]=arguments[c];return(i=e.call.apply(e,[this].concat(d))).state=(t={isLoaded:!1,success:!1,error:null,editorState:null,unauthorizederror:null},(0,n.Z)(t,"unauthorizederror",null),(0,n.Z)(t,"isEdit",!1),t),i.handleClickCancel=function(t){i.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{isEdit:!i.state.isEdit})}))},i.handleClickSave=function(t,e,a){t.preventDefault();var n=JSON.stringify(a),s={category:i.props.match.params.category,title:e,prop:i.props.item,text:n};(0,u.Y0)(i.props.match.params.category,s).then((function(t){var e=t.data,r=e.success,n=e.data;r?i.setState({success:r,document_title:n.title,editorState:a,isEdit:!i.state.isEdit,isLoaded:!0}):401===t.status||500===t.status?i.setState({isLoaded:!0,timeouterror:!0}):403===t.status?i.setState({isLoaded:!0,unauthorizederror:!0}):(t.status,i.setState({isLoaded:!0,pagenotfounderror:!0}))}),(function(t){i.setState({error:t})})),i.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{in_edit_mode:!1})}))},i.handleClick=function(){i.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{isEdit:!i.state.isEdit})}))},i}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){var t=this;(0,u.go)(this.props.match.params.category).then((function(e){var a=e.data,r=a.data,n=a.success;if(n){var s=null;s=r.text?JSON.parse(r.text):{time:new Date,blocks:[]},t.setState({isLoaded:!0,editorState:s,success:n})}else 401===e.status||500===e.status?t.setState({isLoaded:!0,timeouterror:!0}):403===e.status?t.setState({isLoaded:!0,unauthorizederror:!0}):t.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(e){t.setState({isLoaded:!0,error:!0})}))}},{key:"componentDidUpdate",value:function(t,e){var a=this;t.match.params.category!==this.props.match.params.category&&(0,u.go)(this.props.match.params.category).then((function(t){var e=t.data,r=e.data,n=e.success;if(n){var s=null;s=r.text?JSON.parse(r.text):{time:new Date,blocks:[]},a.setState({isLoaded:!0,editorState:s,success:n})}else 401===t.status||500===t.status?a.setState({isLoaded:!0,timeouterror:!0}):403===t.status?a.setState({isLoaded:!0,unauthorizederror:!0}):a.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){a.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var t=this.state,e=t.unauthorizederror,a=t.timeouterror,r=t.pagenotfounderror,n=(t.error,t.editorState),s=t.isLoaded;if(a)return(0,Z.jsx)("div",{children:(0,Z.jsx)(m.Z,{})});if(e)return(0,Z.jsx)("div",{children:(0,Z.jsx)(f.Z,{})});if(r)return(0,Z.jsx)("div",{children:(0,Z.jsx)(v.Z,{})});return s||n?this.state.isEdit?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(p.Z,{category:"category",document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:s,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave})}):(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(h.Z,{document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:s,role:this.props.user.role,handleClick:this.handleClick})}):(0,Z.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,Z.jsx)(l.Z,{animation:"border",role:"status",children:(0,Z.jsx)("span",{className:"visually-hidden"})})})}}]),a}(c.Component);e.default=x},72880:function(t,e,a){a.d(e,{Z:function(){return N}});var r=a(1368),n=a(38321),s=a(46123),i=a.n(s),o=a(47313),d=a(68524),c=a(28864),l=a(96205),u=a(85348),h=["bsPrefix","className","variant","as"],p=o.forwardRef((function(t,e){var a=t.bsPrefix,s=t.className,c=t.variant,l=t.as,u=void 0===l?"img":l,p=(0,n.Z)(t,h),m=(0,d.vE)(a,"card-img");return o.createElement(u,(0,r.Z)({ref:e,className:i()(c?m+"-"+c:m,s)},p))}));p.displayName="CardImg",p.defaultProps={variant:null};var m=p,f=["bsPrefix","className","bg","text","border","body","children","as"],v=(0,l.Z)("h5"),Z=(0,l.Z)("h6"),x=(0,c.Z)("card-body"),S=(0,c.Z)("card-title",{Component:v}),C=(0,c.Z)("card-subtitle",{Component:Z}),y=(0,c.Z)("card-link",{Component:"a"}),g=(0,c.Z)("card-text",{Component:"p"}),k=(0,c.Z)("card-header"),j=(0,c.Z)("card-footer"),b=(0,c.Z)("card-img-overlay"),_=o.forwardRef((function(t,e){var a=t.bsPrefix,s=t.className,c=t.bg,l=t.text,h=t.border,p=t.body,m=t.children,v=t.as,Z=void 0===v?"div":v,S=(0,n.Z)(t,f),C=(0,d.vE)(a,"card"),y=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:C+"-header"}}),[C]);return o.createElement(u.Z.Provider,{value:y},o.createElement(Z,(0,r.Z)({ref:e},S,{className:i()(s,C,c&&"bg-"+c,l&&"text-"+l,h&&"border-"+h)}),p?o.createElement(x,null,m):m))}));_.displayName="Card",_.defaultProps={body:!1},_.Img=m,_.Title=S,_.Subtitle=C,_.Body=x,_.Link=y,_.Text=g,_.Header=k,_.Footer=j,_.ImgOverlay=b;var N=_},85348:function(t,e,a){var r=a(47313).createContext(null);r.displayName="CardContext",e.Z=r},63849:function(t,e,a){var r=a(1368),n=a(38321),s=a(46123),i=a.n(s),o=a(47313),d=a(68524),c=["bsPrefix","className","noGutters","as"],l=["xl","lg","md","sm","xs"],u=o.forwardRef((function(t,e){var a=t.bsPrefix,s=t.className,u=t.noGutters,h=t.as,p=void 0===h?"div":h,m=(0,n.Z)(t,c),f=(0,d.vE)(a,"row"),v=f+"-cols",Z=[];return l.forEach((function(t){var e,a=m[t];delete m[t];var r="xs"!==t?"-"+t:"";null!=(e=null!=a&&"object"===typeof a?a.cols:a)&&Z.push(""+v+r+"-"+e)})),o.createElement(p,(0,r.Z)({ref:e},m,{className:i().apply(void 0,[s,f,u&&"no-gutters"].concat(Z))}))}));u.displayName="Row",u.defaultProps={noGutters:!1},e.Z=u},96205:function(t,e,a){var r=a(1368),n=a(47313),s=a(46123),i=a.n(s);e.Z=function(t){return n.forwardRef((function(e,a){return n.createElement("div",(0,r.Z)({},e,{ref:a,className:i()(e.className,t)}))}))}},85463:function(){}}]);