"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[856],{50099:function(e,t,n){var r=n(35531),s=n(27853),a=n(84531),i=n(78932),l=n(38128),o=n(47313),c=n(73158),d=n(65832),u=n(62396),h=n(29678),p=n.n(h),f=n(54991),Z=n(12401),x=n(46417),m=function(e){(0,i.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,a.Z)(n,[{key:"render",value:function(){var e,t,n,s,a,i=this,l=[];return this.state.isOption&&(n=(0,x.jsx)("div",{className:"card-header-right",children:(0,x.jsxs)(c.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,x.jsx)(c.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,x.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,x.jsxs)(c.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,x.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,x.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,x.jsxs)("a",{href:Z.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,x.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,x.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,x.jsxs)("a",{href:Z.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,x.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,x.jsx)("i",{className:"feather icon-refresh-cw"}),(0,x.jsx)("a",{href:Z.Z.BLANK_LINK,children:" Reload "})]}),(0,x.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,x.jsx)("i",{className:"feather icon-trash"}),(0,x.jsx)("a",{href:Z.Z.BLANK_LINK,children:" Remove "})]})]})]})})),s=(0,x.jsxs)(d.Z.Header,{children:[(0,x.jsx)(d.Z.Title,{as:"h5",children:this.props.title}),n]}),this.state.fullCard&&(l=[].concat((0,r.Z)(l),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(l=[].concat((0,r.Z)(l),["card-load"]),t=(0,x.jsx)("div",{className:"card-loader",children:(0,x.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(l=[].concat((0,r.Z)(l),["d-none"])),this.props.cardClass&&(l=[].concat((0,r.Z)(l),[this.props.cardClass])),a=(0,x.jsxs)(d.Z,{className:l.join(" "),style:e,children:[s,(0,x.jsx)(u.Z,{in:!this.state.collapseCard,children:(0,x.jsx)("div",{children:(0,x.jsx)(d.Z.Body,{children:this.props.children})})}),t]}),(0,x.jsx)(f.Z,{children:a})}}]),n}(o.Component);t.Z=p()(m)},31974:function(e,t,n){n(47313);var r=n(1110),s=(n(85463),n(43636),n(63849)),a=n(31616),i=n(46417);t.Z=function(e){return(0,i.jsx)(s.Z,{style:{textDecoration:"none"},children:(0,i.jsx)(a.Z,{className:"my-0 mx-0",children:(0,i.jsx)(r.Z,{category:e.category,doc_title:e.doc_title,readOnly:!1,handleClickSave:e.handleClickSave,handleClickCancel:e.handleClickCancel,editorState:e.editorState})})})}},52506:function(e,t,n){var r=n(18489),s=n(27853),a=n(84531),i=n(78932),l=n(38128),o=n(47313),c=n(65832),d=n(63849),u=n(31616),h=n(67203),p=n(31974),f=n(51767),Z=n(46417),x=function(e){(0,i.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={doc_title:e.props.document_title,category:e.props.category},e.handleChange_category=function(t){t.preventDefault();var n=(0,r.Z)({},e.state.category);n=t.target.value,e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{category:n})}))},e.handleChange=function(t){t.preventDefault();var n=(0,r.Z)({},e.state.doc_title);n=t.target.value,e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{doc_title:n})}))},e.handleClickSave=function(t,n){t.preventDefault(),e.props.handleClickSave(t,e.state.category,e.state.doc_title,n)},e}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){var e=this;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(c.Z,{children:(0,Z.jsxs)(c.Z.Body,{children:[" ",(0,Z.jsx)(d.Z,{children:(0,Z.jsx)(u.Z,{children:this.props.internal?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:["Category:",(0,Z.jsx)("b",{className:"text-danger",children:"Internal"})]}),(0,Z.jsx)(h.Z.Group,{controlId:"category",children:(0,Z.jsxs)(h.Z.Control,{as:"select",onChange:function(t){return e.handleChange_category(t)},defaultValue:this.props.category,children:[(0,Z.jsx)("option",{value:"",children:"Select Document Category"}),f.pD.map((function(e,t){return(0,Z.jsx)("option",{value:e.key,children:e.value})}))]})})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:["Category:",(0,Z.jsx)("b",{className:"text-danger",children:"Public"})]})," ",(0,Z.jsx)(h.Z.Group,{controlId:"category",children:(0,Z.jsxs)(h.Z.Control,{as:"select",onChange:function(t){return e.handleChange_category(t)},defaultValue:this.props.category,children:[(0,Z.jsx)("option",{value:"",children:"Select Document Category"}),f.XA.map((function(e,t){return(0,Z.jsx)("option",{value:e.key,children:e.value})}))]})})]})})})," ",(0,Z.jsx)(d.Z,{children:(0,Z.jsx)(u.Z,{children:(0,Z.jsx)("h4",{children:(0,Z.jsx)(h.Z.Group,{controlId:"document_title",children:(0,Z.jsx)(h.Z.Control,{type:"text",placeholder:"Title",onChange:function(t){return e.handleChange(t)},defaultValue:this.props.document_title})})})})})," ",(0,Z.jsx)(p.Z,{doc_title:this.state.doc_title,editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})]})})})}}]),n}(o.Component);t.Z=x},96655:function(e,t,n){var r=n(27853),s=n(84531),a=n(78932),i=n(38128),l=n(47313),o=n(65832),c=n(63849),d=n(31616),u=n(93298),h=n(1110),p=n(51767),f=(n(7077),n(46417)),Z=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(o.Z,{className:"mb-2 mx-0",children:[(0,f.jsx)(o.Z.Header,{children:(0,f.jsx)(o.Z.Title,{children:this.props.document_title})}),(0,f.jsxs)(o.Z.Body,{children:[(0,f.jsx)(h.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(c.Z,{children:[(0,f.jsx)(d.Z,{md:2,children:(0,f.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,f.jsx)(d.Z,{md:10,children:(0,f.jsx)("p",{className:"my-0",children:(0,p.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,f.jsx)(u.Z,{size:"sm",onClick:function(){return e.props.handleClick()},children:"Edit"})]})]})})}}]),n}(l.Component);t.Z=Z},30856:function(e,t,n){n.r(t);var r=n(18489),s=n(27853),a=n(84531),i=n(78932),l=n(38128),o=n(47313),c=n(44030),d=n(94395),u=n(96655),h=n(52506),p=n(51767),f=n(82423),Z=n(51426),x=n(46417),m=function(e){(0,i.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={isLoaded:!1,success:!1,error:null,editorState:null,isEdit:!1,internal:!1,res_status:0},e.handleClickCancel=function(t){e.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{isEdit:!e.state.isEdit})}))},e.handleClickSave=function(t,n,s,a){t.preventDefault();var i=JSON.stringify(a),l={title:s,category:n,prop:e.props.item,text:i};(0,Z.aN)(e.props.match.params.documentation_id,l).then((function(t){var n=t.data,r=n.success,s=n.data,i=t.status;r?e.setState({success:r,document_title:s.title,editorState:a,isEdit:!e.state.isEdit,isLoaded:!0,res_status:i}):e.setState({isLoaded:!0,res_status:i})}),(function(t){e.setState({error:t})})),e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{in_edit_mode:!1})}))},e.handleClick=function(){e.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{isEdit:!e.state.isEdit})}))},e}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this;(0,Z.S6)(this.props.match.params.documentation_id).then((function(t){var n=t.data,r=n.data,s=n.success,a=t.status;if(r||e.setState({isLoaded:!0,pagenotfounderror:!0}),s){var i=null;i=r.text?JSON.parse(r.text):{},i=JSON.parse(r.text),e.setState({isLoaded:!0,document_title:r.title,category:r.category,internal:r.internal,editorState:i,success:s,res_status:a})}else e.setState({isLoaded:!0,res_status:a})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){if("Admin"!==this.props.user.role&&"Editor"!==this.props.user.role&&"Agent"!==this.props.user.role)return(0,x.jsx)(d.Z,{to:"/dashboard/default"});var e=this.state,t=e.res_status,n=e.editorState,r=e.isLoaded;return r||n?t>=400?(0,x.jsx)(f.Z,{res_status:t}):this.state.isEdit?(0,x.jsx)(h.Z,{category:this.state.category,internal:this.state.internal,document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:r,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave}):(0,x.jsx)(u.Z,{category:this.state.category,internal:this.state.internal,document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:r,role:this.props.user.role,handleClick:this.handleClick}):(0,x.jsx)("div",{style:p.nT,children:(0,x.jsx)(c.Z,{animation:"border",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden"})})})}}]),n}(o.Component);t.default=m},82423:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(27853),s=n(84531),a=n(78932),i=n(38128),l=n(47313),o=n(63849),c=n(31616),d=n(50099),u=n(54991),h=n(29021),p=n(94611),f=n(86450),Z=(n(89351),n(46417)),x=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,Z.jsx)(u.Z,{children:(0,Z.jsx)(o.Z,{children:(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(d.Z,{children:"Session is expired. Please refresh the page and login again."})})})})}}]),n}(l.Component),m=x,j=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,Z.jsx)(u.Z,{children:(0,Z.jsx)(o.Z,{children:(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(d.Z,{children:"Too many requests. Please try later."})})})})}}]),n}(l.Component),v=j,C=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,Z.jsx)(u.Z,{children:(0,Z.jsx)(o.Z,{children:(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(d.Z,{children:"The resource is locked and can not be changed."})})})})}}]),n}(l.Component),y=C,g=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return 401===this.props.res_status?(0,Z.jsx)(m,{}):403===this.props.res_status?(0,Z.jsx)(f.Z,{}):404===this.props.res_status?(0,Z.jsx)(h.Z,{}):408===this.props.res_status?(0,Z.jsx)(p.Z,{}):423===this.props.res_status?(0,Z.jsx)(y,{}):429===this.props.res_status?(0,Z.jsx)(v,{}):this.props.res_status>=500?(0,Z.jsx)(u.Z,{children:(0,Z.jsx)(o.Z,{children:(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(d.Z,{children:"Server problem. Please try later."})})})}):void 0}}]),n}(l.Component),k=g},29021:function(e,t,n){var r=n(27853),s=n(84531),a=n(78932),i=n(38128),l=n(47313),o=n(63849),c=n(31616),d=n(65832),u=n(54991),h=n(46417),p=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(o.Z,{children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(d.Z.Body,{children:(0,h.jsx)("h4",{children:"Page Not Found!"})})})})})})}}]),n}(l.Component);t.Z=p},94611:function(e,t,n){var r=n(27853),s=n(84531),a=n(78932),i=n(38128),l=n(47313),o=n(63849),c=n(31616),d=n(50099),u=n(54991),h=n(46417),p=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(o.Z,{children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(d.Z,{children:"Time out error. Please login again!"})})})})}}]),n}(l.Component);t.Z=p},86450:function(e,t,n){var r=n(27853),s=n(84531),a=n(78932),i=n(38128),l=n(47313),o=n(63849),c=n(31616),d=n(50099),u=n(54991),h=n(46417),p=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(o.Z,{children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(d.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),n}(l.Component);t.Z=p},1110:function(e,t,n){var r=n(33032),s=n(23430),a=n(78994),i=n.n(a),l=n(47313),o=n(63849),c=n(31616),d=n(93298),u=(n(89351),n(88195)),h=n.n(u),p=n(82737),f=n.n(p),Z=n(67989),x=n.n(Z),m=n(1693),j=n.n(m),v=n(87606),C=n.n(v),y=n(60823),g=n.n(y),k=(n(44789),n(37417)),S=n.n(k),_=n(68234),F=n.n(_),N=n(87366),b=n.n(N),w=n(70021),L=n.n(w),R=n(44236),A=n.n(R),E=n(65911),I=n.n(E),T=(n(99086),n(19893)),D=n.n(T),O=n(28668),B=n.n(O),H=n(51426),K=n(46417);t.Z=function(e){var t,n=(0,l.useRef)(),a=(0,l.useState)(e.editorState),u=(0,s.Z)(a,2),p=u[0],Z=u[1],m=(0,l.useState)(!0),v=(0,s.Z)(m,2),y=v[0],k=v[1];(0,l.useEffect)((function(){Z(e.editorState)}),[e.editorState]),(0,l.useEffect)((function(){return n.current||_(),function(){n.current.destroy(),n.current=null}}),[e.editorState]);var _=function(){t=new(h())({holder:"editorjs",logLevel:"ERROR",data:e.editorState,onReady:function(){n.current=t},onChange:function(){var e=(0,r.Z)(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!1),t.saver.save().then((function(e){Z(e),k(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),readOnly:e.readOnly,autofocus:!0,minHeight:30,tools:{header:{class:f(),config:{placeholder:"Enter a header",levels:[2,3,4,5,6],defaultLevel:3},inlineToolbar:!0},list:{class:x(),inlineToolbar:!0},underline:A(),code:b(),Color:{class:D(),config:{colorCollections:["#000000","#FF0000","#00FF00","#0000FF","#999999","#00FFFF","#FF00FF","#800080","#FFF"],type:"text"}},Marker:{class:D(),config:{colorCollections:["#000000","#FF0000","#00FF00","#0000FF","#999999","#00FFFF","#FF00FF","#800080","#FFF"],defaultColor:"#FFF",type:"marker"}},textAlign:B(),attaches:{class:I(),config:{uploader:{uploadByFile:function(e){return(0,r.Z)(i().mark((function t(){var n,r,s,a,l,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),t.next=4,(0,H.w_)(n);case 4:if(r=t.sent,s=r.data,a=s.url,l=s.title,o=s.extension,!s.success){t.next=10;break}return t.abrupt("return",{success:1,file:{url:a,title:l,extension:o}});case 10:alert(r.data.message);case 11:case"end":return t.stop()}}),t)})))()}}}},quote:L(),table:{class:g(),inlineToolbar:!0,config:{rows:2,cols:3}},image:{class:C(),config:{uploader:{uploadByFile:function(e){return(0,r.Z)(i().mark((function t(){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),t.next=4,(0,H.Ix)(n);case 4:return r=t.sent,t.abrupt("return",{success:1,file:{url:r.data.data}});case 6:case"end":return t.stop()}}),t)})))()},uploadByUrl:function(e){return(0,r.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{success:1,file:{url:e}});case 1:case"end":return t.stop()}}),t)})))()}}}},elimiter:F(),embed:{class:j(),inlineToolbar:!1,config:{services:{youtube:!0,coub:!0}}},inlineCode:{class:S()}}})};return(0,K.jsxs)(l.Fragment,{children:[(0,K.jsx)("div",{id:"editorjs"}),e.readOnly?(0,K.jsx)(K.Fragment,{}):(0,K.jsx)(o.Z,{children:(0,K.jsxs)(c.Z,{className:"my-0 mx-0",children:[(0,K.jsx)(d.Z,{disabled:!y||0===e.doc_title.replace(/ /g,"").length||""===e.category||!p.blocks||0===p.blocks.length,onClick:function(t){return e.handleClickSave(t,p)},children:"Save"}),(0,K.jsx)(d.Z,{onClick:function(t){return e.handleClickCancel(t)},children:"Cancel"})]})})]})}},43636:function(){}}]);