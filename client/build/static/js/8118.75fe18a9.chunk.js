"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[8118],{92634:function(e,t,r){var a=r(18489),n=r(27853),s=r(84531),i=r(78932),o=r(38128),d=r(47313),c=r(65832),l=r(31974),u=r(46417),h=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={doc_title:e.props.document_title},e.handleChange=function(t){t.preventDefault();var r=(0,a.Z)({},e.state.doc_title);r=t.target.value,e.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{doc_title:r})}))},e.handleClickSave=function(t,r){t.preventDefault(),e.props.handleClickSave(t,e.state.doc_title,r)},e}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(c.Z,{children:(0,u.jsx)(c.Z.Body,{children:(0,u.jsx)(l.Z,{category:this.props.category,doc_title:"not_used",editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})})})})}}]),r}(d.Component);t.Z=h},51025:function(e,t,r){var a=r(27853),n=r(84531),s=r(78932),i=r(38128),o=r(47313),d=r(65832),c=r(63849),l=r(31616),u=r(93298),h=r(1110),f=r(51767),p=(r(7077),r(46417)),v=function(e){(0,s.Z)(r,e);var t=(0,i.Z)(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"render",value:function(){var e=this;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(d.Z,{className:"mb-2 mx-0",children:(0,p.jsxs)(d.Z.Body,{children:[(0,p.jsx)(h.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(c.Z,{children:[(0,p.jsx)(l.Z,{md:2,children:(0,p.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,p.jsx)(l.Z,{md:10,children:(0,p.jsx)("p",{className:"my-0",children:(0,f.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,p.jsx)(u.Z,{size:"sm",onClick:function(){return e.props.handleClick()},children:"Edit"})]})})})}}]),r}(o.Component);t.Z=v},13859:function(e,t,r){r.r(t);var a=r(18489),n=r(36222),s=r(27853),i=r(84531),o=r(78932),d=r(38128),c=r(47313),l=r(44030),u=(r(52500),r(51426)),h=r(51025),f=r(92634),p=r(94611),v=r(86450),m=r(29021),Z=r(94395),x=r(46417),C=function(e){(0,o.Z)(r,e);var t=(0,d.Z)(r);function r(){var e,i;(0,s.Z)(this,r);for(var o=arguments.length,d=new Array(o),c=0;c<o;c++)d[c]=arguments[c];return(i=t.call.apply(t,[this].concat(d))).state=(e={isLoaded:!1,success:!1,error:null,editorState:null,unauthorizederror:null},(0,n.Z)(e,"unauthorizederror",null),(0,n.Z)(e,"isEdit",!1),e),i.handleClickCancel=function(e){i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isEdit:!i.state.isEdit})}))},i.handleClickSave=function(e,t,r){e.preventDefault();var n=JSON.stringify(r),s={category:"internal",title:t,prop:i.props.item,text:n};(0,u.tU)(s).then((function(e){var t=e.data,a=t.success,n=t.data;a?i.setState({success:a,document_title:n.title,editorState:r,isEdit:!i.state.isEdit,isLoaded:!0}):401===e.status||500===e.status?i.setState({isLoaded:!0,timeouterror:!0}):403===e.status?i.setState({isLoaded:!0,unauthorizederror:!0}):(e.status,i.setState({isLoaded:!0,pagenotfounderror:!0}))}),(function(e){i.setState({error:e})})),i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{in_edit_mode:!1})}))},i.handleClick=function(){i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isEdit:!i.state.isEdit})}))},i}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){var e=this;(0,u.Or)().then((function(t){var r=t.data,a=r.data,n=r.success;if(n){var s=null;s=a.text?JSON.parse(a.text):{time:new Date,blocks:[]},e.setState({isLoaded:!0,editorState:s,success:n})}else 401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status?e.setState({isLoaded:!0,unauthorizederror:!0}):e.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){if("Admin"!==this.props.user.role&&"Editor"!==this.props.user.role&&"Agent"!==this.props.user.role)return(0,x.jsx)(Z.Z,{to:"/dashboard/default"});var e=this.state,t=e.unauthorizederror,r=e.timeouterror,a=e.pagenotfounderror,n=(e.error,e.editorState),s=e.isLoaded;if(r)return(0,x.jsx)("div",{children:(0,x.jsx)(p.Z,{})});if(t)return(0,x.jsx)("div",{children:(0,x.jsx)(v.Z,{})});if(a)return(0,x.jsx)("div",{children:(0,x.jsx)(m.Z,{})});return s||n?this.state.isEdit?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(f.Z,{category:"category",document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:s,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave})}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(h.Z,{document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:s,role:this.props.user.role,handleClick:this.handleClick})}):(0,x.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,x.jsx)(l.Z,{animation:"border",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden"})})})}}]),r}(c.Component);t.default=C},65832:function(e,t,r){r.d(t,{Z:function(){return w}});var a=r(18489),n=r(83738),s=r(46123),i=r.n(s),o=r(47313),d=r(68524),c=r(28864),l=r(96205),u=r(46417),h=["bsPrefix","className","variant","as"],f=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,o=e.variant,c=e.as,l=void 0===c?"img":c,f=(0,n.Z)(e,h),p=(0,d.vE)(r,"card-img");return(0,u.jsx)(l,(0,a.Z)({ref:t,className:i()(o?"".concat(p,"-").concat(o):p,s)},f))}));f.displayName="CardImg";var p=f,v=r(15614),m=["bsPrefix","className","as"],Z=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,c=e.as,l=void 0===c?"div":c,h=(0,n.Z)(e,m),f=(0,d.vE)(r,"card-header"),p=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:f}}),[f]);return(0,u.jsx)(v.Z.Provider,{value:p,children:(0,u.jsx)(l,(0,a.Z)((0,a.Z)({ref:t},h),{},{className:i()(s,f)}))})}));Z.displayName="CardHeader";var x=Z,C=["bsPrefix","className","bg","text","border","body","children","as"],S=(0,l.Z)("h5"),j=(0,l.Z)("h6"),y=(0,c.Z)("card-body"),k=(0,c.Z)("card-title",{Component:S}),g=(0,c.Z)("card-subtitle",{Component:j}),b=(0,c.Z)("card-link",{Component:"a"}),N=(0,c.Z)("card-text",{Component:"p"}),_=(0,c.Z)("card-footer"),E=(0,c.Z)("card-img-overlay"),L=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,o=e.bg,c=e.text,l=e.border,h=e.body,f=e.children,p=e.as,v=void 0===p?"div":p,m=(0,n.Z)(e,C),Z=(0,d.vE)(r,"card");return(0,u.jsx)(v,(0,a.Z)((0,a.Z)({ref:t},m),{},{className:i()(s,Z,o&&"bg-".concat(o),c&&"text-".concat(c),l&&"border-".concat(l)),children:h?(0,u.jsx)(y,{children:f}):f}))}));L.displayName="Card",L.defaultProps={body:!1};var w=Object.assign(L,{Img:p,Title:k,Subtitle:g,Body:y,Link:b,Text:N,Header:x,Footer:_,ImgOverlay:E})},15614:function(e,t,r){var a=r(47313).createContext(null);a.displayName="CardHeaderContext",t.Z=a},63849:function(e,t,r){var a=r(18489),n=r(83738),s=r(46123),i=r.n(s),o=r(47313),d=r(68524),c=r(46417),l=["bsPrefix","className","as"],u=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,o=e.as,u=void 0===o?"div":o,h=(0,n.Z)(e,l),f=(0,d.vE)(r,"row"),p=(0,d.pi)(),v=(0,d.zG)(),m="".concat(f,"-cols"),Z=[];return p.forEach((function(e){var t,r=h[e];delete h[e],t=null!=r&&"object"===typeof r?r.cols:r;var a=e!==v?"-".concat(e):"";null!=t&&Z.push("".concat(m).concat(a,"-").concat(t))})),(0,c.jsx)(u,(0,a.Z)((0,a.Z)({ref:t},h),{},{className:i().apply(void 0,[s,f].concat(Z))}))}));u.displayName="Row",t.Z=u},96205:function(e,t,r){var a=r(18489),n=r(47313),s=r(46123),i=r.n(s),o=r(46417);t.Z=function(e){return n.forwardRef((function(t,r){return(0,o.jsx)("div",(0,a.Z)((0,a.Z)({},t),{},{ref:r,className:i()(t.className,e)}))}))}}}]);