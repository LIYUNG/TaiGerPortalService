"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[3942],{50099:function(e,t,s){var n=s(35531),r=s(27853),a=s(84531),i=s(78932),d=s(38128),o=s(47313),l=s(73158),c=s(65832),h=s(62396),u=s(29678),p=s.n(u),m=s(54991),x=s(12401),f=s(46417),Z=function(e){(0,i.Z)(s,e);var t=(0,d.Z)(s);function s(){var e;(0,r.Z)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,a.Z)(s,[{key:"render",value:function(){var e,t,s,r,a,i=this,d=[];return this.state.isOption&&(s=(0,f.jsx)("div",{className:"card-header-right",children:(0,f.jsxs)(l.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,f.jsx)(l.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,f.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,f.jsxs)(l.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,f.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,f.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,f.jsxs)("a",{href:x.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,f.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,f.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,f.jsxs)("a",{href:x.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,f.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,f.jsx)("i",{className:"feather icon-refresh-cw"}),(0,f.jsx)("a",{href:x.Z.BLANK_LINK,children:" Reload "})]}),(0,f.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,f.jsx)("i",{className:"feather icon-trash"}),(0,f.jsx)("a",{href:x.Z.BLANK_LINK,children:" Remove "})]})]})]})})),r=(0,f.jsxs)(c.Z.Header,{children:[(0,f.jsx)(c.Z.Title,{as:"h5",children:this.props.title}),s]}),this.state.fullCard&&(d=[].concat((0,n.Z)(d),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(d=[].concat((0,n.Z)(d),["card-load"]),t=(0,f.jsx)("div",{className:"card-loader",children:(0,f.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(d=[].concat((0,n.Z)(d),["d-none"])),this.props.cardClass&&(d=[].concat((0,n.Z)(d),[this.props.cardClass])),a=(0,f.jsxs)(c.Z,{className:d.join(" "),style:e,children:[r,(0,f.jsx)(h.Z,{in:!this.state.collapseCard,children:(0,f.jsx)("div",{children:(0,f.jsx)(c.Z.Body,{children:this.props.children})})}),t]}),(0,f.jsx)(m.Z,{children:a})}}]),s}(o.Component);t.Z=p()(Z)},63942:function(e,t,s){s.r(t),s.d(t,{default:function(){return pe}});var n=s(35531),r=s(18489),a=s(27853),i=s(84531),d=s(78932),o=s(38128),l=s(47313),c=s(44030),h=s(63849),u=s(65832),p=s(93298),m=s(31616),x=s(47939),f=s(37062),Z=s(54991),j=s(62396),g=s(54972),_=s(89351),v=s(33032),y=s(23430),S=s(78994),F=s.n(S),C=s(88195),b=s.n(C),N=s(82737),k=s.n(N),w=s(67989),L=s.n(w),A=s(1693),D=s.n(A),T=s(87606),H=s.n(T),R=s(60823),E=s.n(R),I=(s(44789),s(37417)),K=s.n(I),B=(s(99086),s(68234)),M=s.n(B),q=s(87366),O=s.n(q),z=s(70021),U=s.n(z),P=s(44236),V=s.n(P),W=s(19893),G=s.n(W),J=(s(6855),s(28668)),Y=s.n(J),Q=s(51426),X=s(46417),$=function(e){var t,s=(0,l.useRef)(),n=(0,l.useState)(),r=(0,y.Z)(n,2);r[0],r[1];(0,l.useEffect)((function(){return s.current||a(),function(){s.current.destroy(),s.current=null}}),[e.editorState]);var a=function(){t=new(b())({holder:"".concat(e.holder),logLevel:"ERROR",data:e.editorState,onReady:function(){s.current=t},onChange:function(){var t=(0,v.Z)(F().mark((function t(s,n){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.saver.save().then((function(t){e.handleEditorChange(t)}));case 1:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}(),readOnly:e.readOnly,autofocus:!0,minHeight:100,tools:{header:{class:k(),config:{placeholder:"Enter a header",levels:[2,3,4,5,6],defaultLevel:3},inlineToolbar:!0},list:{class:L(),inlineToolbar:!0},Marker:{class:G(),config:{colorCollections:["#000000","#FF0000","#00FF00","#0000FF","#999999","#00FFFF","#FF00FF","#800080","#FFF"],defaultColor:"#FFF",type:"marker"}},underline:V(),code:O(),quote:U(),table:{class:E(),inlineToolbar:!0,config:{rows:2,cols:3}},Color:{class:G(),config:{colorCollections:["#000000","#FF0000","#00FF00","#0000FF","#999999","#00FFFF","#FF00FF","#800080","#FFF"],type:"text"}},textAlign:Y(),image:{class:H(),config:{uploader:{uploadByFile:function(t){return(0,v.Z)(F().mark((function s(){var n,r;return F().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if((n=new FormData).append("file",t),!e.thread){s.next=8;break}return s.next=5,(0,Q.cE)(e.thread._id.toString(),e.thread.student_id._id.toString(),n);case 5:r=s.sent,s.next=11;break;case 8:return s.next=10,(0,Q.Ix)(n);case 10:r=s.sent;case 11:return s.abrupt("return",{success:1,file:{url:r.data.data}});case 12:case"end":return s.stop()}}),s)})))()},uploadByUrl:function(e){return(0,v.Z)(F().mark((function t(){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{success:1,file:{url:e}});case 1:case"end":return t.stop()}}),t)})))()}}}},elimiter:M(),embed:{class:D(),inlineToolbar:!1,config:{services:{youtube:!0,coub:!0}}},inlineCode:{class:K()}}})};return(0,X.jsx)(l.Fragment,{children:(0,X.jsx)("div",{id:"".concat(e.holder)})})},ee=s(44416),te=s(7077),se=s.n(te),ne=s(51767),re=s(17947),ae=function(e){(0,d.Z)(s,e);var t=(0,o.Z)(s);function s(){var e;(0,a.Z)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={editorState:null,ConvertedContent:"",isLoaded:!1},e}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var e=this,t=null;if(this.props.message.message&&"{}"!==this.props.message.message)try{t=JSON.parse(this.props.message.message)}catch(s){t={time:new Date,blocks:[]}}else t={time:new Date,blocks:[]};this.setState((function(s){return(0,r.Z)((0,r.Z)({},s),{},{editorState:t,ConvertedContent:t,isLoaded:e.props.isLoaded})}))}},{key:"render",value:function(){var e=this;if(!this.state.isLoaded)return(0,X.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,X.jsx)(c.Z,{animation:"border",role:"status",children:(0,X.jsx)("span",{className:"visually-hidden"})})});var t=this.props.message.file.map((function(t,s){return(0,X.jsxs)(h.Z,{children:[(0,X.jsx)(m.Z,{md:1,style:{cursor:"pointer"},children:(0,X.jsx)("h5",{children:(0,X.jsx)("span",{children:(0,X.jsx)("a",{href:"".concat(_._,"/api/document-threads/").concat(e.props.documentsthreadId,"/").concat(e.props.message._id.toString(),"/").concat(t.path.replace(/\\/g,"/").split("/")[2]),target:"_blank",children:(0,X.jsx)(ee.a,(0,r.Z)({size:"sm",radius:4,extension:t.name.split(".").pop()},ee.j[t.name.split(".").pop()]))})})})}),(0,X.jsx)(m.Z,{md:11,className:"my-3",children:(0,X.jsx)("a",{href:"".concat(_._,"/api/document-threads/").concat(e.props.documentsthreadId,"/").concat(e.props.message._id.toString(),"/").concat(t.path.replace(/\\/g,"/").split("/")[2]),target:"_blank",children:t.name})})]},s)}));return(0,X.jsxs)(u.Z,{border:"primary",className:"mb-2 mx-0",children:[(0,X.jsx)(u.Z.Header,{onClick:function(){return e.props.singleExpandtHandler(e.props.idx)},as:"h5","aria-controls":"accordion"+this.props.idx,"aria-expanded":this.props.accordionKeys[this.props.idx]===this.props.idx,children:(0,X.jsxs)(h.Z,{className:"my-0",children:[(0,X.jsx)(m.Z,{md:1,className:"me-1 my-0",children:(0,X.jsx)(re.Z,(0,r.Z)({},(0,ne.GZ)(this.props.message.user_id.firstname+" "+this.props.message.user_id.lastname)))}),(0,X.jsxs)(m.Z,{className:"mt-2",children:[(0,X.jsxs)("b",{children:[this.props.message.user_id.firstname," ",this.props.message.user_id.lastname]}),(0,X.jsxs)("span",{style:{float:"right",cursor:"pointer"},children:[" on ",new Date(this.props.message.createdAt).toLocaleTimeString(),", ",new Date(this.props.message.createdAt).toLocaleDateString(),(0,X.jsx)(g.job,{className:"ms-4"})]})]})]})}),(0,X.jsx)(j.Z,{in:this.props.accordionKeys[this.props.idx]===this.props.idx,children:(0,X.jsxs)(u.Z.Body,{children:[(0,X.jsx)("section",{children:(0,X.jsx)(se(),{data:this.state.editorState})}),t]})})]})}}]),s}(l.Component),ie=ae,de=function(e){(0,d.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,a.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){var e=this,t=this.props.thread.messages.map((function(t,s){return(0,X.jsx)(ie,{documentsthreadId:e.props.documentsthreadId,accordionKeys:e.props.accordionKeys,singleExpandtHandler:e.props.singleExpandtHandler,id:t._id,idx:s,message:t,onTrashClick:e.props.onTrashClick,lastupdate:e.props.lastupdate,isLoaded:e.props.isLoaded},s)}));return(0,X.jsx)(X.Fragment,{children:t})}}]),s}(l.Component),oe=de,le=s(67203);var ce=function(e){var t=(0,l.useState)({editorState:e.editorState}),s=(0,y.Z)(t,2),n=s[0],a=s[1];return(0,l.useEffect)((function(){a((function(t){return(0,r.Z)((0,r.Z)({},t),{},{editorState:e.editorState})}))}),[e.editorState]),(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(h.Z,{style:{textDecoration:"none"},children:(0,X.jsx)(m.Z,{className:"my-0 mx-0",children:(0,X.jsx)($,{holder:"editorjs",thread:e.thread,readOnly:!1,handleEditorChange:function(e){a((function(t){return(0,r.Z)((0,r.Z)({},t),{},{editorState:e})}))},handleClickSave:e.handleClickSave,editorState:e.editorState,setStatedata:a})})}),(0,X.jsxs)(h.Z,{children:[(0,X.jsx)(m.Z,{md:8,children:(0,X.jsx)(le.Z.Group,{controlId:"formFile",className:"mb-2",children:(0,X.jsx)(le.Z.Control,{type:"file",onChange:function(t){return e.onFileChange(t)}})})}),(0,X.jsx)(m.Z,{className:"mt-2",md:4,children:"(max. 2MB)"})]}),(0,X.jsx)(h.Z,{children:(0,X.jsx)(m.Z,{className:"my-0 mx-0",children:(0,X.jsx)(p.Z,{disabled:!n.editorState.blocks||0===n.editorState.blocks.length||e.buttonDisabled,onClick:function(t){return e.handleClickSave(t,n.editorState)},children:"Save"})})})]})},he=s(82423),ue=function(e){(0,d.Z)(s,e);var t=(0,o.Z)(s);function s(){var e;(0,a.Z)(this,s);for(var i=arguments.length,d=new Array(i),o=0;o<i;o++)d[o]=arguments[o];return(e=t.call.apply(t,[this].concat(d))).state={error:null,timeouterror:null,unauthorizederror:null,pagenotfounderror:null,file:null,isLoaded:!1,isSubmissionLoaded:!0,articles:[],isEdit:!1,thread:[],editFormOpen:!1,defaultStep:1,buttonDisabled:!1,editorState:{},expand:!0,SetAsFinalFileModel:!1,accordionKeys:[0],res_status:0},e.closeSetAsFinalFileModelWindow=function(){e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{SetAsFinalFileModel:!1})}))},e.onFileChange=function(t){t.preventDefault(),e.setState({file:t.target.files[0]})},e.handleEditorChange=function(t){e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{editorState:t})}))},e.onDownloadTemplate=function(e,t){e.preventDefault(),(0,Q.Bl)(t).then((function(e){var t=e.headers["content-disposition"].split('"')[1],s=e.data;if(0!==s.size){var n=t.split(".");if("pdf"===(n=n.pop())){var r=window.URL.createObjectURL(new Blob([s],{type:"application/pdf"}));window.open(r,"_blank").document.title=t}else{var a=window.URL.createObjectURL(new Blob([s])),i=document.createElement("a");i.href=a,i.setAttribute("download",t),document.body.appendChild(i),i.click(),i.parentNode.removeChild(i)}}}),(function(e){alert("The file is not available.")}))},e.handleTrashClick=function(t){e.deleteArticle(t)},e.deleteArticle=function(t){e.setState({articles:e.state.articles.filter((function(e){return e._id!==t}))}),(0,Q.oe)(t).then((function(t){var s=t.data.success,n=t.status;s||e.setState({isLoaded:!0,res_status:n})}),(function(t){e.setState({isLoaded:!1,error:t})}))},e.singleExpandtHandler=function(t){var s=(0,n.Z)(e.state.accordionKeys);s[t]=s[t]!==t?t:-1,e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{accordionKeys:s})}))},e.AllCollapsetHandler=function(){e.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{expand:!1,accordionKeys:new Array(e.state.thread.messages.length).fill().map((function(e,t){return-1}))})}))},e.AllExpandtHandler=function(){e.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{expand:!0,accordionKeys:new Array(e.state.thread.messages.length).fill().map((function(e,t){return t}))})}))},e.getRequirement=function(t){return t.file_type.includes("Essay")?"yes"===t.program_id.essay_required?(0,X.jsx)("p",{children:e.state.thread.program_id.essay_requirements?e.state.thread.program_id.essay_requirements:"No"}):(0,X.jsx)("p",{children:"No"}):t.file_type.includes("ML")?"yes"===t.program_id.ml_required?(0,X.jsx)("p",{children:e.state.thread.program_id.ml_requirements?e.state.thread.program_id.ml_requirements:"No"}):(0,X.jsx)("p",{children:"No"}):t.file_type.includes("RL")?"yes"===t.program_id.rl_required?(0,X.jsx)("p",{children:e.state.thread.program_id.rl_requirements?e.state.thread.program_id.rl_requirements:"No"}):(0,X.jsx)("p",{children:"No"}):void 0},e.handleClickSave=function(t,s){t.preventDefault(),e.setState({buttonDisabled:!0});var a=JSON.stringify(s),i=new FormData;i.append("file",e.state.file),i.append("message",a),(0,Q.me)(e.state.documentsthreadId,e.state.thread.student_id._id,i).then((function(t){var s=t.data,r=s.success,a=s.data,i=t.status;r?e.setState({success:r,file:null,editorState:{},thread:a,isLoaded:!0,buttonDisabled:!1,accordionKeys:[].concat((0,n.Z)(e.state.accordionKeys),[a.messages.length-1]),res_status:i}):e.setState({isLoaded:!0,res_status:i})}),(function(t){e.setState({error:t})})),e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{in_edit_mode:!1})}))},e.handleAsFinalFile=function(t,s,n){e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{doc_thread_id:t,student_id:s,program_id:n,SetAsFinalFileModel:!0})}))},e.ConfirmSetAsFinalFileHandler=function(t){t.preventDefault(),e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isSubmissionLoaded:!1})}));var s=e.state.program_id?e.state.program_id._id.toString():void 0;(0,Q.lk)(e.state.doc_thread_id,e.state.student_id,s,!0).then((function(t){var s=t.data,n=s.data,a=s.success,i=t.status;a?e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isSubmissionLoaded:!0,thread:(0,r.Z)((0,r.Z)({},e.thread),{},{isFinalVersion:n}),success:a,SetAsFinalFileModel:!1,res_status:i})})):e.setState({isLoaded:!0,res_status:i})}),(function(t){e.setState({error:t})}))},e}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var e=this;(0,Q.vn)(this.props.match.params.documentsthreadId).then((function(t){var s=t.data,n=s.success,r=s.data,a=t.status;n?e.setState({success:n,thread:r,isLoaded:!0,documentsthreadId:e.props.match.params.documentsthreadId,file:null,accordionKeys:new Array(r.messages.length).fill().map((function(e,t){return t===r.messages.length-1?t:-1})),res_status:a}):e.setState({isLoaded:!0,res_status:a})}),(function(t){e.setState({isLoaded:!1,error:t})}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.isLoaded,n=t.isSubmissionLoaded;if(!s&&!this.state.data)return(0,X.jsx)("div",{style:ne.nT,children:(0,X.jsx)(c.Z,{animation:"border",role:"status",children:(0,X.jsx)("span",{className:"visually-hidden"})})});if(res_status>=400)return(0,X.jsx)(he.Z,{res_status:res_status});var r,a=window.templatelist.find((function(t){return t.prop.includes(e.state.thread.file_type.split("_")[0])}));return r=this.state.thread.program_id?this.state.thread.student_id.firstname+" "+this.state.thread.student_id.lastname+" - "+this.state.thread.program_id.school+" "+this.state.thread.program_id.program_name+" "+this.state.thread.file_type:this.state.thread.student_id.firstname+" "+this.state.thread.student_id.lastname+" - "+this.state.thread.file_type,(0,X.jsxs)(Z.Z,{children:[!s&&(0,X.jsx)("div",{style:ne.nT,children:(0,X.jsx)(c.Z,{animation:"border",role:"status",children:(0,X.jsx)("span",{className:"visually-hidden"})})}),(0,X.jsx)(h.Z,{children:(0,X.jsx)(u.Z,{className:"mb-2 mx-0",children:(0,X.jsx)(u.Z.Header,{children:(0,X.jsxs)(u.Z.Title,{as:"h5",children:[r," Discussion thread","   ",this.state.expand?(0,X.jsx)(p.Z,{className:"btn-sm float-right",onClick:function(){return e.AllCollapsetHandler()},children:"Collaspse"}):(0,X.jsx)(p.Z,{className:"btn-sm float-right",onClick:function(){return e.AllExpandtHandler()},children:"Expand"})]})})})}),this.state.thread.isFinalVersion&&(0,X.jsx)(h.Z,{className:"sticky-top",children:(0,X.jsx)(u.Z,{className:"mb-2 mx-0",bg:"danger",text:"white",children:(0,X.jsx)(u.Z.Header,{children:(0,X.jsxs)(u.Z.Title,{as:"h5",className:"text-light",children:["Status: ",(0,X.jsx)("b",{children:"Close"})]})})})}),(0,X.jsx)(h.Z,{children:(0,X.jsx)(u.Z,{className:"mb-2 mx-0",children:(0,X.jsxs)(u.Z.Body,{children:[(0,X.jsxs)(m.Z,{children:[(0,X.jsx)("h5",{children:"Instruction"}),(0,X.jsx)("p",{children:"Please fill our TaiGer template and attach the filled template in this discussion."}),(0,X.jsxs)("p",{children:["Download template:"," ",a?(0,X.jsx)("b",{style:{cursor:"pointer"},onClick:function(t){return e.onDownloadTemplate(t,a.prop)},children:"Link"}):(0,X.jsx)(X.Fragment,{children:"Not available"})]})]}),(0,X.jsxs)(m.Z,{children:[(0,X.jsxs)("h6",{children:[(0,X.jsx)("b",{children:"Requirements:"}),("Agent"===this.props.user.role||"Admin"===this.props.user.role)&&this.state.thread.program_id&&(0,X.jsxs)(f.Z,{to:"/programs/".concat(this.state.thread.program_id._id.toString()),target:"_blank",children:[" ","[Update]"]})]}),this.state.thread.program_id?(0,X.jsx)(X.Fragment,{children:this.getRequirement(this.state.thread)}):(0,X.jsx)(X.Fragment,{children:(0,X.jsx)("p",{children:"No"})}),(0,X.jsxs)("h6",{children:[(0,X.jsx)("b",{children:"Deadline"}),("Agent"===this.props.user.role||"Admin"===this.props.user.role)&&this.state.thread.program_id&&(0,X.jsxs)(f.Z,{to:"/programs/".concat(this.state.thread.program_id._id.toString()),target:"_blank",children:[" ","[Update]"]})]}),this.state.thread.program_id&&(0,X.jsxs)("h6",{children:[this.state.thread.student_id.application_preference&&this.state.thread.student_id.application_preference.expected_application_date?this.state.thread.student_id.application_preference.expected_application_date+"-":"",this.state.thread.program_id.application_deadline]})]})]})})}),(0,X.jsx)(h.Z,{children:(0,X.jsx)(oe,{documentsthreadId:this.state.documentsthreadId,accordionKeys:this.state.accordionKeys,singleExpandtHandler:this.singleExpandtHandler,thread:this.state.thread,onTrashClick:this.handleTrashClick,isLoaded:this.state.isLoaded})}),!0!==this.props.user.archiv?(0,X.jsx)(h.Z,{children:(0,X.jsxs)(u.Z,{className:"my-0 mx-0",children:[(0,X.jsx)(u.Z.Header,{children:(0,X.jsxs)(u.Z.Title,{as:"h5",children:[this.props.user.firstname," ",this.props.user.lastname]})}),(0,X.jsx)(u.Z.Body,{children:(0,X.jsx)(h.Z,{style:{textDecoration:"none"},children:(0,X.jsx)(m.Z,{className:"my-0 mx-0",children:(0,X.jsx)(ce,{thread:this.state.thread,buttonDisabled:this.state.buttonDisabled,doc_title:"this.state.doc_title",editorState:this.state.editorState,handleClickSave:this.handleClickSave,file:this.state.file,onFileChange:this.onFileChange})})})})]})}):(0,X.jsx)(h.Z,{children:(0,X.jsx)(u.Z,{className:"my-0 mx-0",children:(0,X.jsx)(u.Z.Body,{children:(0,X.jsx)(h.Z,{style:{textDecoration:"none"},children:(0,X.jsx)(m.Z,{className:"my-0 mx-0",children:"You service is finished. Therefore, you are in read only mode."})})})})}),("Editor"===this.props.user.role||"Agent"===this.props.user.role||"Admin"===this.props.user.role)&&(this.state.thread.isFinalVersion?(0,X.jsx)(h.Z,{className:"mt-2",children:(0,X.jsx)(p.Z,{variant:"success",onClick:function(t){return e.handleAsFinalFile(e.state.thread._id,e.state.thread.student_id._id,e.state.thread.program_id,e.state.thread.isFinalVersion)},children:n?"Mark as open":(0,X.jsx)(c.Z,{animation:"border",role:"status",children:(0,X.jsx)("span",{className:"visually-hidden"})})})}):(0,X.jsx)(h.Z,{className:"mt-2",children:(0,X.jsx)(p.Z,{variant:"danger",onClick:function(t){return e.handleAsFinalFile(e.state.thread._id,e.state.thread.student_id._id,e.state.thread.program_id,e.state.thread.isFinalVersion)},children:n?"Mark as finished":(0,X.jsx)(c.Z,{animation:"border",role:"status",size:"sm",children:(0,X.jsx)("span",{className:"visually-hidden"})})})})),(0,X.jsxs)(x.Z,{show:this.state.SetAsFinalFileModel,onHide:this.closeSetAsFinalFileModelWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,X.jsx)(x.Z.Header,{children:(0,X.jsx)(x.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,X.jsxs)(x.Z.Body,{children:["Do you want to set ",r," as"," ",this.state.thread.isFinalVersion?"open":"final","?"]}),(0,X.jsxs)(x.Z.Footer,{children:[(0,X.jsx)(p.Z,{disabled:!s||!n,onClick:function(t){return e.ConfirmSetAsFinalFileHandler(t)},children:n?"Yes":(0,X.jsx)(c.Z,{animation:"border",role:"status",size:"sm",children:(0,X.jsx)("span",{className:"visually-hidden"})})}),(0,X.jsx)(p.Z,{onClick:this.closeSetAsFinalFileModelWindow,children:"No"})]})]})]})}}]),s}(l.Component),pe=ue},82423:function(e,t,s){s.d(t,{Z:function(){return S}});var n=s(27853),r=s(84531),a=s(78932),i=s(38128),d=s(47313),o=s(63849),l=s(31616),c=s(50099),h=s(54991),u=s(29021),p=s(94611),m=s(86450),x=(s(89351),s(46417)),f=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){return(0,x.jsx)(h.Z,{children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(c.Z,{children:"Session is expired. Please refresh the page and login again."})})})})}}]),s}(d.Component),Z=f,j=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){return(0,x.jsx)(h.Z,{children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(c.Z,{children:"Too many requests. Please try later."})})})})}}]),s}(d.Component),g=j,_=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){return(0,x.jsx)(h.Z,{children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(c.Z,{children:"The resource is locked and can not be changed."})})})})}}]),s}(d.Component),v=_,y=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){return 401===this.props.res_status?(0,x.jsx)(Z,{}):403===this.props.res_status?(0,x.jsx)(m.Z,{}):404===this.props.res_status?(0,x.jsx)(u.Z,{}):408===this.props.res_status?(0,x.jsx)(p.Z,{}):423===this.props.res_status?(0,x.jsx)(v,{}):429===this.props.res_status?(0,x.jsx)(g,{}):this.props.res_status>=500?(0,x.jsx)(h.Z,{children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(c.Z,{children:"Server problem. Please try later."})})})}):void 0}}]),s}(d.Component),S=y},29021:function(e,t,s){var n=s(27853),r=s(84531),a=s(78932),i=s(38128),d=s(47313),o=s(63849),l=s(31616),c=s(65832),h=s(54991),u=s(46417),p=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){return(0,u.jsx)(h.Z,{children:(0,u.jsx)(o.Z,{children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(c.Z,{children:(0,u.jsx)(c.Z.Body,{children:(0,u.jsx)("h4",{children:"Page Not Found!"})})})})})})}}]),s}(d.Component);t.Z=p},94611:function(e,t,s){var n=s(27853),r=s(84531),a=s(78932),i=s(38128),d=s(47313),o=s(63849),l=s(31616),c=s(50099),h=s(54991),u=s(46417),p=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){return(0,u.jsx)(h.Z,{children:(0,u.jsx)(o.Z,{children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(c.Z,{children:"Time out error. Please login again!"})})})})}}]),s}(d.Component);t.Z=p},86450:function(e,t,s){var n=s(27853),r=s(84531),a=s(78932),i=s(38128),d=s(47313),o=s(63849),l=s(31616),c=s(50099),h=s(54991),u=s(46417),p=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){return(0,u.jsx)(h.Z,{children:(0,u.jsx)(o.Z,{children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(c.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),s}(d.Component);t.Z=p}}]);