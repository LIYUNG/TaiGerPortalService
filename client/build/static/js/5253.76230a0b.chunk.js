"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[5253],{92634:function(e,t,r){var a=r(18489),n=r(27853),s=r(84531),i=r(78932),o=r(38128),c=r(47313),l=r(65832),d=r(31974),u=r(46417),h=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={doc_title:e.props.document_title},e.handleChange=function(t){t.preventDefault();var r=(0,a.Z)({},e.state.doc_title);r=t.target.value,e.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{doc_title:r})}))},e.handleClickSave=function(t,r){t.preventDefault(),e.props.handleClickSave(t,e.state.doc_title,r)},e}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(l.Z.Body,{children:(0,u.jsx)(d.Z,{category:this.props.category,doc_title:"not_used",editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})})})})}}]),r}(c.Component);t.Z=h},51025:function(e,t,r){var a=r(27853),n=r(84531),s=r(78932),i=r(38128),o=r(47313),c=r(65832),l=r(63849),d=r(31616),u=r(93298),h=r(1110),m=r(51767),p=(r(7077),r(46417)),f=function(e){(0,s.Z)(r,e);var t=(0,i.Z)(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"render",value:function(){var e=this;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(c.Z,{className:"mb-2 mx-0",children:(0,p.jsxs)(c.Z.Body,{children:[(0,p.jsx)(h.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(l.Z,{children:[(0,p.jsx)(d.Z,{md:2,children:(0,p.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,p.jsx)(d.Z,{md:10,children:(0,p.jsx)("p",{className:"my-0",children:(0,m.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,p.jsx)(u.Z,{size:"sm",onClick:function(){return e.props.handleClick()},children:"Edit"})]})})})}}]),r}(o.Component);t.Z=f},31974:function(e,t,r){r(47313);var a=r(1110),n=(r(85463),r(43636),r(63849)),s=r(31616),i=r(46417);t.Z=function(e){return(0,i.jsx)(n.Z,{style:{textDecoration:"none"},children:(0,i.jsx)(s.Z,{className:"my-0 mx-0",children:(0,i.jsx)(a.Z,{category:e.category,doc_title:e.doc_title,readOnly:!1,handleClickSave:e.handleClickSave,handleClickCancel:e.handleClickCancel,editorState:e.editorState})})})}},15253:function(e,t,r){r.r(t);var a=r(18489),n=r(36222),s=r(27853),i=r(84531),o=r(78932),c=r(38128),l=r(47313),d=r(44030),u=r(63849),h=r(31616),m=r(65832),p=r(94395),f=r(51025),x=r(92634),Z=r(51767),v=r(82423),g=r(20688),y=r(51426),C=r(46417),k=function(e){(0,o.Z)(r,e);var t=(0,c.Z)(r);function r(){var e,i;(0,s.Z)(this,r);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(i=t.call.apply(t,[this].concat(c))).state=(e={isLoaded:!1,success:!1,error:null,editorState:null,unauthorizederror:null},(0,n.Z)(e,"unauthorizederror",null),(0,n.Z)(e,"isEdit",!1),(0,n.Z)(e,"res_status",0),(0,n.Z)(e,"res_modal_message",""),(0,n.Z)(e,"res_modal_status",0),e),i.handleClickCancel=function(e){i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isEdit:!i.state.isEdit})}))},i.handleClickSave=function(e,t,r){e.preventDefault();var n=JSON.stringify(r),s={category:i.props.match.params.category,title:t,prop:i.props.item,text:n};(0,y.Y0)(i.props.match.params.category,s).then((function(e){var t=e.data,n=t.success,s=t.data,o=e.status;if(n)i.setState({success:n,timeouterror:!1,pagenotfounderror:!1,document_title:s.title,editorState:r,isEdit:!i.state.isEdit,isLoaded:!0,res_modal_status:o});else{var c=e.data.message;i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isLoaded:!0,res_modal_message:c,res_modal_status:o})}))}}),(function(e){i.setState({error:e})})),i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{in_edit_mode:!1})}))},i.handleClick=function(){i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isEdit:!i.state.isEdit})}))},i.ConfirmError=function(){i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{res_modal_status:0,res_modal_message:""})}))},i}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){var e=this;(0,y.go)(this.props.match.params.category).then((function(t){var r=t.data,a=r.data,n=r.success,s=t.status;if(n){var i=null;i=a.text?JSON.parse(a.text):{time:new Date,blocks:[]},e.setState({isLoaded:!0,editorState:i,timeouterror:!1,pagenotfounderror:!1,success:n,res_status:s})}else e.setState({isLoaded:!0,res_status:s})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var r=this;e.match.params.category!==this.props.match.params.category&&(0,y.go)(this.props.match.params.category).then((function(e){var t=e.data,a=t.data,n=t.success,s=e.status;if(n){var i=null;i=a.text?JSON.parse(a.text):{time:new Date,blocks:[]},r.setState({isLoaded:!0,editorState:i,timeouterror:!1,pagenotfounderror:!1,success:n,res_status:s})}else r.setState({isLoaded:!0,res_status:s})}),(function(e){r.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this;if("Admin"!==this.props.user.role&&"Editor"!==this.props.user.role&&"Agent"!==this.props.user.role&&"Student"!==this.props.user.role)return(0,C.jsx)(p.Z,{to:"/dashboard/default"});var t=this.state,r=t.res_status,a=t.editorState,n=t.isLoaded,s=t.res_modal_status,i=t.res_modal_message;return n||a?r>=400?(0,C.jsx)(v.Z,{res_status:r}):this.state.isEdit?(0,C.jsxs)(C.Fragment,{children:[s>=400&&(0,C.jsx)(g.Z,{ConfirmError:this.ConfirmError,res_modal_status:s,res_modal_message:i}),(0,C.jsx)(u.Z,{className:"sticky-top ",children:(0,C.jsx)(h.Z,{children:(0,C.jsx)(m.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,C.jsx)(m.Z.Header,{text:"dark",children:(0,C.jsx)(m.Z.Title,{children:(0,C.jsx)(u.Z,{children:(0,C.jsx)(h.Z,{className:"my-0 mx-0 text-light",children:Z.XA.find((function(t){return t.key===e.props.match.params.category})).value})})})})})})}),(0,C.jsx)(x.Z,{category:"category",document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:n,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(u.Z,{className:"sticky-top ",children:(0,C.jsx)(h.Z,{children:(0,C.jsx)(m.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,C.jsx)(m.Z.Header,{text:"dark",children:(0,C.jsx)(m.Z.Title,{children:(0,C.jsx)(u.Z,{children:(0,C.jsx)(h.Z,{className:"my-0 mx-0 text-light",children:Z.XA.find((function(t){return t.key===e.props.match.params.category})).value})})})})})})}),(0,C.jsx)(f.Z,{document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:n,role:this.props.user.role,handleClick:this.handleClick})]}):(0,C.jsx)("div",{style:Z.nT,children:(0,C.jsx)(d.Z,{animation:"border",role:"status",children:(0,C.jsx)("span",{className:"visually-hidden"})})})}}]),r}(l.Component);t.default=k},1110:function(e,t,r){var a=r(33032),n=r(23430),s=r(78994),i=r.n(s),o=r(47313),c=r(63849),l=r(31616),d=r(93298),u=(r(89351),r(88195)),h=r.n(u),m=r(82737),p=r.n(m),f=r(67989),x=r.n(f),Z=r(1693),v=r.n(Z),g=r(87606),y=r.n(g),C=r(60823),k=r.n(C),j=(r(44789),r(37417)),_=r.n(j),S=r(68234),F=r.n(S),b=r(87366),N=r.n(b),w=r(70021),E=r.n(w),L=r(44236),A=r.n(L),D=r(65911),O=r.n(D),P=(r(99086),r(19893)),T=r.n(P),R=r(28668),B=r.n(R),H=r(51426),I=r(46417);t.Z=function(e){var t,r=(0,o.useRef)(),s=(0,o.useState)(e.editorState),u=(0,n.Z)(s,2),m=u[0],f=u[1],Z=(0,o.useState)(!0),g=(0,n.Z)(Z,2),C=g[0],j=g[1];(0,o.useEffect)((function(){f(e.editorState)}),[e.editorState]),(0,o.useEffect)((function(){return r.current||S(),function(){r.current.destroy(),r.current=null}}),[e.editorState]);var S=function(){t=new(h())({holder:"editorjs",logLevel:"ERROR",data:e.editorState,onReady:function(){r.current=t},onChange:function(){var e=(0,a.Z)(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!1),t.saver.save().then((function(e){f(e),j(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),readOnly:e.readOnly,autofocus:!0,minHeight:30,tools:{header:{class:p(),config:{placeholder:"Enter a header",levels:[2,3,4,5,6],defaultLevel:3},inlineToolbar:!0},list:{class:x(),inlineToolbar:!0},underline:A(),code:N(),Color:{class:T(),config:{colorCollections:["#000000","#FF0000","#00FF00","#0000FF","#999999","#00FFFF","#FF00FF","#800080","#FFF"],type:"text"}},Marker:{class:T(),config:{colorCollections:["#000000","#FF0000","#00FF00","#0000FF","#999999","#00FFFF","#FF00FF","#800080","#FFF"],defaultColor:"#FFF",type:"marker"}},textAlign:B(),attaches:{class:O(),config:{uploader:{uploadByFile:function(e){return(0,a.Z)(i().mark((function t(){var r,a,n,s,o,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("file",e),t.next=4,(0,H.w_)(r);case 4:if(a=t.sent,n=a.data,s=n.url,o=n.title,c=n.extension,!n.success){t.next=10;break}return t.abrupt("return",{success:1,file:{url:s,title:o,extension:c}});case 10:alert(a.data.message);case 11:case"end":return t.stop()}}),t)})))()}}}},quote:E(),table:{class:k(),inlineToolbar:!0,config:{rows:2,cols:3}},image:{class:y(),config:{uploader:{uploadByFile:function(e){return(0,a.Z)(i().mark((function t(){var r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("file",e),t.next=4,(0,H.Ix)(r);case 4:return a=t.sent,t.abrupt("return",{success:1,file:{url:a.data.data}});case 6:case"end":return t.stop()}}),t)})))()},uploadByUrl:function(e){return(0,a.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{success:1,file:{url:e}});case 1:case"end":return t.stop()}}),t)})))()}}}},elimiter:F(),embed:{class:v(),inlineToolbar:!1,config:{services:{youtube:!0,coub:!0}}},inlineCode:{class:_()}}})};return(0,I.jsxs)(o.Fragment,{children:[(0,I.jsx)("div",{id:"editorjs"}),e.readOnly?(0,I.jsx)(I.Fragment,{}):(0,I.jsx)(c.Z,{children:(0,I.jsxs)(l.Z,{className:"my-0 mx-0",children:[(0,I.jsx)(d.Z,{disabled:!C||0===e.doc_title.replace(/ /g,"").length||""===e.category||!m.blocks||0===m.blocks.length,onClick:function(t){return e.handleClickSave(t,m)},children:"Save"}),(0,I.jsx)(d.Z,{onClick:function(t){return e.handleClickCancel(t)},children:"Cancel"})]})})]})}},65832:function(e,t,r){r.d(t,{Z:function(){return E}});var a=r(18489),n=r(83738),s=r(46123),i=r.n(s),o=r(47313),c=r(68524),l=r(28864),d=r(96205),u=r(46417),h=["bsPrefix","className","variant","as"],m=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,o=e.variant,l=e.as,d=void 0===l?"img":l,m=(0,n.Z)(e,h),p=(0,c.vE)(r,"card-img");return(0,u.jsx)(d,(0,a.Z)({ref:t,className:i()(o?"".concat(p,"-").concat(o):p,s)},m))}));m.displayName="CardImg";var p=m,f=r(15614),x=["bsPrefix","className","as"],Z=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,l=e.as,d=void 0===l?"div":l,h=(0,n.Z)(e,x),m=(0,c.vE)(r,"card-header"),p=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:m}}),[m]);return(0,u.jsx)(f.Z.Provider,{value:p,children:(0,u.jsx)(d,(0,a.Z)((0,a.Z)({ref:t},h),{},{className:i()(s,m)}))})}));Z.displayName="CardHeader";var v=Z,g=["bsPrefix","className","bg","text","border","body","children","as"],y=(0,d.Z)("h5"),C=(0,d.Z)("h6"),k=(0,l.Z)("card-body"),j=(0,l.Z)("card-title",{Component:y}),_=(0,l.Z)("card-subtitle",{Component:C}),S=(0,l.Z)("card-link",{Component:"a"}),F=(0,l.Z)("card-text",{Component:"p"}),b=(0,l.Z)("card-footer"),N=(0,l.Z)("card-img-overlay"),w=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,o=e.bg,l=e.text,d=e.border,h=e.body,m=e.children,p=e.as,f=void 0===p?"div":p,x=(0,n.Z)(e,g),Z=(0,c.vE)(r,"card");return(0,u.jsx)(f,(0,a.Z)((0,a.Z)({ref:t},x),{},{className:i()(s,Z,o&&"bg-".concat(o),l&&"text-".concat(l),d&&"border-".concat(d)),children:h?(0,u.jsx)(k,{children:m}):m}))}));w.displayName="Card",w.defaultProps={body:!1};var E=Object.assign(w,{Img:p,Title:j,Subtitle:_,Body:k,Link:S,Text:F,Header:v,Footer:b,ImgOverlay:N})},15614:function(e,t,r){var a=r(47313).createContext(null);a.displayName="CardHeaderContext",t.Z=a},43636:function(){}}]);