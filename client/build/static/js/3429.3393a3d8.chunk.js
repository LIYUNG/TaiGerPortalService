"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[3429],{3978:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var n=a(27853),s=a(84531),o=a(78932),d=a(38128),r=a(47313),c=a(44030),i=a(93298),l=a(41965),u=a(93105),h=a(51426),f=a(46417),g=function(e,t){console.log("drag started"),console.log("cardId: ".concat(e)),console.log("laneId: ".concat(t))},p=function(e,t,a){console.log("drag ended"),console.log("cardId: ".concat(e)),console.log("sourceLaneId: ".concat(t)),console.log("targetLaneId: ".concat(a))},C=function(e){console.log(e)},v=function(e){(0,o.Z)(a,e);var t=(0,d.Z)(a);function a(){var e;(0,n.Z)(this,a);for(var s=arguments.length,o=new Array(s),d=0;d<s;d++)o[d]=arguments[d];return(e=t.call.apply(t,[this].concat(o))).state={error:null,isLoaded:!1,tasks:null,success:null,card_title:"",card_description:"",card_modal_flag:!1,empty:!1},e.completeCard=function(){e.state.eventBus.publish({type:"ADD_CARD",laneId:"COMPLETED",card:{id:"Milk",title:"Buy Milk",label:"15 mins",description:"Use Headspace app"}}),e.state.eventBus.publish({type:"REMOVE_CARD",laneId:"PLANNED",cardId:"Milk"})},e.addCard=function(){e.state.eventBus.publish({type:"ADD_CARD",laneId:"BLOCKED",card:{id:"Ec2Error",title:"EC2 Instance Down",label:"30 mins",description:"Main EC2 instance down"}})},e.setEventBus=function(t){e.setState({eventBus:t})},e.handleCardAdd=function(e,t){console.log("New card added to lane ".concat(t)),console.dir(e)},e.handeCardClick=function(e,t,a){console.log("On card click")},e.closeCardWindow=function(){e.setState({card_modal_flag:!1})},e.shouldReceiveNewData=function(e){console.log("New card has been added"),console.log(e)},e.onCardClick=function(t,a,n){console.log(t),console.log(a),console.log(n);var s=e.state.tasks.lanes.find((function(e){return e.id===n}));console.log(s);var o=s.cards.find((function(e){return e.id===t}));e.setState({card_title:o.title,card_description:o.description,card_modal_flag:!0})},e.initTask=function(){var t=e.props.user._id;(0,h.i8)(t).then((function(t){var a=t.data,n=a.success,s=a.data,o=s[0];0!==s.length?n?e.setState({success:n,tasks:o,empty:!1,isLoaded:!0}):alert(t.data.message):n?e.setState({success:n,empty:!0,isLoaded:!0}):alert(t.data.message)}),(function(t){e.setState({isLoaded:!1,error:t})}))},e}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){var e=this;(0,h.pM)().then((function(t){var a=t.data,n=a.success,s=a.data,o=s[0];0!==s.length?n?e.setState({success:n,tasks:o,empty:!1,isLoaded:!0}):alert(t.data.message):n?e.setState({success:n,empty:!0,isLoaded:!0}):alert(t.data.message)}),(function(t){e.setState({isLoaded:!1,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};if(t)return(0,f.jsx)("div",{children:"Error: your session is timeout! Please refresh the page and Login"});if(!a&&!this.state.tasks)return(0,f.jsx)("div",{style:n,children:(0,f.jsx)(c.Z,{animation:"border",role:"status",children:(0,f.jsx)("span",{className:"visually-hidden"})})});var s=(0,f.jsx)(u.ZP,{data:this.state.tasks,style:{backgroundColor:"transparent",height:"auto"},cardDraggable:!0,onDataChange:C,onCardAdd:this.handleCardAdd,eventBusHandle:this.setEventBus,handleDragStart:g,handleDragEnd:p,onCardClick:this.onCardClick});return(0,f.jsxs)(f.Fragment,{children:[this.state.empty?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(i.Z,{style:n,onClick:this.initTask,children:"Create Tasks"})}):s,(0,f.jsxs)(l.Z,{show:this.state.card_modal_flag,onHide:this.closeCardWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,f.jsx)(l.Z.Header,{children:(0,f.jsx)(l.Z.Title,{id:"contained-modal-title-vcenter",children:this.state.card_title})}),(0,f.jsxs)(l.Z.Body,{children:[this.state.card_description," "]}),(0,f.jsx)(l.Z.Footer,{children:(0,f.jsx)(i.Z,{onClick:this.closeCardWindow,children:"Close"})})]})]})}}]),a}(r.Component),m=v},96205:function(e,t,a){var n=a(18489),s=a(47313),o=a(46123),d=a.n(o),r=a(46417);t.Z=function(e){return s.forwardRef((function(t,a){return(0,r.jsx)("div",(0,n.Z)((0,n.Z)({},t),{},{ref:a,className:d()(t.className,e)}))}))}}}]);