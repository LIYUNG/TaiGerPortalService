"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[1688],{1688:function(t,s,e){e.r(s);var a=e(18489),r=e(27853),n=e(84531),u=e(78932),i=e(38128),d=e(47313),o=e(44030),c=e(63849),l=e(31616),h=e(65832),p=e(94395),f=e(54991),v=(e(94611),e(86450),e(72018)),x=e(95108),m=e(50474),S=e(51767),Z=e(82423),_=e(51426),j=e(46417),b=function(t){(0,u.Z)(e,t);var s=(0,i.Z)(e);function e(){var t;(0,r.Z)(this,e);for(var n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return(t=s.call.apply(s,[this].concat(u))).state={error:null,isLoaded:!1,data:null,success:!1,students:null,file:"",status:"",res_status:0},t.updateStudentArchivStatus=function(s,e){(0,_.EQ)(s,e).then((function(s){var e=s.data,r=e.data,n=e.success,u=s.status;n?t.setState((function(t){return(0,a.Z)((0,a.Z)({},t),{},{isLoaded:!0,students:r,success:n,res_status:u})})):t.setState({isLoaded:!0,res_status:u})}),(function(s){t.setState({isLoaded:!0,error:!0})}))},t}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var t=this;(0,_.sK)().then((function(s){var e=s.data,a=e.data,r=e.success,n=s.status;r?t.setState({isLoaded:!0,students:a,success:r,res_status:n}):t.setState({isLoaded:!0,res_status:n})}),(function(s){t.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var t=this;if("Admin"!==this.props.user.role&&"Editor"!==this.props.user.role&&"Agent"!==this.props.user.role&&"Student"!==this.props.user.role)return(0,j.jsx)(p.Z,{to:"/dashboard/default"});var s=this.state,e=s.res_status;if(!s.isLoaded&&!this.state.students)return(0,j.jsx)("div",{style:S.nT,children:(0,j.jsx)(o.Z,{animation:"border",role:"status",children:(0,j.jsx)("span",{className:"visually-hidden"})})});if(e>=400)return(0,j.jsx)(Z.Z,{res_status:e});this.state.students.map((function(t,s){return(0,j.jsx)("div",{children:t.applications&&t.applications.length<t.applying_program_count&&(0,j.jsxs)("li",{className:"text-light",children:[t.firstname," ",t.lastname]})},s)})),this.state.students.map((function(s,e){return(0,j.jsx)(v.Z,{role:t.props.user.role,student:s,updateStudentArchivStatus:t.updateStudentArchivStatus,isDashboard:!0},e)})),this.state.students.map((function(s,e){return(0,j.jsx)(x.Z,{role:t.props.user.role,student:s,updateStudentArchivStatus:t.updateStudentArchivStatus,isDashboard:!0},e)}));return(0,j.jsxs)(f.Z,{children:[(0,j.jsx)(c.Z,{className:"sticky-top",children:(0,j.jsx)(l.Z,{children:(0,j.jsx)(h.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,j.jsx)(h.Z.Header,{children:(0,j.jsx)(h.Z.Title,{className:"my-0 mx-0 text-light",children:"Students Applications Overview"})})})})}),(0,j.jsx)(m.Z,{isLoaded:this.state.isLoaded,user:this.props.user,success:this.state.success,students:this.state.students})]})}}]),e}(d.Component);s.default=b}}]);