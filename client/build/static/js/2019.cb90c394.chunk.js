"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[2019],{52506:function(t,e,n){var a=n(18489),s=n(27853),r=n(84531),i=n(78932),o=n(38128),l=n(47313),c=n(65832),d=n(63849),h=n(31616),u=n(67203),p=n(31974),m=n(51767),x=n(46417),Z=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={doc_title:t.props.document_title,category:t.props.category},t.handleChange_category=function(e){e.preventDefault();var n=(0,a.Z)({},t.state.category);n=e.target.value,t.setState((function(t){return(0,a.Z)((0,a.Z)({},t),{},{category:n})}))},t.handleChange=function(e){e.preventDefault();var n=(0,a.Z)({},t.state.doc_title);n=e.target.value,t.setState((function(t){return(0,a.Z)((0,a.Z)({},t),{},{doc_title:n})}))},t.handleClickSave=function(e,n){e.preventDefault(),t.props.handleClickSave(e,t.state.category,t.state.doc_title,n)},t}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){var t=this;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(c.Z,{children:(0,x.jsxs)(c.Z.Body,{children:[" ",(0,x.jsx)(d.Z,{children:(0,x.jsx)(h.Z,{children:this.props.internal?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h4",{children:["Category:",(0,x.jsx)("b",{className:"text-danger",children:"Internal"})]}),(0,x.jsx)(u.Z.Group,{controlId:"category",children:(0,x.jsxs)(u.Z.Control,{as:"select",onChange:function(e){return t.handleChange_category(e)},defaultValue:this.props.category,children:[(0,x.jsx)("option",{value:"",children:"Select Document Category"}),m.pD.map((function(t,e){return(0,x.jsx)("option",{value:t.key,children:t.value})}))]})})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h4",{children:["Category:",(0,x.jsx)("b",{className:"text-danger",children:"Public"})]})," ",(0,x.jsx)(u.Z.Group,{controlId:"category",children:(0,x.jsxs)(u.Z.Control,{as:"select",onChange:function(e){return t.handleChange_category(e)},defaultValue:this.props.category,children:[(0,x.jsx)("option",{value:"",children:"Select Document Category"}),m.XA.map((function(t,e){return(0,x.jsx)("option",{value:t.key,children:t.value})}))]})})]})})})," ",(0,x.jsx)(d.Z,{children:(0,x.jsx)(h.Z,{children:(0,x.jsx)("h4",{children:(0,x.jsx)(u.Z.Group,{controlId:"document_title",children:(0,x.jsx)(u.Z.Control,{type:"text",placeholder:"Title",onChange:function(e){return t.handleChange(e)},defaultValue:this.props.document_title})})})})})," ",(0,x.jsx)(p.Z,{doc_title:this.state.doc_title,editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})]})})})}}]),n}(l.Component);e.Z=Z},96655:function(t,e,n){var a=n(27853),s=n(84531),r=n(78932),i=n(38128),o=n(47313),l=n(65832),c=n(63849),d=n(31616),h=n(93298),u=n(1110),p=n(51767),m=(n(7077),n(46417)),x=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var t=this;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(l.Z,{className:"mb-2 mx-0",children:[(0,m.jsx)(l.Z.Header,{children:(0,m.jsx)(l.Z.Title,{children:this.props.document_title})}),(0,m.jsxs)(l.Z.Body,{children:[(0,m.jsx)(u.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(c.Z,{children:[(0,m.jsx)(d.Z,{md:2,children:(0,m.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,m.jsx)(d.Z,{md:10,children:(0,m.jsx)("p",{className:"my-0",children:(0,p.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(h.Z,{size:"sm",onClick:function(){return t.props.handleClick()},children:"Edit"})]})]})})}}]),n}(o.Component);e.Z=x},30856:function(t,e,n){n.r(e);var a=n(18489),s=n(27853),r=n(84531),i=n(78932),o=n(38128),l=n(47313),c=n(44030),d=n(94395),h=n(96655),u=n(52506),p=n(51767),m=n(82423),x=n(51426),Z=n(46417),f=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={isLoaded:!1,success:!1,error:null,editorState:null,isEdit:!1,internal:!1,res_status:0},t.handleClickCancel=function(e){t.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isEdit:!t.state.isEdit})}))},t.handleClickSave=function(e,n,s,r){e.preventDefault();var i=JSON.stringify(r),o={title:s,category:n,prop:t.props.item,text:i};(0,x.aN)(t.props.match.params.documentation_id,o).then((function(e){var n=e.data,a=n.success,s=n.data,i=e.status;a?t.setState({success:a,document_title:s.title,editorState:r,isEdit:!t.state.isEdit,isLoaded:!0,res_status:i}):t.setState({isLoaded:!0,res_status:i})}),(function(e){t.setState({error:e})})),t.setState((function(t){return(0,a.Z)((0,a.Z)({},t),{},{in_edit_mode:!1})}))},t.handleClick=function(){t.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isEdit:!t.state.isEdit})}))},t}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){var t=this;(0,x.S6)(this.props.match.params.documentation_id).then((function(e){var n=e.data,a=n.data,s=n.success,r=e.status;if(a||t.setState({isLoaded:!0,pagenotfounderror:!0}),s){var i=null;i=a.text?JSON.parse(a.text):{},i=JSON.parse(a.text),t.setState({isLoaded:!0,document_title:a.title,category:a.category,internal:a.internal,editorState:i,success:s,res_status:r})}else t.setState({isLoaded:!0,res_status:r})}),(function(e){t.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){if("Admin"!==this.props.user.role&&"Editor"!==this.props.user.role&&"Agent"!==this.props.user.role)return(0,Z.jsx)(d.Z,{to:"/dashboard/default"});var t=this.state,e=t.res_status,n=t.editorState,a=t.isLoaded;return a||n?e>=400?(0,Z.jsx)(m.Z,{res_status:e}):this.state.isEdit?(0,Z.jsx)(u.Z,{category:this.state.category,internal:this.state.internal,document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:a,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave}):(0,Z.jsx)(h.Z,{category:this.state.category,internal:this.state.internal,document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:a,role:this.props.user.role,handleClick:this.handleClick}):(0,Z.jsx)("div",{style:p.nT,children:(0,Z.jsx)(c.Z,{animation:"border",role:"status",children:(0,Z.jsx)("span",{className:"visually-hidden"})})})}}]),n}(l.Component);e.default=f}}]);