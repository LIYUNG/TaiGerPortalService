"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[6071],{2319:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var n=s(27853),r=s(84531),o=s(78932),i=s(38128),a=s(47313),l=s(44030),d=s(65832),c=s(63849),u=s(465),p=s(54991),f=s(37062),h=s(3394),m=s(57864),x=s(58821),g=s(46417),v=function(e){(0,o.Z)(s,e);var t=(0,i.Z)(s);function s(){var e;(0,n.Z)(this,s);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={student:e.props.student,student_id:"",docName:"",file:""},e}return(0,r.Z)(s,[{key:"render",value:function(){for(var e=this,t=(Object.values(window.profile_list),Object.keys(window.profile_list)),s={},n={},r={},o={},i=0;i<t.length;i++)s[t[i]]="missing",n[t[i]]="",r[t[i]]="",o[t[i]]="";if(this.props.student.profile)for(var a=0;a<this.props.student.profile.length;a++)"uploaded"===this.props.student.profile[a].status?s[this.props.student.profile[a].name]="uploaded":"accepted"===this.props.student.profile[a].status?s[this.props.student.profile[a].name]="accepted":"rejected"===this.props.student.profile[a].status?s[this.props.student.profile[a].name]="rejected":"notneeded"===this.props.student.profile[a].status?s[this.props.student.profile[a].name]="notneeded":"missing"===this.props.student.profile[a].status&&(s[this.props.student.profile[a].name]="missing"),n[this.props.student.profile[a].name]=this.props.student.profile[a].feedback?this.props.student.profile[a].feedback:"",r[this.props.student.profile[a].name]=new Date(this.props.student.profile[a].updatedAt).toLocaleDateString(),o[this.props.student.profile[a].name]=new Date(this.props.student.profile[a].updatedAt).toLocaleTimeString();for(var l,d=Object.keys(window.profile_list),c={background:"red"},u={background:"green"},p="Complete",v=0;v<d.length;v++)if("uploaded"===s[d[v]]||"rejected"===s[d[v]]||"missing"===s[d[v]]){u=c,p="Incomplete";break}return l=d.map((function(t,n){return"uploaded"===s[t]?(0,g.jsx)("td",{children:(0,g.jsx)(f.Z,{to:"/student-database/"+e.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-info",children:(0,g.jsx)(m.QRz,{size:24,color:"orange",title:"Uploaded successfully"})})},n):"accepted"===s[t]?(0,g.jsx)("td",{children:(0,g.jsx)(f.Z,{to:"/student-database/"+e.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-info",children:(0,g.jsx)(h.cfq,{size:24,color:"limegreen",title:"Valid Document"})})},n):"rejected"===s[t]?(0,g.jsx)("td",{children:(0,g.jsx)(f.Z,{to:"/student-database/"+e.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-info",children:(0,g.jsx)(m.LHV,{size:24,color:"red",title:"Invalid Document"})})},n):"notneeded"===s[t]?(0,g.jsx)("td",{children:(0,g.jsx)(f.Z,{to:"/student-database/"+e.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-info",children:(0,g.jsx)(x.pZ2,{size:24,color:"lightgray",title:"Not needed"})})},n):(0,g.jsx)("td",{children:(0,g.jsx)(f.Z,{to:"/student-database/"+e.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-info",children:(0,g.jsx)(m.znh,{size:24,color:"lightgray",title:"No Document uploaded"})})},n)})),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:u,title:p,children:(0,g.jsxs)(f.Z,{to:"/student-database/"+this.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-light",children:[this.props.student.firstname," ",this.props.student.lastname]})}),l]})})}}]),s}(a.Component),j=v,_=s(28398),Z=s(51767),y=s(20688),b=s(82423),N=s(51426),E=function(e){(0,o.Z)(s,e);var t=(0,i.Z)(s);function s(){var e;(0,n.Z)(this,s);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={error:null,isLoaded:!1,data:null,base_docs_link:null,success:!1,students:null,file:"",student_id:"",status:"",category:"",feedback:"",expand:!1,accordionKeys:!e.props.user.students||"Editor"!==e.props.user.role&&"Agent"!==e.props.user.role?[0]:new Array(e.props.user.students.length).fill().map((function(e,t){return t})),res_status:0,res_modal_status:""},e}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){var e=this;(0,N.Nc)().then((function(t){var s=t.data,n=s.base_docs_link,r=s.data,o=s.success,i=t.status;o?e.setState({isLoaded:!0,students:r,base_docs_link:n,success:o,res_status:i}):e.setState({isLoaded:!0,res_status:i})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.res_status,n=t.base_docs_link,r=t.isLoaded,o=t.res_modal_status,i=t.res_modal_message;if(!r&&!this.state.students)return(0,g.jsx)("div",{style:Z.nT,children:(0,g.jsx)(l.Z,{animation:"border",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden"})})});if(s>=400)return(0,g.jsx)(b.Z,{res_status:s});var a=Object.values(window.profile_list),f=this.state.students.map((function(t,s){return(0,g.jsx)(j,{idx:s,student:t,role:e.props.user.role,user:e.props.user,SYMBOL_EXPLANATION:Z.vE,isLoaded:r},s)})),h=this.state.students.map((function(t,s){return(0,g.jsxs)(d.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:[(0,g.jsx)(d.Z.Header,{children:(0,g.jsxs)(d.Z.Title,{className:"my-0 mx-0 text-light",children:[t.firstname," ,",t.lastname]})}),(0,g.jsx)(_.Z,{base_docs_link:n,student:t,user:e.props.user,SYMBOL_EXPLANATION:Z.vE})]},s)}));return(0,g.jsx)(p.Z,{children:(0,g.jsxs)(c.Z,{children:["Admin"===this.props.user.role||"Agent"===this.props.user.role||"Editor"===this.props.user.role?(0,g.jsxs)(d.Z,{className:"mb-0 mx-0",bg:"dark",text:"light",children:[(0,g.jsx)(d.Z.Header,{as:"h5",children:"Base Documents"})," ",(0,g.jsxs)(u.Z,{size:"sm",responsive:!0,hover:!0,text:"light",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{className:"my-0 mx-0 text-light",children:[(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("th",{style:Z.NW,children:"First-, Last Name"})}),a.map((function(e,t){return(0,g.jsx)("th",{style:Z.NW,children:(0,Z.zY)(e)},t)}))]})}),(0,g.jsx)("tbody",{children:f})]})]}):(0,g.jsx)(g.Fragment,{children:h}),o>=400&&(0,g.jsx)(y.Z,{ConfirmError:this.ConfirmError,res_modal_status:o,res_modal_message:i})]})})}}]),s}(a.Component),w=E},62396:function(e,t,s){s.d(t,{Z:function(){return b}});var n=s(18489),r=s(83738),o=s(36222),i=s(46123),a=s.n(i),l=s(46988),d=s(47313),c=s(22752),u=s(59498);var p,f=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];e.apply(this,n),t.apply(this,n)}}),null)},h=s(6280),m=s(39776),x=s(46417),g=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],v={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function j(e,t){var s=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],n=v[e];return s+parseInt((0,l.Z)(t,n[0]),10)+parseInt((0,l.Z)(t,n[1]),10)}var _=(p={},(0,o.Z)(p,c.Wj,"collapse"),(0,o.Z)(p,c.Ix,"collapsing"),(0,o.Z)(p,c.d0,"collapsing"),(0,o.Z)(p,c.cn,"collapse show"),p),Z={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:j},y=d.forwardRef((function(e,t){var s=e.onEnter,o=e.onEntering,i=e.onEntered,l=e.onExit,c=e.onExiting,p=e.className,v=e.children,Z=e.dimension,y=void 0===Z?"height":Z,b=e.getDimensionValue,N=void 0===b?j:b,E=(0,r.Z)(e,g),w="function"===typeof y?y():y,k=(0,d.useMemo)((function(){return f((function(e){e.style[w]="0"}),s)}),[w,s]),D=(0,d.useMemo)((function(){return f((function(e){var t="scroll".concat(w[0].toUpperCase()).concat(w.slice(1));e.style[w]="".concat(e[t],"px")}),o)}),[w,o]),L=(0,d.useMemo)((function(){return f((function(e){e.style[w]=null}),i)}),[w,i]),A=(0,d.useMemo)((function(){return f((function(e){e.style[w]="".concat(N(w,e),"px"),(0,h.Z)(e)}),l)}),[l,N,w]),z=(0,d.useMemo)((function(){return f((function(e){e.style[w]=null}),c)}),[w,c]);return(0,x.jsx)(m.Z,(0,n.Z)((0,n.Z)({ref:t,addEndListener:u.Z},E),{},{"aria-expanded":E.role?E.in:null,onEnter:k,onEntering:D,onEntered:L,onExit:A,onExiting:z,childRef:v.ref,children:function(e,t){return d.cloneElement(v,(0,n.Z)((0,n.Z)({},t),{},{className:a()(p,v.props.className,_[e],"width"===w&&"collapse-horizontal")}))}}))}));y.defaultProps=Z;var b=y},465:function(e,t,s){var n=s(18489),r=s(83738),o=s(46123),i=s.n(o),a=s(47313),l=s(68524),d=s(46417),c=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=a.forwardRef((function(e,t){var s=e.bsPrefix,o=e.className,a=e.striped,u=e.bordered,p=e.borderless,f=e.hover,h=e.size,m=e.variant,x=e.responsive,g=(0,r.Z)(e,c),v=(0,l.vE)(s,"table"),j=i()(o,v,m&&"".concat(v,"-").concat(m),h&&"".concat(v,"-").concat(h),a&&"".concat(v,"-").concat("string"===typeof a?"striped-".concat(a):"striped"),u&&"".concat(v,"-bordered"),p&&"".concat(v,"-borderless"),f&&"".concat(v,"-hover")),_=(0,d.jsx)("table",(0,n.Z)((0,n.Z)({},g),{},{className:j,ref:t}));if(x){var Z="".concat(v,"-responsive");return"string"===typeof x&&(Z="".concat(Z,"-").concat(x)),(0,d.jsx)("div",{className:Z,children:_})}return _}));t.Z=u}}]);