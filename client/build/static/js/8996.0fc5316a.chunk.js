"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[8996],{48996:function(e,t,r){r.r(t);var n=r(18489),s=r(35531),a=r(27853),i=r(84531),o=r(78932),l=r(66621),d=r(47313),u=r(44030),c=r(72880),p=r(63849),x=r(31616),h=r(93298),f=r(54991),Z=(r(12401),r(51426)),m=r(28979),j=r(94611),y=r(86450),v=r(37062),g=r(46417),k=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={error:null,timeouterror:null,unauthorizederror:null,isLoaded:!1,data:null,success:!1,students:[],file:"",expand:!0,accordionKeys:!e.props.user.students||"Editor"!==e.props.user.role&&"Agent"!==e.props.user.role?[0]:new Array(e.props.user.students.length).fill().map((function(e,t){return t}))},e.singleExpandtHandler=function(t){var r=(0,s.Z)(e.state.accordionKeys);r[t]=r[t]!==t?t:-1,e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{accordionKeys:r})}))},e.AllCollapsetHandler=function(){e.setState((function(t){return(0,n.Z)((0,n.Z)({},t),{},{expand:!1,accordionKeys:!e.props.user.students||"Editor"!==e.props.user.role&&"Agent"!==e.props.user.role?[-1]:new Array(e.props.user.students.length).fill().map((function(e,t){return-1}))})}))},e.AllExpandtHandler=function(){e.setState((function(t){return(0,n.Z)((0,n.Z)({},t),{},{expand:!0,accordionKeys:!e.props.user.students||"Editor"!==e.props.user.role&&"Agent"!==e.props.user.role?[0]:new Array(e.props.user.students.length).fill().map((function(e,t){return t}))})}))},e}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){var e=this;(0,Z.fT)().then((function(t){var r=t.data,n=r.data,s=r.success;s?e.setState({isLoaded:!0,students:n,success:s,accordionKeys:new Array(n.length).fill().map((function(e,t){return t}))}):401==t.status?e.setState({isLoaded:!0,timeouterror:!0}):403==t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,r=t.unauthorizederror,n=t.timeouterror,s=t.isLoaded;t.accordionKeys;if(n)return(0,g.jsx)("div",{children:(0,g.jsx)(j.Z,{})});if(r)return(0,g.jsx)("div",{children:(0,g.jsx)(y.Z,{})});if(!s)return(0,g.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,g.jsx)(u.Z,{animation:"border",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden"})})});var a=this.state.students.map((function(t,r){return(0,g.jsxs)(c.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:[(0,g.jsx)(c.Z.Header,{onClick:function(){return e.singleExpandtHandler(r)},children:(0,g.jsx)(c.Z.Title,{"aria-controls":"accordion"+r,"aria-expanded":e.state.accordionKeys[r]===r,children:(0,g.jsxs)(v.Z,{to:"/student-database/"+t._id+"/CV_ML_RL",style:{textDecoration:"none"},className:"text-info",children:[t.firstname," ,",t.lastname]})})}),(0,g.jsx)(m.Z,{idx:r,student:t,accordionKeys:e.state.accordionKeys,singleExpandtHandler:e.singleExpandtHandler,role:e.props.user.role})]},r)}));return(0,g.jsxs)(f.Z,{children:[(0,g.jsx)(p.Z,{className:"sticky-top ",children:(0,g.jsx)(x.Z,{children:(0,g.jsx)(c.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,g.jsx)(c.Z.Header,{text:"dark",children:(0,g.jsx)(c.Z.Title,{children:(0,g.jsxs)(p.Z,{children:[(0,g.jsx)(x.Z,{children:"CV/ML/RL Center"}),(0,g.jsx)(x.Z,{md:{span:2,offset:0},children:this.state.expand?(0,g.jsx)(h.Z,{size:"sm",onClick:function(){return e.AllCollapsetHandler()},children:"Collaspse"}):(0,g.jsx)(h.Z,{size:"sm",onClick:function(){return e.AllExpandtHandler()},children:"Expand"})})]})})})})})}),(0,g.jsx)(p.Z,{children:(0,g.jsx)(x.Z,{sm:12,children:a})})]})}}]),r}(d.Component);t.default=k}}]);