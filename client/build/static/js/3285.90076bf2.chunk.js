"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[3285],{58433:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var s=n(27853),i=n(84531),a=n(78932),r=n(38128),o=n(47313),d=n(44030),l=n(35531),c=n(18489),p=n(93298),u=n(67203),h=n(63849),x=n(31616),m=n(65832),j=n(465),f=n(47939),g=n(37062),Z=n(57864),v=n(54991),_=n(83708),y=n(51767),b=n(82423),N=n(51426),C=n(46417),D=function(e){(0,a.Z)(n,e);var t=(0,r.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={error:null,student:e.props.student,applications:e.props.student.applications,isLoaded:e.props.isLoaded,student_id:null,program_id:null,success:!1,application_status_changed:!1,applying_program_count:e.props.student.applying_program_count,modalDeleteApplication:!1,modalUpdatedApplication:!1,res_status:0},e.handleChangeProgramCount=function(t){t.preventDefault();var n=t.target.value;e.setState((function(e){return(0,c.Z)((0,c.Z)({},e),{},{application_status_changed:!0,applying_program_count:n})}))},e.handleChange=function(t,n){t.preventDefault();var s=(0,l.Z)(e.state.applications);s[n][t.target.id]=t.target.value,e.setState((function(e){return(0,c.Z)((0,c.Z)({},e),{},{application_status_changed:!0,applications:s})}))},e.handleDelete=function(t,n,s){t.preventDefault(),e.setState((function(e){return(0,c.Z)((0,c.Z)({},e),{},{student_id:s,program_id:n,modalDeleteApplication:!0})}))},e.onHideModalDeleteApplication=function(){e.setState({modalDeleteApplication:!1})},e.onHideUpdatedApplicationWindow=function(){e.setState({modalUpdatedApplication:!1})},e.handleDeleteConfirm=function(t){t.preventDefault(),e.setState({isLoaded:!1}),(0,N.Jr)(e.state.program_id,e.state.student_id).then((function(t){var n=t.data,s=n.data,i=n.success,a=t.status;i?e.setState({isLoaded:!0,student:s,success:i,modalDeleteApplication:!1,res_status:a}):e.setState({isLoaded:!0,res_status:a})}),(function(t){e.setState({isLoaded:!0})}))},e.handleSubmit=function(t,n,s){t.preventDefault();for(var i=(0,l.Z)(e.state.applications),a=e.state.applying_program_count,r=0;r<i.length;r+=1)delete i[r].programId,delete i[r].doc_modification_thread;(0,N.A3)(n,i,a).then((function(t){var n=t.data,s=n.data,i=n.success,a=t.status;i?e.setState({isLoaded:!0,student:s,success:i,application_status_changed:!1,modalUpdatedApplication:!0,res_status:a}):e.setState({isLoaded:!0,res_status:a})}),(function(t){e.setState({isLoaded:!0})}))},e}return(0,i.Z)(n,[{key:"render",value:function(){var e,t=this,n=this.state,s=n.res_status;if(!n.isLoaded&&!this.state.student)return(0,C.jsx)("div",{style:y.nT,children:(0,C.jsx)(d.Z,{animation:"border",role:"status",children:(0,C.jsx)("span",{className:"visually-hidden"})})});if(s>=400)return(0,C.jsx)(b.Z,{res_status:s});var i=new Date;return e=void 0===this.props.student.applications||0===this.props.student.applications.length?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("tr",{children:["Student"!==this.props.role&&(0,C.jsx)("td",{}),(0,C.jsx)("td",{children:(0,C.jsx)("p",{className:"mb-1 text-danger",children:" No University"})}),(0,C.jsx)("td",{children:(0,C.jsx)("p",{className:"mb-1 text-danger",children:" No Program"})}),(0,C.jsx)("td",{children:(0,C.jsx)("p",{className:"mb-1 text-danger",children:" No Date"})}),(0,C.jsx)("td",{children:(0,C.jsx)("p",{className:"mb-1",children:" "})}),(0,C.jsx)("td",{children:(0,C.jsx)("p",{className:"mb-1",children:" "})}),(0,C.jsx)("td",{children:(0,C.jsx)("p",{className:"mb-1",children:" "})}),(0,C.jsx)("td",{children:(0,C.jsx)("p",{className:"mb-1",children:" "})}),(0,C.jsx)("td",{children:(0,C.jsx)("p",{className:"mb-1",children:" "})})]})}):this.state.student.applications.map((function(e,n){return(0,C.jsxs)("tr",{children:["Student"!==t.props.role&&(0,C.jsx)("td",{children:(0,C.jsx)(p.Z,{size:"sm",onClick:function(n){return t.handleDelete(n,e.programId._id,t.state.student._id)},children:(0,C.jsx)(Z.YK6,{size:16})})}),(0,C.jsx)("td",{children:(0,C.jsx)(g.Z,{to:"/programs/"+e.programId._id,style:{textDecoration:"none"},children:(0,C.jsx)("p",{className:"mb-1 text-info",children:e.programId.school},n)})}),(0,C.jsx)("td",{children:(0,C.jsx)(g.Z,{to:"/programs/"+e.programId._id,style:{textDecoration:"none"},children:(0,C.jsx)("p",{className:"mb-1 text-info",children:e.programId.program_name},n)})}),(0,C.jsx)("td",{children:(0,C.jsx)(g.Z,{to:"/programs/"+e.programId._id,style:{textDecoration:"none"},children:(0,C.jsx)("p",{className:"mb-1 text-info",children:e.programId.semester},n)})}),(0,C.jsx)("td",{children:"O"===e.closed?(0,C.jsx)("p",{className:"mb-1 text-warning",children:"Close"},n):(0,C.jsx)("p",{className:"mb-1 text-info",children:(0,_.x8)(t.props.student,e)},n)}),(0,C.jsx)("td",{children:(0,C.jsx)(u.Z.Group,{controlId:"decided",children:(0,C.jsxs)(u.Z.Control,{as:"select",onChange:function(e){return t.handleChange(e,n)},defaultValue:e.decided,children:[(0,C.jsx)("option",{value:"-",children:"-"}),(0,C.jsx)("option",{value:"X",children:"No"}),(0,C.jsx)("option",{value:"O",children:"Yes"})]})})}),"O"===e.decided?(0,C.jsx)("td",{children:(0,C.jsx)(u.Z.Group,{controlId:"closed",children:(0,C.jsxs)(u.Z.Control,{as:"select",onChange:function(e){return t.handleChange(e,n)},disabled:!("-"!==e.decided&&"X"!==e.decided),defaultValue:e.closed,children:[(0,C.jsx)("option",{value:"-",children:"-"}),(0,C.jsx)("option",{value:"X",children:"No"}),(0,C.jsx)("option",{value:"O",children:"Yes"})]})})}):(0,C.jsx)("td",{}),"O"===e.closed?(0,C.jsx)("td",{children:(0,C.jsx)(u.Z.Group,{controlId:"admission",children:(0,C.jsxs)(u.Z.Control,{as:"select",onChange:function(e){return t.handleChange(e,n)},disabled:!("-"!==e.closed&&"X"!==e.closed),defaultValue:e.admission,children:[(0,C.jsx)("option",{value:"-",children:"-"}),(0,C.jsx)("option",{value:"X",children:"No"}),(0,C.jsx)("option",{value:"O",children:"Yes"})]})})}):(0,C.jsx)("td",{}),(0,C.jsx)("td",{children:(0,C.jsx)("p",{className:"mb-1 text-info",children:e.closed?"-":e.programId.application_deadline?t.props.student.application_preference&&t.props.student.application_preference.expected_application_date&&(0,y.Vb)(i,t.props.student.application_preference.expected_application_date+"-"+e.programId.application_deadline):"-"},n)})]},n)})),(0,C.jsxs)(v.Z,{children:[(0,C.jsx)(h.Z,{children:(0,C.jsx)(x.Z,{children:(0,C.jsx)(m.Z,{className:"my-2 mx-0",bg:"black",text:"light",children:(0,C.jsx)(m.Z.Header,{children:(0,C.jsxs)(m.Z.Title,{className:"my-0 mx-0 text-light",children:[this.props.student.firstname," ",this.props.student.lastname]})})})})}),(0,_.ys)([this.state.student])&&(0,C.jsx)(h.Z,{children:(0,C.jsx)(x.Z,{children:(0,C.jsx)(m.Z,{className:"mb-2 mx-0",bg:"danger",text:"light",children:(0,C.jsxs)(m.Z.Body,{children:[this.props.student.firstname," ",this.props.student.lastname," ","did not choose enough programs."]})})})}),"Admin"===this.props.role&&(0,_.aH)(this.state.student)&&(0,C.jsx)(h.Z,{children:(0,C.jsx)(x.Z,{children:(0,C.jsx)(m.Z,{className:"mb-2 mx-0",bg:"danger",text:"light",children:(0,C.jsx)(m.Z.Body,{children:"The number of student's applications is not specified! Please determine the number of the programs according to the contract"})})})}),(0,C.jsx)(h.Z,{children:(0,C.jsxs)(x.Z,{children:[(0,C.jsxs)(m.Z,{className:"my-0 mx-0",bg:"info",text:"white",children:[(0,C.jsxs)(h.Z,{bg:"info",children:[(0,C.jsx)(x.Z,{md:4,className:"mx-2 my-2",children:(0,C.jsx)("h4",{children:"Applying Program Count: "})}),"Admin"===this.props.role?(0,C.jsx)(x.Z,{md:2,className:"mx-2 my-1",children:(0,C.jsx)(u.Z.Group,{controlId:"applying_program_count",children:(0,C.jsxs)(u.Z.Control,{as:"select",defaultValue:this.state.student.applying_program_count,onChange:function(e){return t.handleChangeProgramCount(e)},children:[(0,C.jsx)("option",{value:"0",children:"Please Select"}),(0,C.jsx)("option",{value:"1",children:"1"}),(0,C.jsx)("option",{value:"2",children:"2"}),(0,C.jsx)("option",{value:"3",children:"3"}),(0,C.jsx)("option",{value:"4",children:"4"}),(0,C.jsx)("option",{value:"5",children:"5"}),(0,C.jsx)("option",{value:"6",children:"6"}),(0,C.jsx)("option",{value:"7",children:"7"}),(0,C.jsx)("option",{value:"8",children:"8"}),(0,C.jsx)("option",{value:"9",children:"9"}),(0,C.jsx)("option",{value:"10",children:"10"})]})})}):(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Z,{md:2,className:"mx-2 my-3",children:(0,C.jsx)("h4",{children:this.state.student.applying_program_count})})})]}),(0,C.jsx)(h.Z,{children:(0,C.jsx)(x.Z,{children:(0,C.jsxs)(j.Z,{size:"sm",responsive:!0,className:"my-0 mx-0",variant:"dark",text:"light",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:["Student"!==this.props.role&&(0,C.jsx)("th",{}),window.programstatuslist.map((function(e,t){return(0,C.jsx)("th",{children:e.name},t)}))]})}),(0,C.jsx)("tbody",{children:e})]})})})]}),(0,C.jsx)(h.Z,{className:"my-2 mx-0",children:(0,C.jsx)(p.Z,{size:"sm",disabled:!this.state.application_status_changed,onClick:function(e){return t.handleSubmit(e,t.state.student._id,t.state.applications)},children:"Update"})}),(0,C.jsxs)(f.Z,{show:this.state.modalDeleteApplication,onHide:this.onHideModalDeleteApplication,size:"m","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,C.jsx)(f.Z.Header,{children:(0,C.jsx)(f.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning: Delete an application"})}),(0,C.jsx)(f.Z.Body,{children:"This will delete all message and editted files in discussion. Are you sure?"}),(0,C.jsxs)(f.Z.Footer,{children:[(0,C.jsx)(p.Z,{disabled:!this.state.isLoaded,onClick:this.handleDeleteConfirm,children:"Yes"}),(0,C.jsx)(p.Z,{onClick:this.onHideModalDeleteApplication,children:"Close"})]})]}),(0,C.jsxs)(f.Z,{show:this.state.modalUpdatedApplication,onHide:this.onHideUpdatedApplicationWindow,size:"m","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,C.jsx)(f.Z.Header,{children:(0,C.jsx)(f.Z.Title,{id:"contained-modal-title-vcenter",children:"Info:"})}),(0,C.jsx)(f.Z.Body,{children:"Applications status updated successfully!"}),(0,C.jsx)(f.Z.Footer,{children:(0,C.jsx)(p.Z,{onClick:this.onHideUpdatedApplicationWindow,children:"Close"})})]})]})})]})}}]),n}(o.Component),A=D,w=function(e){(0,a.Z)(n,e);var t=(0,r.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={isLoaded:!1,student:null,success:!1,error:null,res_status:0},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this;(0,N.u6)(this.props.match.params.student_id).then((function(t){var n=t.data,s=n.data,i=n.success,a=t.status;i?e.setState({isLoaded:!0,student:s,success:i,res_status:a}):e.setState({isLoaded:!0,res_status:a})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.res_status,n=e.isLoaded;return n||this.state.student?t>=400?(0,C.jsx)(b.Z,{res_status:t}):(0,C.jsx)(A,{isLoaded:n,role:this.props.user.role,student:this.state.student}):(0,C.jsx)("div",{style:y.nT,children:(0,C.jsx)(d.Z,{animation:"border",role:"status",children:(0,C.jsx)("span",{className:"visually-hidden"})})})}}]),n}(o.Component),E=w},62396:function(e,t,n){n.d(t,{Z:function(){return b}});var s=n(18489),i=n(83738),a=n(36222),r=n(46123),o=n.n(r),d=n(46988),l=n(47313),c=n(22752),p=n(59498);var u,h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];e.apply(this,s),t.apply(this,s)}}),null)},x=n(6280),m=n(39776),j=n(46417),f=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],g={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Z(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],s=g[e];return n+parseInt((0,d.Z)(t,s[0]),10)+parseInt((0,d.Z)(t,s[1]),10)}var v=(u={},(0,a.Z)(u,c.Wj,"collapse"),(0,a.Z)(u,c.Ix,"collapsing"),(0,a.Z)(u,c.d0,"collapsing"),(0,a.Z)(u,c.cn,"collapse show"),u),_={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Z},y=l.forwardRef((function(e,t){var n=e.onEnter,a=e.onEntering,r=e.onEntered,d=e.onExit,c=e.onExiting,u=e.className,g=e.children,_=e.dimension,y=void 0===_?"height":_,b=e.getDimensionValue,N=void 0===b?Z:b,C=(0,i.Z)(e,f),D="function"===typeof y?y():y,A=(0,l.useMemo)((function(){return h((function(e){e.style[D]="0"}),n)}),[D,n]),w=(0,l.useMemo)((function(){return h((function(e){var t="scroll".concat(D[0].toUpperCase()).concat(D.slice(1));e.style[D]="".concat(e[t],"px")}),a)}),[D,a]),E=(0,l.useMemo)((function(){return h((function(e){e.style[D]=null}),r)}),[D,r]),S=(0,l.useMemo)((function(){return h((function(e){e.style[D]="".concat(N(D,e),"px"),(0,x.Z)(e)}),d)}),[d,N,D]),I=(0,l.useMemo)((function(){return h((function(e){e.style[D]=null}),c)}),[D,c]);return(0,j.jsx)(m.Z,(0,s.Z)((0,s.Z)({ref:t,addEndListener:p.Z},C),{},{"aria-expanded":C.role?C.in:null,onEnter:A,onEntering:w,onEntered:E,onExit:S,onExiting:I,childRef:g.ref,children:function(e,t){return l.cloneElement(g,(0,s.Z)((0,s.Z)({},t),{},{className:o()(u,g.props.className,v[e],"width"===D&&"collapse-horizontal")}))}}))}));y.defaultProps=_;var b=y},465:function(e,t,n){var s=n(18489),i=n(83738),a=n(46123),r=n.n(a),o=n(47313),d=n(68524),l=n(46417),c=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],p=o.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,o=e.striped,p=e.bordered,u=e.borderless,h=e.hover,x=e.size,m=e.variant,j=e.responsive,f=(0,i.Z)(e,c),g=(0,d.vE)(n,"table"),Z=r()(a,g,m&&"".concat(g,"-").concat(m),x&&"".concat(g,"-").concat(x),o&&"".concat(g,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),p&&"".concat(g,"-bordered"),u&&"".concat(g,"-borderless"),h&&"".concat(g,"-hover")),v=(0,l.jsx)("table",(0,s.Z)((0,s.Z)({},f),{},{className:Z,ref:t}));if(j){var _="".concat(g,"-responsive");return"string"===typeof j&&(_="".concat(_,"-").concat(j)),(0,l.jsx)("div",{className:_,children:v})}return v}));t.Z=p}}]);