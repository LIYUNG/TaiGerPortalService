"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[1152],{27370:function(e,t,a){a.r(t);var s=a(27853),n=a(84531),o=a(78932),d=a(66621),r=a(47313),i=a(44030),c=a(93298),l=a(64212),u=a(54991),h=a(93105),p=a(51426),f=a(46417),g=function(e,t){console.log("drag started"),console.log("cardId: ".concat(e)),console.log("laneId: ".concat(t))},m=function(e,t,a){console.log("drag ended"),console.log("cardId: ".concat(e)),console.log("sourceLaneId: ".concat(t)),console.log("targetLaneId: ".concat(a))},v=function(e){console.log(e)},C=function(e){(0,o.Z)(a,e);var t=(0,d.Z)(a);function a(){var e;(0,s.Z)(this,a);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return(e=t.call.apply(t,[this].concat(o))).state={error:null,isLoaded:!1,tasks:null,success:null,card_title:"",card_description:"",card_modal_flag:!1,empty:!1},e.completeCard=function(){e.state.eventBus.publish({type:"ADD_CARD",laneId:"COMPLETED",card:{id:"Milk",title:"Buy Milk",label:"15 mins",description:"Use Headspace app"}}),e.state.eventBus.publish({type:"REMOVE_CARD",laneId:"PLANNED",cardId:"Milk"})},e.closeCardWindow=function(){e.setState({card_modal_flag:!1})},e.onCardClick=function(t,a,s){console.log(t),console.log(a),console.log(s);var n=e.state.tasks.lanes.find((function(e){return e.id===s}));console.log(n);var o=n.cards.find((function(e){return e.id===t}));e.setState({card_title:o.title,card_description:o.description,card_modal_flag:!0})},e.addCard=function(){e.state.eventBus.publish({type:"ADD_CARD",laneId:"BLOCKED",card:{id:"Ec2Error",title:"EC2 Instance Down",label:"30 mins",description:"Main EC2 instance down"}})},e.setEventBus=function(t){e.setState({eventBus:t})},e.handleCardAdd=function(e,t){console.log("New card added to lane ".concat(t)),console.dir(e)},e.shouldReceiveNewData=function(e){console.log("New card has been added"),console.log(e)},e.initTask=function(){var t=e.props.match?e.props.match.params.student_id:e.props.student_id;(0,p.i8)(t).then((function(t){var a=t.data,s=a.success,n=a.data,o=n[0];0!==n.length?s?e.setState({success:s,tasks:o,empty:!1,isLoaded:!0}):alert(t.data.message):s?e.setState({success:s,empty:!0,isLoaded:!0}):alert(t.data.message)}),(function(t){e.setState({isLoaded:!1,error:t})}))},e}return(0,n.Z)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match?this.props.match.params.student_id:this.props.student_id;t&&(0,p._B)(t).then((function(t){var a=t.data,s=a.success,n=a.data,o=n[0];0!==n.length?s?e.setState({success:s,tasks:o,empty:!1,isLoaded:!0}):alert(t.data.message):s?e.setState({success:s,empty:!0,isLoaded:!0}):alert(t.data.message)}),(function(t){e.setState({isLoaded:!1,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,s={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};return t?(0,f.jsx)("div",{children:"Error: your session is timeout! Please refresh the page and Login"}):a||this.state.tasks?(0,f.jsxs)(u.Z,{children:[this.state.empty?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(c.Z,{style:s,onClick:this.initTask,children:"Create Tasks"})}):(0,f.jsx)(h.ZP,{data:this.state.tasks,style:{backgroundColor:"transparent"},cardDraggable:!0,onDataChange:v,onCardAdd:this.handleCardAdd,eventBusHandle:this.setEventBus,handleDragStart:g,handleDragEnd:m,onCardClick:this.onCardClick}),(0,f.jsxs)(l.Z,{show:this.state.card_modal_flag,onHide:this.closeCardWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,f.jsx)(l.Z.Header,{children:(0,f.jsx)(l.Z.Title,{id:"contained-modal-title-vcenter",children:this.state.card_title})}),(0,f.jsxs)(l.Z.Body,{children:[this.state.card_description," "]}),(0,f.jsx)(l.Z.Footer,{children:(0,f.jsx)(c.Z,{onClick:this.closeCardWindow,children:"Close"})})]})]}):(0,f.jsx)("div",{style:s,children:(0,f.jsx)(i.Z,{animation:"border",role:"status",children:(0,f.jsx)("span",{className:"visually-hidden"})})})}}]),a}(r.Component);t.default=C},96205:function(e,t,a){var s=a(1368),n=a(47313),o=a(46123),d=a.n(o);t.Z=function(e){return n.forwardRef((function(t,a){return n.createElement("div",(0,s.Z)({},t,{ref:a,className:d()(t.className,e)}))}))}}}]);