"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[9085],{49065:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var n=s(35531),i=s(36222),r=s(18489),o=s(27853),a=s(84531),d=s(78932),l=s(38128),u=s(47313),c=s(44030),h=s(94395),p=s(54991),f=s(63849),m=s(31616),v=s(65832),x=s(465),E=(s(93240),s(52532)),Z=s(46417),g=function(t){(0,d.Z)(s,t);var e=(0,l.Z)(s);function s(){return(0,o.Z)(this,s),e.apply(this,arguments)}return(0,a.Z)(s,[{key:"render",value:function(){var t=this,e=this.props.students.map((function(e,s){return(0,Z.jsx)(E.Z,{role:t.props.role,student:e,updateStudentArchivStatus:t.props.updateStudentArchivStatus,editEditor:t.props.editEditor,editor_list:t.props.editor_list,updateEditorList:t.props.updateEditorList,handleChangeEditorlist:t.props.handleChangeEditorlist,submitUpdateEditorlist:t.props.submitUpdateEditorlist},s)}));return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(f.Z,{children:(0,Z.jsx)(m.Z,{children:(0,Z.jsxs)(v.Z,{className:"my-0 mx-0",bg:"danger",text:"white",children:[(0,Z.jsx)(v.Z.Header,{children:(0,Z.jsx)(v.Z.Title,{className:"my-0 mx-0 text-light",children:"No Editors Students"})}),(0,Z.jsxs)(x.Z,{responsive:!0,className:"my-0 mx-0",variant:"dark",text:"light",size:"sm",children:[(0,Z.jsx)("thead",{children:(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{}),(0,Z.jsx)("th",{children:"First-, Last Name"}),(0,Z.jsx)("th",{children:"Email"})]})}),(0,Z.jsx)("tbody",{children:e})]})]})})})})}}]),s}(u.Component),j=g,b=s(82423),y=s(51767),_=s(51426),L=function(t){(0,d.Z)(s,t);var e=(0,l.Z)(s);function s(){var t;(0,o.Z)(this,s);for(var a=arguments.length,d=new Array(a),l=0;l<a;l++)d[l]=arguments[l];return(t=e.call.apply(e,[this].concat(d))).state={error:null,editor_list:[],isLoaded:!1,students:[],updateEditorList:{},success:!1,isDashboard:!0,res_status:0},t.editEditor=function(e){(0,_.TB)().then((function(s){var n=s.success,o=s.status;n||t.setState({isLoaded:!0,res_status:o});var a=s.data.data,d=e.editors,l=a.reduce((function(t,e){var s=e._id;return(0,r.Z)((0,r.Z)({},t),{},(0,i.Z)({},s,!!d&&d.findIndex((function(t){return t._id===s}))>-1))}),{});t.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{editor_list:a,updateEditorList:l})}))}),(function(t){}))},t.handleChangeEditorlist=function(e){var s=e.target,n=s.value,o=s.checked;t.setState((function(t){return{updateEditorList:(0,r.Z)((0,r.Z)({},t.updateEditorList),{},(0,i.Z)({},n,o))}}))},t.submitUpdateEditorlist=function(e,s,n){e.preventDefault(),t.UpdateEditorlist(e,s,n)},t.UpdateEditorlist=function(e,s,i){e.preventDefault(),(0,_.OJ)(s,i).then((function(e){var s=e.data,r=s.data,o=s.success,a=e.status;if(o){var d=(0,n.Z)(t.state.students),l=d.findIndex((function(t){return t._id===i}));d[l]=r,t.setState({isLoaded:!0,students:d,success:o,updateEditorList:[],res_status:a})}else t.setState({isLoaded:!0,res_status:a})}),(function(t){alert("UpdateEditorlist is failed.")}))},t}return(0,a.Z)(s,[{key:"componentDidMount",value:function(){var t=this;(0,_.sK)().then((function(e){var s=e.data,n=s.data,i=s.success;i?t.setState({isLoaded:!0,students:n,success:i,res_status:status}):t.setState({isLoaded:!0,res_status:status})}),(function(e){t.setState({isLoaded:!0,error:!0})}))}},{key:"componentDidUpdate",value:function(t,e){var s=this;!1===this.state.isLoaded&&(0,_.sK)().then((function(t){var e=t.data,n=e.data,i=e.success,r=t.status;i?s.setState({isLoaded:!0,students:n,success:i,res_status:r}):s.setState({isLoaded:!0,res_status:r})}),(function(t){s.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){if("Admin"!==this.props.user.role)return(0,Z.jsx)(h.Z,{to:"/dashboard/default"});var t=this.state,e=t.res_status,s=t.isLoaded;return s||this.state.data?e>=400?(0,Z.jsx)(b.Z,{res_status:e}):(0,Z.jsxs)(p.Z,{children:[!s&&(0,Z.jsx)("div",{style:y.nT,children:(0,Z.jsx)(c.Z,{animation:"border",role:"status",children:(0,Z.jsx)("span",{className:"visually-hidden"})})}),(0,Z.jsx)(j,{role:this.props.user.role,editEditor:this.editEditor,editor_list:this.state.editor_list,students:this.state.students,updateEditorList:this.state.updateEditorList,handleChangeEditorlist:this.handleChangeEditorlist,submitUpdateEditorlist:this.submitUpdateEditorlist,SYMBOL_EXPLANATION:y.vE,updateStudentArchivStatus:this.updateStudentArchivStatus,isDashboard:this.state.isDashboard})]}):(0,Z.jsx)("div",{style:y.nT,children:(0,Z.jsx)(c.Z,{animation:"border",role:"status",children:(0,Z.jsx)("span",{className:"visually-hidden"})})})}}]),s}(u.Component),C=L},52532:function(t,e,s){var n=s(27853),i=s(84531),r=s(78932),o=s(38128),a=s(47313),d=s(41251),l=s(73158),u=s(89700),c=s(46417),h=function(t){(0,r.Z)(s,t);var e=(0,o.Z)(s);function s(){var t;(0,n.Z)(this,s);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={showEditorPage:!1},t.setEditorModalhide=function(){t.setState({showEditorPage:!1})},t.startEditingEditor=function(e){t.props.editEditor(e),t.setState({subpage:2,showEditorPage:!0})},t.submitUpdateEditorlist=function(e,s,n){e.preventDefault(),t.setEditorModalhide(),t.props.submitUpdateEditorlist(e,s,n)},t}return(0,i.Z)(s,[{key:"render",value:function(){var t=this;return void 0===this.props.student.editors||0===this.props.student.editors.length?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("tr",{children:["Admin"===this.props.role&&!this.props.isArchivPage&&(0,c.jsx)("td",{children:(0,c.jsx)(d.Z,{size:"sm",title:"Option",variant:"primary",id:"dropdown-variants-".concat(this.props.student._id),children:(0,c.jsx)(l.Z.Item,{eventKey:"2",onClick:function(){return t.startEditingEditor(t.props.student)},children:"Edit Editor"})},this.props.student._id)}),(0,c.jsxs)("td",{children:[this.props.student.firstname,", ",this.props.student.lastname]}),(0,c.jsx)("td",{children:this.props.student.email})]}),"Admin"===this.props.role&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(u.Z,{student:this.props.student,editor_list:this.props.editor_list,show:this.state.showEditorPage,onHide:this.setEditorModalhide,setmodalhide:this.setEditorModalhide,updateEditorList:this.props.updateEditorList,handleChangeEditorlist:this.props.handleChangeEditorlist,submitUpdateEditorlist:this.submitUpdateEditorlist})})]}):(0,c.jsx)(c.Fragment,{})}}]),s}(a.Component);e.Z=h},89700:function(t,e,s){var n=s(27853),i=s(84531),r=s(78932),o=s(38128),a=s(47313),d=s(47939),l=s(465),u=s(67203),c=s(93298),h=s(46417),p=function(t){(0,r.Z)(s,t);var e=(0,o.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){var t=this;return(0,h.jsxs)(d.Z,{show:this.props.show,onHide:this.props.onHide,size:"l","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,h.jsx)(d.Z.Header,{children:(0,h.jsxs)(d.Z.Title,{id:"contained-modal-title-vcenter",children:["Editor for ",this.props.student.firstname," -"," ",this.props.student.lastname]})}),(0,h.jsxs)(d.Z.Body,{children:[(0,h.jsx)("h4",{children:"Editor:"}),(0,h.jsx)(l.Z,{size:"sm",children:(0,h.jsx)("tbody",{children:this.props.editor_list?this.props.editor_list.map((function(e,s){return(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:(0,h.jsx)(u.Z.Group,{children:(0,h.jsx)(u.Z.Check,{custom:!0,type:"checkbox",name:"student_id",defaultChecked:!!t.props.student.editors&&t.props.student.editors.findIndex((function(t){return t._id===e._id}))>-1,onChange:function(e){return t.props.handleChangeEditorlist(e)},value:e._id,id:"editor"+s+1})})}),(0,h.jsx)("td",{children:(0,h.jsxs)("h5",{className:"my-0",children:[e.firstname," ",e.lastname]})})]},s+1)})):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{children:(0,h.jsx)("h5",{className:"my-0",children:" No Editor"})})})})})]}),(0,h.jsxs)(d.Z.Footer,{children:[(0,h.jsx)(c.Z,{onClick:function(e){return t.props.submitUpdateEditorlist(e,t.props.updateEditorList,t.props.student._id)},children:"Update"}),(0,h.jsx)(c.Z,{onClick:this.props.setmodalhide,children:"Cancel"})]})]})}}]),s}(a.Component);e.Z=p},62396:function(t,e,s){s.d(e,{Z:function(){return y}});var n=s(18489),i=s(83738),r=s(36222),o=s(46123),a=s.n(o),d=s(46988),l=s(47313),u=s(22752),c=s(59498);var h,p=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return e.filter((function(t){return null!=t})).reduce((function(t,e){if("function"!==typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];t.apply(this,n),e.apply(this,n)}}),null)},f=s(6280),m=s(39776),v=s(46417),x=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],E={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Z(t,e){var s=e["offset".concat(t[0].toUpperCase()).concat(t.slice(1))],n=E[t];return s+parseInt((0,d.Z)(e,n[0]),10)+parseInt((0,d.Z)(e,n[1]),10)}var g=(h={},(0,r.Z)(h,u.Wj,"collapse"),(0,r.Z)(h,u.Ix,"collapsing"),(0,r.Z)(h,u.d0,"collapsing"),(0,r.Z)(h,u.cn,"collapse show"),h),j={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Z},b=l.forwardRef((function(t,e){var s=t.onEnter,r=t.onEntering,o=t.onEntered,d=t.onExit,u=t.onExiting,h=t.className,E=t.children,j=t.dimension,b=void 0===j?"height":j,y=t.getDimensionValue,_=void 0===y?Z:y,L=(0,i.Z)(t,x),C="function"===typeof b?b():b,w=(0,l.useMemo)((function(){return p((function(t){t.style[C]="0"}),s)}),[C,s]),S=(0,l.useMemo)((function(){return p((function(t){var e="scroll".concat(C[0].toUpperCase()).concat(C.slice(1));t.style[C]="".concat(t[e],"px")}),r)}),[C,r]),N=(0,l.useMemo)((function(){return p((function(t){t.style[C]=null}),o)}),[C,o]),k=(0,l.useMemo)((function(){return p((function(t){t.style[C]="".concat(_(C,t),"px"),(0,f.Z)(t)}),d)}),[d,_,C]),M=(0,l.useMemo)((function(){return p((function(t){t.style[C]=null}),u)}),[C,u]);return(0,v.jsx)(m.Z,(0,n.Z)((0,n.Z)({ref:e,addEndListener:c.Z},L),{},{"aria-expanded":L.role?L.in:null,onEnter:w,onEntering:S,onEntered:N,onExit:k,onExiting:M,childRef:E.ref,children:function(t,e){return l.cloneElement(E,(0,n.Z)((0,n.Z)({},e),{},{className:a()(h,E.props.className,g[t],"width"===C&&"collapse-horizontal")}))}}))}));b.defaultProps=j;var y=b},41251:function(t,e,s){s.d(e,{Z:function(){return x}});var n=s(18489),i=s(83738),r=s(47313),o=s(75192),a=s.n(o),d=s(73158),l=s(1683),u=s(38388),c=a().oneOf(["start","end"]),h=a().oneOfType([c,a().shape({sm:c}),a().shape({md:c}),a().shape({lg:c}),a().shape({xl:c}),a().shape({xxl:c}),a().object]),p=s(46417),f=["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id","menuVariant","flip"],m={id:a().string,href:a().string,onClick:a().func,title:a().node.isRequired,disabled:a().bool,align:h,menuRole:a().string,renderMenuOnMount:a().bool,rootCloseEvent:a().string,menuVariant:a().oneOf(["dark"]),flip:a().bool,bsPrefix:a().string,variant:a().string,size:a().string},v=r.forwardRef((function(t,e){var s=t.title,r=t.children,o=t.bsPrefix,a=t.rootCloseEvent,c=t.variant,h=t.size,m=t.menuRole,v=t.renderMenuOnMount,x=t.disabled,E=t.href,Z=t.id,g=t.menuVariant,j=t.flip,b=(0,i.Z)(t,f);return(0,p.jsxs)(d.Z,(0,n.Z)((0,n.Z)({ref:e},b),{},{children:[(0,p.jsx)(l.Z,{id:Z,href:E,size:h,variant:c,disabled:x,childBsPrefix:o,children:s}),(0,p.jsx)(u.Z,{role:m,renderOnMount:v,rootCloseEvent:a,variant:g,flip:j,children:r})]}))}));v.displayName="DropdownButton",v.propTypes=m;var x=v},465:function(t,e,s){var n=s(18489),i=s(83738),r=s(46123),o=s.n(r),a=s(47313),d=s(68524),l=s(46417),u=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],c=a.forwardRef((function(t,e){var s=t.bsPrefix,r=t.className,a=t.striped,c=t.bordered,h=t.borderless,p=t.hover,f=t.size,m=t.variant,v=t.responsive,x=(0,i.Z)(t,u),E=(0,d.vE)(s,"table"),Z=o()(r,E,m&&"".concat(E,"-").concat(m),f&&"".concat(E,"-").concat(f),a&&"".concat(E,"-").concat("string"===typeof a?"striped-".concat(a):"striped"),c&&"".concat(E,"-bordered"),h&&"".concat(E,"-borderless"),p&&"".concat(E,"-hover")),g=(0,l.jsx)("table",(0,n.Z)((0,n.Z)({},x),{},{className:Z,ref:e}));if(v){var j="".concat(E,"-responsive");return"string"===typeof v&&(j="".concat(j,"-").concat(v)),(0,l.jsx)("div",{className:j,children:g})}return g}));e.Z=c}}]);