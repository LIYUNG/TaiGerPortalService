"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[8118],{92634:function(t,e,a){var r=a(18489),s=a(27853),n=a(84531),i=a(78932),o=a(38128),d=a(47313),c=a(65832),l=a(31974),u=a(46417),h=function(t){(0,i.Z)(a,t);var e=(0,o.Z)(a);function a(){var t;(0,s.Z)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={doc_title:t.props.document_title},t.handleChange=function(e){e.preventDefault();var a=(0,r.Z)({},t.state.doc_title);a=e.target.value,t.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{doc_title:a})}))},t.handleClickSave=function(e,a){e.preventDefault(),t.props.handleClickSave(e,t.state.doc_title,a)},t}return(0,n.Z)(a,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(c.Z,{children:(0,u.jsx)(c.Z.Body,{children:(0,u.jsx)(l.Z,{category:this.props.category,doc_title:"not_used",editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})})})})}}]),a}(d.Component);e.Z=h},51025:function(t,e,a){var r=a(27853),s=a(84531),n=a(78932),i=a(38128),o=a(47313),d=a(65832),c=a(63849),l=a(31616),u=a(93298),h=a(1110),p=a(51767),f=(a(7077),a(46417)),m=function(t){(0,n.Z)(a,t);var e=(0,i.Z)(a);function a(){return(0,r.Z)(this,a),e.apply(this,arguments)}return(0,s.Z)(a,[{key:"render",value:function(){var t=this;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.Z,{className:"mb-2 mx-0",children:(0,f.jsxs)(d.Z.Body,{children:[(0,f.jsx)(h.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(c.Z,{children:[(0,f.jsx)(l.Z,{md:2,children:(0,f.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,f.jsx)(l.Z,{md:10,children:(0,f.jsx)("p",{className:"my-0",children:(0,p.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,f.jsx)(u.Z,{size:"sm",onClick:function(){return t.props.handleClick()},children:"Edit"})]})})})}}]),a}(o.Component);e.Z=m},13859:function(t,e,a){a.r(e);var r=a(18489),s=a(27853),n=a(84531),i=a(78932),o=a(38128),d=a(47313),c=a(44030),l=a(94395),u=a(51025),h=a(92634),p=a(51767),f=a(66417),m=a(51426),v=a(46417),Z=function(t){(0,i.Z)(a,t);var e=(0,o.Z)(a);function a(){var t;(0,s.Z)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={isLoaded:!1,success:!1,error:null,editorState:null,isEdit:!1,res_status:0},t.handleClickCancel=function(e){t.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isEdit:!t.state.isEdit})}))},t.handleClickSave=function(e,a,s){e.preventDefault();var n=JSON.stringify(s),i={category:"internal",title:a,prop:t.props.item,text:n};(0,m.tU)(i).then((function(e){var a=e.data,r=a.success,n=a.data,i=e.status;r?t.setState({success:r,document_title:n.title,editorState:s,isEdit:!t.state.isEdit,isLoaded:!0,res_status:i}):t.setState({isLoaded:!0,res_status:i})}),(function(e){t.setState({error:e})})),t.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{in_edit_mode:!1})}))},t.handleClick=function(){t.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isEdit:!t.state.isEdit})}))},t}return(0,n.Z)(a,[{key:"componentDidMount",value:function(){var t=this;(0,m.Or)().then((function(e){var a=e.data,r=a.data,s=a.success,n=e.status;if(s){var i=null;i=r.text?JSON.parse(r.text):{time:new Date,blocks:[]},t.setState({isLoaded:!0,editorState:i,success:s,res_status:n})}else t.setState({isLoaded:!0,res_status:n})}),(function(e){t.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){if("Admin"!==this.props.user.role&&"Editor"!==this.props.user.role&&"Agent"!==this.props.user.role)return(0,v.jsx)(l.Z,{to:"/dashboard/default"});var t=this.state,e=t.res_status,a=t.editorState,r=t.isLoaded;return r||a?e>=400?(0,v.jsx)(f.Z,{res_status:e}):this.state.isEdit?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(h.Z,{category:"category",document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:r,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(u.Z,{document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:r,role:this.props.user.role,handleClick:this.handleClick})}):(0,v.jsx)("div",{style:p.nT,children:(0,v.jsx)(c.Z,{animation:"border",role:"status",children:(0,v.jsx)("span",{className:"visually-hidden"})})})}}]),a}(d.Component);e.default=Z},65832:function(t,e,a){a.d(e,{Z:function(){return P}});var r=a(18489),s=a(83738),n=a(46123),i=a.n(n),o=a(47313),d=a(68524),c=a(28864),l=a(96205),u=a(46417),h=["bsPrefix","className","variant","as"],p=o.forwardRef((function(t,e){var a=t.bsPrefix,n=t.className,o=t.variant,c=t.as,l=void 0===c?"img":c,p=(0,s.Z)(t,h),f=(0,d.vE)(a,"card-img");return(0,u.jsx)(l,(0,r.Z)({ref:e,className:i()(o?"".concat(f,"-").concat(o):f,n)},p))}));p.displayName="CardImg";var f=p,m=a(15614),v=["bsPrefix","className","as"],Z=o.forwardRef((function(t,e){var a=t.bsPrefix,n=t.className,c=t.as,l=void 0===c?"div":c,h=(0,s.Z)(t,v),p=(0,d.vE)(a,"card-header"),f=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:p}}),[p]);return(0,u.jsx)(m.Z.Provider,{value:f,children:(0,u.jsx)(l,(0,r.Z)((0,r.Z)({ref:e},h),{},{className:i()(n,p)}))})}));Z.displayName="CardHeader";var x=Z,C=["bsPrefix","className","bg","text","border","body","children","as"],S=(0,l.Z)("h5"),k=(0,l.Z)("h6"),y=(0,c.Z)("card-body"),_=(0,c.Z)("card-title",{Component:S}),j=(0,c.Z)("card-subtitle",{Component:k}),g=(0,c.Z)("card-link",{Component:"a"}),b=(0,c.Z)("card-text",{Component:"p"}),N=(0,c.Z)("card-footer"),E=(0,c.Z)("card-img-overlay"),L=o.forwardRef((function(t,e){var a=t.bsPrefix,n=t.className,o=t.bg,c=t.text,l=t.border,h=t.body,p=t.children,f=t.as,m=void 0===f?"div":f,v=(0,s.Z)(t,C),Z=(0,d.vE)(a,"card");return(0,u.jsx)(m,(0,r.Z)((0,r.Z)({ref:e},v),{},{className:i()(n,Z,o&&"bg-".concat(o),c&&"text-".concat(c),l&&"border-".concat(l)),children:h?(0,u.jsx)(y,{children:p}):p}))}));L.displayName="Card",L.defaultProps={body:!1};var P=Object.assign(L,{Img:f,Title:_,Subtitle:j,Body:y,Link:g,Text:b,Header:x,Footer:N,ImgOverlay:E})},15614:function(t,e,a){var r=a(47313).createContext(null);r.displayName="CardHeaderContext",e.Z=r}}]);