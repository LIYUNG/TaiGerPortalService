"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[2232],{92634:function(e,t,r){var a=r(18489),s=r(27853),n=r(84531),i=r(78932),o=r(38128),d=r(47313),c=r(65832),l=r(31974),u=r(46417),h=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={doc_title:e.props.document_title},e.handleChange=function(t){t.preventDefault();var r=(0,a.Z)({},e.state.doc_title);r=t.target.value,e.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{doc_title:r})}))},e.handleClickSave=function(t,r){t.preventDefault(),e.props.handleClickSave(t,e.state.doc_title,r)},e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(c.Z,{children:(0,u.jsx)(c.Z.Body,{children:(0,u.jsx)(l.Z,{category:this.props.category,doc_title:"not_used",editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})})})})}}]),r}(d.Component);t.Z=h},51025:function(e,t,r){var a=r(27853),s=r(84531),n=r(78932),i=r(38128),o=r(47313),d=r(65832),c=r(63849),l=r(31616),u=r(93298),h=r(1110),p=r(51767),m=(r(7077),r(46417)),f=function(e){(0,n.Z)(r,e);var t=(0,i.Z)(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){var e=this;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(d.Z,{className:"mb-2 mx-0",children:(0,m.jsxs)(d.Z.Body,{children:[(0,m.jsx)(h.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(c.Z,{children:[(0,m.jsx)(l.Z,{md:2,children:(0,m.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,m.jsx)(l.Z,{md:10,children:(0,m.jsx)("p",{className:"my-0",children:(0,p.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(u.Z,{size:"sm",onClick:function(){return e.props.handleClick()},children:"Edit"})]})})})}}]),r}(o.Component);t.Z=f},15253:function(e,t,r){r.r(t);var a=r(18489),s=r(36222),n=r(27853),i=r(84531),o=r(78932),d=r(38128),c=r(47313),l=r(44030),u=r(63849),h=r(31616),p=r(65832),m=r(51025),f=r(92634),x=r(94611),Z=r(86450),v=r(29021),y=r(51426),j=r(51767),g=r(94395),S=r(46417),C=function(e){(0,o.Z)(r,e);var t=(0,d.Z)(r);function r(){var e,i;(0,n.Z)(this,r);for(var o=arguments.length,d=new Array(o),c=0;c<o;c++)d[c]=arguments[c];return(i=t.call.apply(t,[this].concat(d))).state=(e={isLoaded:!1,success:!1,error:null,editorState:null,unauthorizederror:null},(0,s.Z)(e,"unauthorizederror",null),(0,s.Z)(e,"isEdit",!1),e),i.handleClickCancel=function(e){i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isEdit:!i.state.isEdit})}))},i.handleClickSave=function(e,t,r){e.preventDefault();var s=JSON.stringify(r),n={category:i.props.match.params.category,title:t,prop:i.props.item,text:s};(0,y.Y0)(i.props.match.params.category,n).then((function(e){var t=e.data,a=t.success,s=t.data;a?i.setState({success:a,timeouterror:!1,pagenotfounderror:!1,document_title:s.title,editorState:r,isEdit:!i.state.isEdit,isLoaded:!0}):401===e.status||500===e.status?i.setState({isLoaded:!0,timeouterror:!0}):403===e.status?i.setState({isLoaded:!0,unauthorizederror:!0}):(e.status,i.setState({isLoaded:!0,pagenotfounderror:!0}))}),(function(e){i.setState({error:e})})),i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{in_edit_mode:!1})}))},i.handleClick=function(){i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isEdit:!i.state.isEdit})}))},i}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){var e=this;(0,y.go)(this.props.match.params.category).then((function(t){var r=t.data,a=r.data,s=r.success;if(s){var n=null;n=a.text?JSON.parse(a.text):{time:new Date,blocks:[]},e.setState({isLoaded:!0,editorState:n,timeouterror:!1,pagenotfounderror:!1,success:s})}else 401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status?e.setState({isLoaded:!0,unauthorizederror:!0}):e.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var r=this;e.match.params.category!==this.props.match.params.category&&(0,y.go)(this.props.match.params.category).then((function(e){var t=e.data,a=t.data,s=t.success;if(s){var n=null;n=a.text?JSON.parse(a.text):{time:new Date,blocks:[]},r.setState({isLoaded:!0,editorState:n,timeouterror:!1,pagenotfounderror:!1,success:s})}else 401===e.status||500===e.status?r.setState({isLoaded:!0,timeouterror:!0}):403===e.status?r.setState({isLoaded:!0,unauthorizederror:!0}):r.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(e){r.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this;if("Admin"!==this.props.user.role&&"Editor"!==this.props.user.role&&"Agent"!==this.props.user.role&&"Student"!==this.props.user.role)return(0,S.jsx)(g.Z,{to:"/dashboard/default"});var t=this.state,r=t.unauthorizederror,a=t.timeouterror,s=t.pagenotfounderror,n=(t.error,t.editorState),i=t.isLoaded;if(a)return(0,S.jsx)("div",{children:(0,S.jsx)(x.Z,{})});if(r)return(0,S.jsx)("div",{children:(0,S.jsx)(Z.Z,{})});if(s)return(0,S.jsx)("div",{children:(0,S.jsx)(v.Z,{})});return i||n?this.state.isEdit?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.Z,{className:"sticky-top ",children:(0,S.jsx)(h.Z,{children:(0,S.jsx)(p.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,S.jsx)(p.Z.Header,{text:"dark",children:(0,S.jsx)(p.Z.Title,{children:(0,S.jsx)(u.Z,{children:(0,S.jsx)(h.Z,{className:"my-0 mx-0 text-light",children:j.XA.find((function(t){return t.key===e.props.match.params.category})).value})})})})})})}),(0,S.jsx)(f.Z,{category:"category",document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:i,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.Z,{className:"sticky-top ",children:(0,S.jsx)(h.Z,{children:(0,S.jsx)(p.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,S.jsx)(p.Z.Header,{text:"dark",children:(0,S.jsx)(p.Z.Title,{children:(0,S.jsx)(u.Z,{children:(0,S.jsx)(h.Z,{className:"my-0 mx-0 text-light",children:j.XA.find((function(t){return t.key===e.props.match.params.category})).value})})})})})})}),(0,S.jsx)(m.Z,{document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:i,role:this.props.user.role,handleClick:this.handleClick})]}):(0,S.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,S.jsx)(l.Z,{animation:"border",role:"status",children:(0,S.jsx)("span",{className:"visually-hidden"})})})}}]),r}(c.Component);t.default=C},65832:function(e,t,r){r.d(t,{Z:function(){return w}});var a=r(18489),s=r(83738),n=r(46123),i=r.n(n),o=r(47313),d=r(68524),c=r(28864),l=r(96205),u=r(46417),h=["bsPrefix","className","variant","as"],p=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,o=e.variant,c=e.as,l=void 0===c?"img":c,p=(0,s.Z)(e,h),m=(0,d.vE)(r,"card-img");return(0,u.jsx)(l,(0,a.Z)({ref:t,className:i()(o?"".concat(m,"-").concat(o):m,n)},p))}));p.displayName="CardImg";var m=p,f=r(15614),x=["bsPrefix","className","as"],Z=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,c=e.as,l=void 0===c?"div":c,h=(0,s.Z)(e,x),p=(0,d.vE)(r,"card-header"),m=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:p}}),[p]);return(0,u.jsx)(f.Z.Provider,{value:m,children:(0,u.jsx)(l,(0,a.Z)((0,a.Z)({ref:t},h),{},{className:i()(n,p)}))})}));Z.displayName="CardHeader";var v=Z,y=["bsPrefix","className","bg","text","border","body","children","as"],j=(0,l.Z)("h5"),g=(0,l.Z)("h6"),S=(0,c.Z)("card-body"),C=(0,c.Z)("card-title",{Component:j}),k=(0,c.Z)("card-subtitle",{Component:g}),b=(0,c.Z)("card-link",{Component:"a"}),N=(0,c.Z)("card-text",{Component:"p"}),_=(0,c.Z)("card-footer"),L=(0,c.Z)("card-img-overlay"),E=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,o=e.bg,c=e.text,l=e.border,h=e.body,p=e.children,m=e.as,f=void 0===m?"div":m,x=(0,s.Z)(e,y),Z=(0,d.vE)(r,"card");return(0,u.jsx)(f,(0,a.Z)((0,a.Z)({ref:t},x),{},{className:i()(n,Z,o&&"bg-".concat(o),c&&"text-".concat(c),l&&"border-".concat(l)),children:h?(0,u.jsx)(S,{children:p}):p}))}));E.displayName="Card",E.defaultProps={body:!1};var w=Object.assign(E,{Img:m,Title:C,Subtitle:k,Body:S,Link:b,Text:N,Header:v,Footer:_,ImgOverlay:L})},15614:function(e,t,r){var a=r(47313).createContext(null);a.displayName="CardHeaderContext",t.Z=a},63849:function(e,t,r){var a=r(18489),s=r(83738),n=r(46123),i=r.n(n),o=r(47313),d=r(68524),c=r(46417),l=["bsPrefix","className","as"],u=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,o=e.as,u=void 0===o?"div":o,h=(0,s.Z)(e,l),p=(0,d.vE)(r,"row"),m=(0,d.pi)(),f=(0,d.zG)(),x="".concat(p,"-cols"),Z=[];return m.forEach((function(e){var t,r=h[e];delete h[e],t=null!=r&&"object"===typeof r?r.cols:r;var a=e!==f?"-".concat(e):"";null!=t&&Z.push("".concat(x).concat(a,"-").concat(t))})),(0,c.jsx)(u,(0,a.Z)((0,a.Z)({ref:t},h),{},{className:i().apply(void 0,[n,p].concat(Z))}))}));u.displayName="Row",t.Z=u},96205:function(e,t,r){var a=r(18489),s=r(47313),n=r(46123),i=r.n(n),o=r(46417);t.Z=function(e){return s.forwardRef((function(t,r){return(0,o.jsx)("div",(0,a.Z)((0,a.Z)({},t),{},{ref:r,className:i()(t.className,e)}))}))}},85463:function(){}}]);