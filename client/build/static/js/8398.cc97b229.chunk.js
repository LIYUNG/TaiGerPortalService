"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[8398],{28398:function(e,t,s){var n=s(36222),i=s(18489),a=s(27853),o=s(84531),r=s(78932),d=s(38128),l=s(47313),c=s(44030),u=s(63849),h=s(465),f=s(31616),p=s(75828),m=s(60257),Z=s(46090),j=s(3735),x=s(59931),g=s(20688),v=s(51767),b=s(51426),k=s(46417),D=function(e){(0,r.Z)(s,e);var t=(0,d.Z)(s);function s(){var e;(0,a.Z)(this,s);for(var o=arguments.length,r=new Array(o),d=0;d<o;d++)r[d]=arguments[d];return(e=t.call.apply(t,[this].concat(r))).state={student:e.props.student,student_id:"",isLoaded:{},ready:!1,docName:"",file:"",deleteFileWarningModel:!1,res_status:0,res_modal_status:""},e.onUpdateProfileFilefromstudent=function(t,s,a,o){e.setState((function(e){return{isLoaded:(0,i.Z)((0,i.Z)({},e.isLoaded),{},(0,n.Z)({},t,!1))}})),(0,b.dn)(t,s,a,o).then((function(s){var a=s.data,o=a.data,r=a.success,d=s.status;if(r)e.setState((function(e){return(0,i.Z)((0,i.Z)({},e),{},{student:o,success:r,isLoaded:(0,i.Z)((0,i.Z)({},e.isLoaded),{},(0,n.Z)({},t,!0)),res_modal_status:d})}));else{var l=s.data.message;e.setState((function(e){return{isLoaded:(0,i.Z)((0,i.Z)({},e.isLoaded),{},(0,n.Z)({},t,!0)),res_modal_message:l,res_modal_status:d}}))}}),(function(t){e.setState({isLoaded:!0,error:t})}))},e.onDeleteFilefromstudent=function(t,s){var a=(0,i.Z)({},e.state.student),o=a.profile.findIndex((function(e){return e.name===t}));e.setState((function(e){return{isLoaded:(0,i.Z)((0,i.Z)({},e.isLoaded),{},(0,n.Z)({},t,!1))}})),(0,b._I)(t,s).then((function(s){var r=s.data,d=r.data,l=r.success,c=s.status;if(l)a.profile[o]=d,e.setState((function(e){return(0,i.Z)((0,i.Z)({},e),{},{student_id:"",category:"",isLoaded:(0,i.Z)((0,i.Z)({},e.isLoaded),{},(0,n.Z)({},t,!0)),student:a,success:l,deleteFileWarningModel:!1,res_modal_status:c})}));else{var u=s.data.message;e.setState((function(e){return{isLoaded:(0,i.Z)((0,i.Z)({},e.isLoaded),{},(0,n.Z)({},t,!0)),deleteFileWarningModel:!1,res_modal_message:u,res_modal_status:c}}))}}),(function(t){e.setState({isLoaded:!0,error:!0})}))},e.ConfirmError=function(){e.setState((function(e){return(0,i.Z)((0,i.Z)({},e),{},{res_modal_status:0,res_modal_message:""})}))},e.handleGeneralDocSubmit=function(t,s,n){t.preventDefault(),e.onSubmitGeneralFile(t,t.target.files[0],s,n)},e.onSubmitGeneralFile=function(t,s,a,o){t.preventDefault();var r=new FormData;r.append("file",s),e.setState((function(e){return{isLoaded:(0,i.Z)((0,i.Z)({},e.isLoaded),{},(0,n.Z)({},a,!1))}})),(0,b.HQ)(a,o,r).then((function(t){var s=t.data,o=s.data,r=s.success,d=t.status;if(r)e.setState((function(e){return(0,i.Z)((0,i.Z)({},e),{},{student:o,success:r,category:"",isLoaded:(0,i.Z)((0,i.Z)({},e.isLoaded),{},(0,n.Z)({},a,!0)),file:"",res_modal_status:d})}));else{var l=t.data.message;e.setState((function(e){return{isLoaded:(0,i.Z)((0,i.Z)({},e.isLoaded),{},(0,n.Z)({},a,!0)),res_modal_message:l,res_modal_status:d}}))}}),(function(t){e.setState({isLoaded:!0,error:t})}))},e.updateDocLink=function(t,s){(0,b.xn)(t,s,"base-documents").then((function(t){var s=t.data,n=s.helper_link,a=s.success,o=t.status;if(a)e.setState((function(e){return(0,i.Z)((0,i.Z)({},e),{},{isLoaded2:!0,base_docs_link:n,success:a,res_modal_status:o})}));else{var r=t.data.message;e.setState((function(e){return(0,i.Z)((0,i.Z)({},e),{},{isLoaded2:!0,res_modal_message:r,res_modal_status:o})}))}}),(function(e){}))},e}return(0,o.Z)(s,[{key:"componentDidMount",value:function(){for(var e=Object.keys(window.profile_wtih_doc_link_list),t={},s=0;s<e.length;s++)t[e[s]]=!0;this.setState({isLoaded:t,ready:!0})}},{key:"render",value:function(){var e=this,t=this.state,s=t.res_modal_status,n=t.res_modal_message;if(!t.ready)return(0,k.jsx)("div",{style:v.nT,children:(0,k.jsx)(c.Z,{animation:"border",role:"status",children:(0,k.jsx)("span",{className:"visually-hidden"})})});for(var i,a=Object.values(window.profile_list),o=Object.keys(window.profile_wtih_doc_link_list),r={},d={},l={},b={},D=0;D<o.length;D++)r[o[D]]={status:"missing",link:""},d[o[D]]="",l[o[D]]="",b[o[D]]="";if(this.props.base_docs_link)for(var y=0;y<this.props.base_docs_link.length;y++)r[this.props.base_docs_link[y].key].link=this.props.base_docs_link[y].link;if(this.state.student.profile)for(var L=0;L<this.state.student.profile.length;L++){var S=this.state.student.profile[L].path.replace(/\\/g,"/");"uploaded"===this.state.student.profile[L].status?(r[this.state.student.profile[L].name].status="uploaded",r[this.state.student.profile[L].name].path=S.split("/")[1]):"accepted"===this.state.student.profile[L].status?(r[this.state.student.profile[L].name].status="accepted",r[this.state.student.profile[L].name].path=S.split("/")[1]):"rejected"===this.state.student.profile[L].status?(r[this.state.student.profile[L].name].status="rejected",r[this.state.student.profile[L].name].path=S.split("/")[1]):"notneeded"===this.state.student.profile[L].status?r[this.state.student.profile[L].name].status="notneeded":"missing"===this.state.student.profile[L].status&&(r[this.state.student.profile[L].name].status="missing"),d[this.state.student.profile[L].name]=this.state.student.profile[L].feedback?this.state.student.profile[L].feedback:"",l[this.state.student.profile[L].name]=new Date(this.state.student.profile[L].updatedAt).toLocaleDateString(),b[this.state.student.profile[L].name]=new Date(this.state.student.profile[L].updatedAt).toLocaleTimeString()}return i=o.map((function(t,s){return"uploaded"===r[t].status?(0,k.jsx)(p.Z,{updateDocLink:e.updateDocLink,link:r[t].link,path:r[t].path,role:e.props.user.role,isLoaded:e.state.isLoaded[t],docName:a[s],date:l[t],time:b[t],k:t,student_id:e.state.student._id,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent},s+1):"accepted"===r[t].status?(0,k.jsx)(m.Z,{updateDocLink:e.updateDocLink,link:r[t].link,path:r[t].path,role:e.props.user.role,isLoaded:e.state.isLoaded[t],docName:a[s],date:l[t],time:b[t],k:t,student_id:e.state.student._id,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,deleteFileWarningModel:e.state.deleteFileWarningModel},s+1):"rejected"===r[t].status?(0,k.jsx)(Z.Z,{updateDocLink:e.updateDocLink,link:r[t].link,path:r[t].path,role:e.props.user.role,isLoaded:e.state.isLoaded[t],docName:a[s],date:l[t],time:b[t],k:t,message:d[t],student_id:e.state.student._id,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,deleteFileWarningModel:e.state.deleteFileWarningModel},s+1):"notneeded"===r[t].status?("Admin"===e.props.user.role||"Agent"===e.props.user.role)&&(0,k.jsx)(j.Z,{updateDocLink:e.updateDocLink,link:r[t].link,role:e.props.user.role,isLoaded:e.state.isLoaded[t],docName:a[s],date:l[t],time:b[t],k:t,student_id:e.state.student._id,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,deleteFileWarningModel:e.state.deleteFileWarningModel,handleGeneralDocSubmit:e.handleGeneralDocSubmit},s+1):(0,k.jsx)(x.Z,{updateDocLink:e.updateDocLink,link:r[t].link,role:e.props.user.role,isLoaded:e.state.isLoaded[t],docName:a[s],date:l[t],time:b[t],k:t,message:d[t],student_id:e.state.student._id,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,handleGeneralDocSubmit:e.handleGeneralDocSubmit},s+1)})),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Z,{children:(0,k.jsxs)(h.Z,{responsive:!0,className:"my-0 mx-0",variant:"dark",text:"light",size:"sm",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:"Status"}),(0,k.jsx)("th",{children:"File Name:"}),(0,k.jsx)("th",{}),(0,k.jsx)("th",{}),(0,k.jsx)("th",{}),(0,k.jsx)("th",{}),(0,k.jsx)("th",{children:"Delete"})]})}),(0,k.jsx)("tbody",{children:i})]})}),(0,k.jsx)(u.Z,{children:(0,k.jsx)(f.Z,{className:"md-4",children:this.props.SYMBOL_EXPLANATION})}),s>=400&&(0,k.jsx)(g.Z,{ConfirmError:this.ConfirmError,res_modal_status:s,res_modal_message:n})]})}}]),s}(l.Component);t.Z=D},60257:function(e,t,s){var n=s(18489),i=s(27853),a=s(84531),o=s(78932),r=s(38128),d=s(47313),l=s(31616),c=s(93298),u=s(67203),h=s(47939),f=s(44030),p=s(16614),m=s(89351),Z=s(57864),j=s(3394),x=s(32916),g=s(46417),v=function(e){(0,o.Z)(s,e);var t=(0,r.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={student:e.props.student,link:e.props.link,student_id:"",category:"",docName:"",comments:"",feedback:"",file:"",isLoaded:e.props.isLoaded,deleteFileWarningModel:!1,CommentModel:!1,rejectProfileFileModel:!1,acceptProfileFileModel:!1,baseDocsflagOffcanvas:!1,baseDocsflagOffcanvasButtonDisable:!1},e.closeOffcanvasWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvas:!1})}))},e.openOffcanvasWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvas:!0})}))},e.closeWarningWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{deleteFileWarningModel:!1})}))},e.closeCommentWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{CommentModel:!1})}))},e.closeRejectWarningWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{rejectProfileFileModel:!1})}))},e.onDeleteFileWarningPopUp=function(t,s,i,a){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:i,category:s,docName:a,deleteFileWarningModel:!0})}))},e.handleRejectMessage=function(t,s){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{feedback:s})}))},e.onUpdateProfileDocStatus=function(t,s,i,a){t.preventDefault(),"accepted"===a?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:i,category:s,status:a,acceptProfileFileModel:!0})})):e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:i,category:s,status:a,rejectProfileFileModel:!0})}))},e.onDeleteFilefromstudent=function(t){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!1})})),e.props.onDeleteFilefromstudent(e.state.category,e.state.student_id)},e.onUpdateProfileFilefromstudent=function(t){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!1})})),e.props.onUpdateProfileFilefromstudent(e.state.category,e.state.student_id,e.state.status,e.state.feedback)},e.updateDocLink=function(t){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvasButtonDisable:!0})})),e.props.updateDocLink(e.state.link,e.props.k),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvasButtonDisable:!1,baseDocsflagOffcanvas:!1})}))},e.onChangeURL=function(t){t.preventDefault();var s=t.target.value;e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{link:s})}))},e}return(0,a.Z)(s,[{key:"componentDidUpdate",value:function(e){var t=this;e.isLoaded!==this.props.isLoaded&&this.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:t.props.isLoaded})}))}},{key:"render",value:function(){var e,t=this;return e=(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)(j.cfq,{size:24,color:"limegreen",title:"Valid Document"})}),(0,g.jsxs)("td",{children:[this.props.docName,(0,g.jsx)("a",{href:this.state.link&&""!=this.state.link?this.state.link:"/",target:"_blank",className:"text-info",children:(0,g.jsx)(x.AlO,{className:"mx-1 mb-1",style:{cursor:"pointer"}})}),"Admin"===this.props.role&&(0,g.jsx)("a",{onClick:this.openOffcanvasWindow,style:{cursor:"pointer"},children:"[Edit]"})," - ",this.props.date," - ",this.props.time]}),(0,g.jsx)("td",{children:(0,g.jsx)(l.Z,{md:!0,children:(0,g.jsx)("a",{href:"".concat(m._,"/api/students/").concat(this.props.student_id.toString(),"/files/").concat(this.props.path),target:"_blank",children:(0,g.jsx)(c.Z,{size:"sm",type:"submit",title:"Download",children:(0,g.jsx)(Z.RFS,{size:16})})})})}),(0,g.jsx)("td",{}),"Editor"===this.props.role||"Student"===this.props.role?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("td",{}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("td",{children:(0,g.jsx)(l.Z,{md:!0,children:(0,g.jsx)(u.Z,{onSubmit:function(e){return t.onUpdateProfileDocStatus(e,t.props.k,t.props.student_id,"rejected")},children:(0,g.jsx)(u.Z.Group,{controlId:"exampleForm.ControlSelect1",children:(0,g.jsx)(c.Z,{variant:"secondary",size:"sm",type:"submit",disabled:!this.state.isLoaded,children:(0,g.jsx)(Z.SR5,{size:16})})})})})}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{children:(0,g.jsx)(l.Z,{children:(0,g.jsx)(u.Z,{onSubmit:function(e){return t.onDeleteFileWarningPopUp(e,t.props.k,t.props.student_id,t.props.docName)},children:(0,g.jsx)(u.Z.Group,{controlId:"exampleForm.ControlSelect1",children:(0,g.jsx)(c.Z,{variant:"danger",size:"sm",type:"submit",title:"Delete",disabled:!this.state.isLoaded,children:(0,g.jsx)(Z.VPh,{size:16})})})})})})]})]}),(0,g.jsxs)(g.Fragment,{children:[e,(0,g.jsxs)(h.Z,{show:this.state.deleteFileWarningModel,onHide:this.closeWarningWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,g.jsx)(h.Z.Header,{children:(0,g.jsx)(h.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,g.jsxs)(h.Z.Body,{children:["Do you want to delete ",this.props.docName,"?"]}),(0,g.jsxs)(h.Z.Footer,{children:[(0,g.jsx)(c.Z,{disabled:!this.state.isLoaded,onClick:function(e){return t.onDeleteFilefromstudent(e)},children:this.state.isLoaded?"Yes":(0,g.jsx)("div",{children:(0,g.jsx)(f.Z,{animation:"border",role:"status",variant:"light",size:"sm",children:(0,g.jsx)("span",{className:"visually-hidden"})})})}),(0,g.jsx)(c.Z,{onClick:this.closeWarningWindow,children:"No"})]})]}),(0,g.jsxs)(h.Z,{show:this.state.rejectProfileFileModel,onHide:this.closeRejectWarningWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,g.jsx)(h.Z.Header,{children:(0,g.jsx)(h.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,g.jsx)(h.Z.Body,{children:(0,g.jsxs)(u.Z.Group,{controlId:"rejectmessage",children:[(0,g.jsxs)(u.Z.Label,{children:["Please give a reason why the uploaded ",this.state.category," is invalied?"]}),(0,g.jsx)(u.Z.Control,{type:"text",placeholder:"ex. Poor scanned quality.",defaultValue:"",onChange:function(e){return t.handleRejectMessage(e,e.target.value)}})]})}),(0,g.jsxs)(h.Z.Footer,{children:[(0,g.jsx)(c.Z,{disabled:""===this.state.feedback,onClick:function(e){return t.onUpdateProfileFilefromstudent(e)},children:this.state.isLoaded?"Yes":(0,g.jsx)("div",{children:(0,g.jsx)(f.Z,{animation:"border",role:"status",variant:"light",size:"sm",children:(0,g.jsx)("span",{className:"visually-hidden"})})})}),(0,g.jsx)(c.Z,{onClick:this.closeRejectWarningWindow,children:"No"})]})]}),(0,g.jsxs)(h.Z,{show:this.state.CommentModel,onHide:this.closeCommentWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,g.jsx)(h.Z.Header,{children:(0,g.jsx)(h.Z.Title,{id:"contained-modal-title-vcenter",children:"Comments"})}),(0,g.jsx)(h.Z.Body,{children:this.state.comments}),(0,g.jsx)(h.Z.Footer,{children:(0,g.jsx)(c.Z,{onClick:this.closeCommentWindow,children:this.state.isLoaded?"Ok":(0,g.jsx)("div",{children:(0,g.jsx)(f.Z,{animation:"border",role:"status",variant:"light",size:"sm",children:(0,g.jsx)("span",{className:"visually-hidden"})})})})})]}),(0,g.jsxs)(p.Z,{show:this.state.baseDocsflagOffcanvas,onHide:this.closeOffcanvasWindow,placement:"end",children:[(0,g.jsx)(p.Z.Header,{closeButton:!0,children:(0,g.jsx)(p.Z.Title,{children:"Edit"})}),(0,g.jsxs)(p.Z.Body,{children:[(0,g.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,g.jsxs)(u.Z.Label,{children:["Documentation Link for ",(0,g.jsx)("b",{children:this.props.docName})]}),(0,g.jsx)(u.Z.Control,{placeholder:"https://taigerconsultancy-portal.com/docs/search/12345678",defaultValue:this.state.link,onChange:function(e){return t.onChangeURL(e)}})]}),(0,g.jsx)(c.Z,{onClick:function(e){return t.updateDocLink(e)},disabled:this.state.baseDocsflagOffcanvasButtonDisable,children:"Save"})]})]})]})}}]),s}(d.Component);t.Z=v},59931:function(e,t,s){var n=s(18489),i=s(27853),a=s(84531),o=s(78932),r=s(38128),d=s(47313),l=s(44030),c=s(67203),u=s(31616),h=s(93298),f=s(47939),p=s(16614),m=s(60860),Z=s(57864),j=s(32916),x=s(46417),g=function(e){(0,o.Z)(s,e);var t=(0,r.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={student:e.props.student,link:e.props.link,student_id:"",category:"",comments:"",file:"",isLoaded:e.props.isLoaded,deleteFileWarningModel:!1,CommentModel:!1,setMissingWindow:!1,acceptProfileFileModel:!1,baseDocsflagOffcanvas:!1,baseDocsflagOffcanvasButtonDisable:!1},e.closeOffcanvasWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvas:!1})}))},e.openOffcanvasWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvas:!0})}))},e.closeSetMissingWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{setMissingWindow:!1})}))},e.handleGeneralDocSubmit=function(t,s,i){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!1})})),e.props.handleGeneralDocSubmit(t,s,i)},e.onUpdateProfileDocStatus=function(t,s,i,a){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:i,category:s,status:a,setMissingWindow:!0})}))},e.onUpdateProfileFilefromstudent=function(t){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!1})})),e.props.onUpdateProfileFilefromstudent(e.state.category,e.state.student_id,e.state.status,e.state.feedback)},e.updateDocLink=function(t){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvasButtonDisable:!0})})),e.props.updateDocLink(e.state.link,e.props.k),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvasButtonDisable:!1,baseDocsflagOffcanvas:!1})}))},e.onChangeURL=function(t){t.preventDefault();var s=t.target.value;e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{link:s})}))},e}return(0,a.Z)(s,[{key:"componentDidUpdate",value:function(e){var t=this;e.isLoaded!==this.props.isLoaded&&this.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:t.props.isLoaded})}))}},{key:"render",value:function(){var e,t=this;e=(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:(0,x.jsx)(Z.znh,{size:24,color:"lightgray",title:"No Document uploaded"})}),(0,x.jsxs)("td",{children:[this.props.docName,(0,x.jsx)("a",{href:this.state.link&&""!=this.state.link?this.state.link:"/",target:"_blank",className:"text-info",children:(0,x.jsx)(j.AlO,{className:"mx-1 mb-1",style:{cursor:"pointer"}})}),"Admin"===this.props.role&&(0,x.jsx)("a",{onClick:this.openOffcanvasWindow,style:{cursor:"pointer"},children:"[Edit]"})]}),"Student"===this.props.role||"Admin"===this.props.role||"Agent"===this.props.role?(0,x.jsx)("td",{children:this.state.isLoaded?(0,x.jsxs)(c.Z.Group,{controlId:"".concat(this.props.k),children:[(0,x.jsx)(c.Z.Label,{children:(0,x.jsx)(m.lnH,{color:"white",size:32})}),(0,x.jsx)(c.Z.Control,{hidden:!0,type:"file",onChange:function(e){return t.handleGeneralDocSubmit(e,t.props.k,t.props.student_id)}})]}):(0,x.jsx)("div",{children:(0,x.jsx)(l.Z,{animation:"border",role:"status",variant:"light",children:(0,x.jsx)("span",{className:"visually-hidden"})})})}):(0,x.jsx)("td",{}),(0,x.jsx)("td",{}),"Admin"===this.props.role||"Agent"===this.props.role?(0,x.jsx)("td",{children:(0,x.jsx)(u.Z,{md:!0,children:(0,x.jsx)(c.Z,{onSubmit:function(e){return t.onUpdateProfileDocStatus(e,t.props.k,t.props.student_id,"notneeded")},children:(0,x.jsx)(c.Z.Group,{controlId:"".concat(this.props.k),children:(0,x.jsx)(h.Z,{variant:"secondary",size:"sm",type:"submit",children:"Set notneeded"})})})})}):(0,x.jsx)("td",{}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]});return(0,x.jsxs)(x.Fragment,{children:[e,(0,x.jsxs)(f.Z,{show:this.state.setMissingWindow,onHide:this.closeSetMissingWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,x.jsx)(f.Z.Header,{children:(0,x.jsx)(f.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,x.jsxs)(f.Z.Body,{children:["Do you want to set ",this.state.category," unnecessary document?",!this.state.isLoaded&&(0,x.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,x.jsx)(l.Z,{animation:"border",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden"})})})]}),(0,x.jsxs)(f.Z.Footer,{children:[(0,x.jsx)(h.Z,{disabled:!this.state.isLoaded,onClick:function(e){return t.onUpdateProfileFilefromstudent(e)},children:"Yes"}),(0,x.jsx)(h.Z,{onClick:this.closeSetMissingWindow,children:"No"})]})]}),(0,x.jsxs)(p.Z,{show:this.state.baseDocsflagOffcanvas,onHide:this.closeOffcanvasWindow,placement:"end",children:[(0,x.jsx)(p.Z.Header,{closeButton:!0,children:(0,x.jsx)(p.Z.Title,{children:"Edit"})}),(0,x.jsxs)(p.Z.Body,{children:[(0,x.jsxs)(c.Z.Group,{className:"mb-3",children:[(0,x.jsxs)(c.Z.Label,{children:["Documentation Link for ",(0,x.jsx)("b",{children:this.props.docName})]}),(0,x.jsx)(c.Z.Control,{placeholder:"https://taigerconsultancy-portal.com/docs/search/12345678",defaultValue:this.state.link,onChange:function(e){return t.onChangeURL(e)}})]}),(0,x.jsx)(h.Z,{onClick:function(e){return t.updateDocLink(e)},disabled:this.state.baseDocsflagOffcanvasButtonDisable,children:"Save"})]})]})]})}}]),s}(d.Component);t.Z=g},3735:function(e,t,s){var n=s(18489),i=s(27853),a=s(84531),o=s(78932),r=s(38128),d=s(47313),l=s(44030),c=s(67203),u=s(31616),h=s(93298),f=s(47939),p=s(16614),m=s(60860),Z=s(58821),j=s(32916),x=s(46417),g=function(e){(0,o.Z)(s,e);var t=(0,r.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={student:e.props.student,link:e.props.link,student_id:"",category:"",docName:"",comments:"",file:"",isLoaded:e.props.isLoaded,SetNeededWindow:!1,baseDocsflagOffcanvas:!1,baseDocsflagOffcanvasButtonDisable:!1},e.closeOffcanvasWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvas:!1})}))},e.openOffcanvasWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvas:!0})}))},e.closeSetNeededWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{SetNeededWindow:!1})}))},e.onUpdateProfileDocStatus=function(t,s,i,a){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:i,category:s,status:a,SetNeededWindow:!0})}))},e.onUpdateProfileFilefromstudent=function(t){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!1})})),e.props.onUpdateProfileFilefromstudent(e.state.category,e.state.student_id,e.state.status,e.state.feedback)},e.updateDocLink=function(t){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvasButtonDisable:!0})})),e.props.updateDocLink(e.state.link,e.props.k),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvasButtonDisable:!1,baseDocsflagOffcanvas:!1})}))},e.onChangeURL=function(t){t.preventDefault();var s=t.target.value;e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{link:s})}))},e.handleGeneralDocSubmit=function(t,s,i){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!1})})),e.props.handleGeneralDocSubmit(t,s,i)},e}return(0,a.Z)(s,[{key:"componentDidUpdate",value:function(e){var t=this;e.isLoaded!==this.props.isLoaded&&this.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:t.props.isLoaded})}))}},{key:"render",value:function(){var e,t=this;e=(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)(Z.pZ2,{size:24,color:"lightgray",title:"Not needed"})}),(0,x.jsxs)("td",{children:[this.props.docName,(0,x.jsx)("a",{href:this.state.link&&""!=this.state.link?this.state.link:"/",target:"_blank",className:"text-info",children:(0,x.jsx)(j.AlO,{className:"mx-1 mb-1",style:{cursor:"pointer"}})}),"Admin"===this.props.role&&(0,x.jsx)("a",{onClick:this.openOffcanvasWindow,style:{cursor:"pointer"},children:"[Edit]"})," - ",this.props.date," - ",this.props.time]}),"Editor"===this.props.role?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{children:this.state.isLoaded?(0,x.jsxs)(c.Z.Group,{controlId:"".concat(this.props.k),children:[(0,x.jsx)(c.Z.Label,{children:(0,x.jsx)(m.lnH,{color:"white",size:32})}),(0,x.jsx)(c.Z.Control,{hidden:!0,type:"file",onChange:function(e){return t.handleGeneralDocSubmit(e,t.props.k,t.props.student_id)}})]}):(0,x.jsx)("div",{style:s,children:(0,x.jsx)(l.Z,{animation:"border",role:"status",variant:"light",children:(0,x.jsx)("span",{className:"visually-hidden"})})})}),(0,x.jsx)("td",{})]}),(0,x.jsx)("td",{children:(0,x.jsx)(u.Z,{children:(0,x.jsx)(c.Z,{onSubmit:function(e){return t.onUpdateProfileDocStatus(e,t.props.k,t.props.student_id,"missing")},children:(0,x.jsx)(c.Z.Group,{controlId:"".concat(this.props.k),children:(0,x.jsx)(h.Z,{size:"sm",type:"submit",children:"Set Needed"})})})})}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]});var s={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};return(0,x.jsxs)(x.Fragment,{children:[e,(0,x.jsxs)(f.Z,{show:this.state.SetNeededWindow,onHide:this.closeSetNeededWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,x.jsx)(f.Z.Header,{children:(0,x.jsx)(f.Z.Title,{id:"contained-modal-title-vcenter",children:"Comments"})}),(0,x.jsxs)(f.Z.Body,{children:["Do you want to set ",this.state.category," as mandatory document?",!this.state.isLoaded&&(0,x.jsx)("div",{style:s,children:(0,x.jsx)(l.Z,{animation:"border",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden"})})})]}),(0,x.jsxs)(f.Z.Footer,{children:[(0,x.jsx)(h.Z,{disabled:!this.state.isLoaded,onClick:function(e){return t.onUpdateProfileFilefromstudent(e)},children:"Ok"}),(0,x.jsx)(h.Z,{onClick:this.closeSetNeededWindow,children:"Ok"})]})]}),(0,x.jsxs)(p.Z,{show:this.state.baseDocsflagOffcanvas,onHide:this.closeOffcanvasWindow,placement:"end",children:[(0,x.jsx)(p.Z.Header,{closeButton:!0,children:(0,x.jsx)(p.Z.Title,{children:"Edit"})}),(0,x.jsxs)(p.Z.Body,{children:[(0,x.jsxs)(c.Z.Group,{className:"mb-3",children:[(0,x.jsxs)(c.Z.Label,{children:["Documentation Link for ",(0,x.jsx)("b",{children:this.props.docName})]}),(0,x.jsx)(c.Z.Control,{placeholder:"https://taigerconsultancy-portal.com/docs/search/12345678",defaultValue:this.state.link,onChange:function(e){return t.onChangeURL(e)}})]}),(0,x.jsx)(h.Z,{onClick:function(e){return t.updateDocLink(e)},disabled:this.state.baseDocsflagOffcanvasButtonDisable,children:"Save"})]})]})]})}}]),s}(d.Component);t.Z=g},46090:function(e,t,s){var n=s(18489),i=s(27853),a=s(84531),o=s(78932),r=s(38128),d=s(47313),l=s(31616),c=s(93298),u=s(47939),h=s(44030),f=s(67203),p=s(16614),m=s(89351),Z=s(57864),j=s(51426),x=s(32916),g=s(46417),v=function(e){(0,o.Z)(s,e);var t=(0,r.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={student:e.props.student,link:e.props.link,student_id:"",category:"",docName:"",feedback:"",comments:e.props.message,file:"",isLoaded:e.props.isLoaded,deleteFileWarningModel:e.props.deleteFileWarningModel,CommentModel:e.props.CommentModel,rejectProfileFileModel:e.props.rejectProfileFileModel,acceptProfileFileModel:e.props.acceptProfileFileModel,baseDocsflagOffcanvas:!1,baseDocsflagOffcanvasButtonDisable:!1},e.closeOffcanvasWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvas:!1})}))},e.openOffcanvasWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvas:!0})}))},e.openWarningWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{deleteFileWarningModel:!0})}))},e.closeWarningWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{deleteFileWarningModel:!1})}))},e.openCommentWindow=function(t,s){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{CommentModel:!0,student_id:t,category:s})}))},e.closeCommentWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{CommentModel:!1})}))},e.closeRejectWarningWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{rejectProfileFileModel:!1})}))},e.closeAcceptWarningWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{acceptProfileFileModel:!1})}))},e.onDeleteFileWarningPopUp=function(t,s,i,a){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:i,category:s,docName:a,deleteFileWarningModel:!0})}))},e.handleRejectMessage=function(t,s){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{comments:s})}))},e.onUpdateProfileDocStatus=function(t,s,i,a){t.preventDefault(),"accepted"===a?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:i,category:s,status:a,acceptProfileFileModel:!0})})):e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:i,category:s,status:a,rejectProfileFileModel:!0})}))},e.onDeleteFilefromstudent=function(t){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!1})})),e.props.onDeleteFilefromstudent(e.state.category,e.state.student_id)},e.onUpdateProfileFilefromstudent=function(t){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!1})})),t.preventDefault(),e.props.onUpdateProfileFilefromstudent(e.state.category,e.state.student_id,e.state.status,e.state.comments)},e.updateDocLink=function(t){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvasButtonDisable:!0})})),e.props.updateDocLink(e.state.link,e.props.k),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvasButtonDisable:!1,baseDocsflagOffcanvas:!1})}))},e.onChangeURL=function(t){t.preventDefault();var s=t.target.value;e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{link:s})}))},e.onUpdateRejectMessageStudent=function(t){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!1})})),t.preventDefault(),(0,j.dn)(e.state.category,e.state.student_id,"rejected",e.state.comments).then((function(t){var s=t.data,i=s.data,a=s.success;a?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student:i,success:a,CommentModel:!1,isLoaded:!0})})):(alert(t.data.message),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!0})})))}),(function(t){e.setState({isLoaded:!0,error:t})}))},e}return(0,a.Z)(s,[{key:"componentDidUpdate",value:function(e){var t=this;e.isLoaded!==this.props.isLoaded&&this.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:t.props.isLoaded})}))}},{key:"render",value:function(){var e,t=this;e=(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)(Z.LHV,{size:24,color:"red",title:"Invalid Document"})}),(0,g.jsxs)("td",{children:[this.props.docName,(0,g.jsx)("a",{href:this.state.link&&""!=this.state.link?this.state.link:"/",target:"_blank",className:"text-info",children:(0,g.jsx)(x.AlO,{className:"mx-1 mb-1",style:{cursor:"pointer"}})}),"Admin"===this.props.role&&(0,g.jsx)("a",{onClick:this.openOffcanvasWindow,style:{cursor:"pointer"},children:"[Edit]"})," - ",this.props.date," - ",this.props.time]}),(0,g.jsx)("td",{children:(0,g.jsx)(l.Z,{children:(0,g.jsx)("a",{href:"".concat(m._,"/api/students/").concat(this.props.student_id.toString(),"/files/").concat(this.props.path),target:"_blank",children:(0,g.jsx)(c.Z,{size:"sm",type:"submit",title:"Download",children:(0,g.jsx)(Z.RFS,{size:16})})})})}),"Agent"===this.props.role||"Admin"===this.props.role?(0,g.jsx)("td",{children:(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{variant:"success",size:"sm",type:"submit",title:"Mark as finshed",disabled:!this.state.isLoaded,onClick:function(e){return t.onUpdateProfileDocStatus(e,t.props.k,t.props.student_id,"accepted")},children:(0,g.jsx)(Z.bzc,{})})})}):(0,g.jsx)("td",{}),(0,g.jsx)("td",{children:(0,g.jsx)(c.Z,{size:"sm",type:"submit",variant:"light",disabled:!this.state.isLoaded,title:"Show Comments",onClick:function(e){return t.openCommentWindow(t.props.student_id,t.props.k)},children:(0,g.jsx)(Z.RG4,{size:20})})}),(0,g.jsx)("td",{}),"Agent"===this.props.role||"Admin"===this.props.role||"Student"===this.props.role?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("td",{children:(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{variant:"danger",size:"sm",type:"submit",title:"Delete",disabled:!this.state.isLoaded,onClick:function(e){return t.onDeleteFileWarningPopUp(e,t.props.k,t.props.student_id,t.props.docName)},children:(0,g.jsx)(Z.VPh,{size:16})})})})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("td",{})})]});return(0,g.jsxs)(g.Fragment,{children:[e,(0,g.jsxs)(u.Z,{show:this.state.deleteFileWarningModel,onHide:this.closeWarningWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,g.jsx)(u.Z.Header,{children:(0,g.jsx)(u.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,g.jsxs)(u.Z.Body,{children:["Do you want to delete ",this.props.docName,"?"]}),(0,g.jsxs)(u.Z.Footer,{children:[(0,g.jsx)(c.Z,{disabled:!this.state.isLoaded,onClick:function(e){return t.onDeleteFilefromstudent(e)},children:this.state.isLoaded?"Yes":(0,g.jsx)("div",{children:(0,g.jsx)(h.Z,{animation:"border",role:"status",variant:"light",size:"sm",children:(0,g.jsx)("span",{className:"visually-hidden"})})})}),(0,g.jsx)(c.Z,{onClick:this.closeWarningWindow,children:"No"})]})]}),(0,g.jsxs)(u.Z,{show:this.state.acceptProfileFileModel,onHide:this.closeAcceptWarningWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,g.jsx)(u.Z.Header,{children:(0,g.jsx)(u.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,g.jsxs)(u.Z.Body,{children:[this.state.category," is a valid and can be used for the application?"]}),(0,g.jsxs)(u.Z.Footer,{children:[(0,g.jsx)(c.Z,{disabled:!this.state.isLoaded,onClick:function(e){return t.onUpdateProfileFilefromstudent(e)},children:this.state.isLoaded?"Yes":(0,g.jsx)("div",{children:(0,g.jsx)(h.Z,{animation:"border",role:"status",variant:"light",size:"sm",children:(0,g.jsx)("span",{className:"visually-hidden"})})})}),(0,g.jsx)(c.Z,{onClick:this.closeAcceptWarningWindow,children:"No"})]})]}),(0,g.jsxs)(u.Z,{show:this.state.CommentModel,onHide:this.closeCommentWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,g.jsx)(u.Z.Header,{children:(0,g.jsx)(u.Z.Title,{id:"contained-modal-title-vcenter",children:"Comments"})}),"Student"===this.props.role?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.Z.Body,{children:[(0,g.jsx)("p",{children:this.state.comments}),(0,g.jsx)("p",{children:"Please delete the old file before upload the new file."})]}),(0,g.jsx)(u.Z.Footer,{children:(0,g.jsx)(c.Z,{onClick:this.closeCommentWindow,children:"Ok"})})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z.Body,{children:(0,g.jsxs)(f.Z.Group,{controlId:"rejectmessage",children:[(0,g.jsxs)(f.Z.Label,{children:["Please give a reason why the uploaded ",this.state.category," ","is invalied?"]}),(0,g.jsx)(f.Z.Control,{type:"text",placeholder:"ex. Poor scanned quality.",defaultValue:this.state.comments,onChange:function(e){return t.handleRejectMessage(e,e.target.value)}})]})}),(0,g.jsxs)(u.Z.Footer,{children:[(0,g.jsx)(c.Z,{disabled:""===this.state.comments,onClick:function(e){return t.onUpdateRejectMessageStudent(e)},children:this.state.isLoaded?"Update":(0,g.jsx)("div",{children:(0,g.jsx)(h.Z,{animation:"border",role:"status",variant:"light",size:"sm",children:(0,g.jsx)("span",{className:"visually-hidden"})})})}),(0,g.jsx)(c.Z,{onClick:this.closeCommentWindow,children:"Close"})]})]})]}),(0,g.jsxs)(p.Z,{show:this.state.baseDocsflagOffcanvas,onHide:this.closeOffcanvasWindow,placement:"end",children:[(0,g.jsx)(p.Z.Header,{closeButton:!0,children:(0,g.jsx)(p.Z.Title,{children:"Edit"})}),(0,g.jsxs)(p.Z.Body,{children:[(0,g.jsxs)(f.Z.Group,{className:"mb-3",children:[(0,g.jsxs)(f.Z.Label,{children:["Documentation Link for ",(0,g.jsx)("b",{children:this.props.docName})]}),(0,g.jsx)(f.Z.Control,{placeholder:"https://taigerconsultancy-portal.com/docs/search/12345678",defaultValue:this.state.link,onChange:function(e){return t.onChangeURL(e)}})]}),(0,g.jsx)(c.Z,{onClick:function(e){return t.updateDocLink(e)},disabled:this.state.baseDocsflagOffcanvasButtonDisable,children:"Save"})]})]})]})}}]),s}(d.Component);t.Z=v},75828:function(e,t,s){var n=s(18489),i=s(27853),a=s(84531),o=s(78932),r=s(38128),d=s(47313),l=s(31616),c=s(93298),u=s(47939),h=s(44030),f=s(67203),p=s(16614),m=s(89351),Z=s(57864),j=s(32916),x=s(46417),g=function(e){(0,o.Z)(s,e);var t=(0,r.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={student:e.props.student,link:e.props.link,student_id:"",category:"",docName:"",comments:"",file:"",isLoaded:e.props.isLoaded,feedback:"",deleteFileWarningModel:!1,CommentModel:!1,rejectProfileFileModel:!1,acceptProfileFileModel:!1,baseDocsflagOffcanvas:!1,baseDocsflagOffcanvasButtonDisable:!1},e.closeOffcanvasWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvas:!1})}))},e.openOffcanvasWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvas:!0})}))},e.closeWarningWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{deleteFileWarningModel:!1})}))},e.closeCommentWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{CommentModel:!1})}))},e.closeRejectWarningWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{rejectProfileFileModel:!1})}))},e.closeAcceptWarningWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{acceptProfileFileModel:!1})}))},e.onDeleteFileWarningPopUp=function(t,s,i,a){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:i,category:s,docName:a,deleteFileWarningModel:!0})}))},e.handleRejectMessage=function(t,s){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{feedback:s})}))},e.onUpdateProfileDocStatus=function(t,s,i,a){t.preventDefault(),"accepted"===a?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:i,category:s,status:a,acceptProfileFileModel:!0})})):e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:i,category:s,status:a,rejectProfileFileModel:!0})}))},e.updateDocLink=function(t){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvasButtonDisable:!0})})),e.props.updateDocLink(e.state.link,e.props.k),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{baseDocsflagOffcanvasButtonDisable:!1,baseDocsflagOffcanvas:!1})}))},e.onChangeURL=function(t){t.preventDefault();var s=t.target.value;e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{link:s})}))},e.onDeleteFilefromstudent=function(t){t.preventDefault(),e.props.onDeleteFilefromstudent(e.state.category,e.state.student_id)},e.onUpdateProfileFilefromstudent=function(t){t.preventDefault(),e.props.onUpdateProfileFilefromstudent(e.state.category,e.state.student_id,e.state.status,e.state.feedback)},e}return(0,a.Z)(s,[{key:"componentDidUpdate",value:function(e){var t=this;e.isLoaded!==this.props.isLoaded&&this.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:t.props.isLoaded})}))}},{key:"render",value:function(){var e,t=this;return e=(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)(Z.QRz,{size:24,color:"orange",title:"Uploaded successfully"})}),(0,x.jsxs)("td",{children:[this.props.docName,(0,x.jsx)("a",{href:this.state.link&&""!=this.state.link?this.state.link:"/",target:"_blank",className:"text-info",children:(0,x.jsx)(j.AlO,{className:"mx-1 mb-1",style:{cursor:"pointer"}})}),"Admin"===this.props.role&&(0,x.jsx)("a",{onClick:this.openOffcanvasWindow,style:{cursor:"pointer"},children:"[Edit]"})," - ",this.props.date," - ",this.props.time]}),(0,x.jsx)("td",{children:(0,x.jsx)(l.Z,{md:!0,children:(0,x.jsx)("a",{href:"".concat(m._,"/api/students/").concat(this.props.student_id.toString(),"/files/").concat(this.props.path),target:"_blank",children:(0,x.jsx)(c.Z,{size:"sm",type:"submit",title:"Download",children:(0,x.jsx)(Z.RFS,{size:16})})})})}),"Editor"===this.props.role||"Student"===this.props.role?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{children:(0,x.jsx)(l.Z,{md:!0,children:(0,x.jsx)(c.Z,{variant:"success",size:"sm",type:"submit",title:"Mark as finshed",disabled:!this.state.isLoaded,onClick:function(e){return t.onUpdateProfileDocStatus(e,t.props.k,t.props.student_id,"accepted")},children:(0,x.jsx)(Z.bzc,{})})})}),(0,x.jsx)("td",{children:(0,x.jsx)(l.Z,{md:!0,children:(0,x.jsx)(c.Z,{variant:"secondary",size:"sm",type:"submit",title:"Mark as reject",disabled:!this.state.isLoaded,onClick:function(e){return t.onUpdateProfileDocStatus(e,t.props.k,t.props.student_id,"rejected")},children:(0,x.jsx)(Z.SR5,{size:16})})})}),(0,x.jsx)("td",{})]}),"Editor"===this.props.role?(0,x.jsx)("td",{}):(0,x.jsx)("td",{children:(0,x.jsx)(l.Z,{md:!0,children:(0,x.jsx)(c.Z,{variant:"danger",size:"sm",type:"submit",title:"Delete",disabled:!this.state.isLoaded,onClick:function(e){return t.onDeleteFileWarningPopUp(e,t.props.k,t.props.student_id,t.props.docName)},children:(0,x.jsx)(Z.VPh,{size:16})})})})]}),(0,x.jsxs)(x.Fragment,{children:[e,(0,x.jsxs)(u.Z,{show:this.state.deleteFileWarningModel,onHide:this.closeWarningWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,x.jsx)(u.Z.Header,{children:(0,x.jsx)(u.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,x.jsxs)(u.Z.Body,{children:["Do you want to delete ",this.props.docName,"?"]}),(0,x.jsxs)(u.Z.Footer,{children:[(0,x.jsx)(c.Z,{disabled:!this.state.isLoaded,onClick:function(e){return t.onDeleteFilefromstudent(e)},children:this.state.isLoaded?"Yes":(0,x.jsx)("div",{children:(0,x.jsx)(h.Z,{animation:"border",role:"status",variant:"light",size:"sm",children:(0,x.jsx)("span",{className:"visually-hidden"})})})}),(0,x.jsx)(c.Z,{onClick:this.closeWarningWindow,children:"No"})]})]}),(0,x.jsxs)(u.Z,{show:this.state.rejectProfileFileModel,onHide:this.closeRejectWarningWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,x.jsx)(u.Z.Header,{children:(0,x.jsx)(u.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,x.jsx)(u.Z.Body,{children:(0,x.jsxs)(f.Z.Group,{controlId:"rejectmessage",children:[(0,x.jsxs)(f.Z.Label,{children:["Please give a reason why the uploaded ",this.state.category," is invalied?"]}),(0,x.jsx)(f.Z.Control,{type:"text",placeholder:"ex. Poor scanned quality.",defaultValue:"",onChange:function(e){return t.handleRejectMessage(e,e.target.value)}})]})}),(0,x.jsxs)(u.Z.Footer,{children:[(0,x.jsx)(c.Z,{disabled:""===this.state.feedback||!this.state.isLoaded,onClick:function(e){return t.onUpdateProfileFilefromstudent(e)},children:this.state.isLoaded?"Submit":(0,x.jsx)("div",{children:(0,x.jsx)(h.Z,{animation:"border",role:"status",variant:"light",size:"sm",children:(0,x.jsx)("span",{className:"visually-hidden"})})})}),(0,x.jsx)(c.Z,{onClick:this.closeRejectWarningWindow,children:"No"})]})]}),(0,x.jsxs)(u.Z,{show:this.state.acceptProfileFileModel,onHide:this.closeAcceptWarningWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,x.jsx)(u.Z.Header,{children:(0,x.jsx)(u.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,x.jsxs)(u.Z.Body,{children:[this.state.category," is a valid and can be used for the application?"]}),(0,x.jsxs)(u.Z.Footer,{children:[(0,x.jsx)(c.Z,{disabled:!this.state.isLoaded,onClick:function(e){return t.onUpdateProfileFilefromstudent(e)},children:this.state.isLoaded?"Yes":(0,x.jsx)("div",{children:(0,x.jsx)(h.Z,{animation:"border",role:"status",variant:"light",size:"sm",children:(0,x.jsx)("span",{className:"visually-hidden"})})})}),(0,x.jsx)(c.Z,{onClick:this.closeAcceptWarningWindow,children:"No"})]})]}),(0,x.jsxs)(u.Z,{show:this.state.CommentModel,onHide:this.closeCommentWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,x.jsx)(u.Z.Header,{children:(0,x.jsx)(u.Z.Title,{id:"contained-modal-title-vcenter",children:"Comments"})}),(0,x.jsx)(u.Z.Body,{children:this.state.comments}),(0,x.jsx)(u.Z.Footer,{children:(0,x.jsx)(c.Z,{onClick:this.closeCommentWindow,children:this.state.isLoaded?"Ok":(0,x.jsx)("div",{children:(0,x.jsx)(h.Z,{animation:"border",role:"status",variant:"light",size:"sm",children:(0,x.jsx)("span",{className:"visually-hidden"})})})})})]}),(0,x.jsxs)(p.Z,{show:this.state.baseDocsflagOffcanvas,onHide:this.closeOffcanvasWindow,placement:"end",children:[(0,x.jsx)(p.Z.Header,{closeButton:!0,children:(0,x.jsx)(p.Z.Title,{children:"Edit"})}),(0,x.jsxs)(p.Z.Body,{children:[(0,x.jsxs)(f.Z.Group,{className:"mb-3",children:[(0,x.jsxs)(f.Z.Label,{children:["Documentation Link for ",(0,x.jsx)("b",{children:this.props.docName})]}),(0,x.jsx)(f.Z.Control,{placeholder:"https://taigerconsultancy-portal.com/docs/search/12345678",defaultValue:this.state.link,onChange:function(e){return t.onChangeURL(e)}})]}),(0,x.jsx)(c.Z,{onClick:function(e){return t.updateDocLink(e)},disabled:this.state.baseDocsflagOffcanvasButtonDisable,children:"Save"})]})]})]})}}]),s}(d.Component);t.Z=g}}]);