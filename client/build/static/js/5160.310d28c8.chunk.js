"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[5160],{50099:function(e,a,r){var t=r(35531),n=r(27853),s=r(84531),i=r(78932),o=r(38128),c=r(47313),l=r(73158),d=r(65832),u=r(62396),p=r(29678),m=r.n(p),h=r(54991),f=r(12401),x=r(46417),Z=function(e){(0,i.Z)(r,e);var a=(0,o.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=a.call.apply(a,[this].concat(s))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,s.Z)(r,[{key:"render",value:function(){var e,a,r,n,s,i=this,o=[];return this.state.isOption&&(r=(0,x.jsx)("div",{className:"card-header-right",children:(0,x.jsxs)(l.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,x.jsx)(l.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,x.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,x.jsxs)(l.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,x.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,x.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,x.jsxs)("a",{href:f.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,x.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,x.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,x.jsxs)("a",{href:f.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,x.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,x.jsx)("i",{className:"feather icon-refresh-cw"}),(0,x.jsx)("a",{href:f.Z.BLANK_LINK,children:" Reload "})]}),(0,x.jsxs)(l.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,x.jsx)("i",{className:"feather icon-trash"}),(0,x.jsx)("a",{href:f.Z.BLANK_LINK,children:" Remove "})]})]})]})})),n=(0,x.jsxs)(d.Z.Header,{children:[(0,x.jsx)(d.Z.Title,{as:"h5",children:this.props.title}),r]}),this.state.fullCard&&(o=[].concat((0,t.Z)(o),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(o=[].concat((0,t.Z)(o),["card-load"]),a=(0,x.jsx)("div",{className:"card-loader",children:(0,x.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(o=[].concat((0,t.Z)(o),["d-none"])),this.props.cardClass&&(o=[].concat((0,t.Z)(o),[this.props.cardClass])),s=(0,x.jsxs)(d.Z,{className:o.join(" "),style:e,children:[n,(0,x.jsx)(u.Z,{in:!this.state.collapseCard,children:(0,x.jsx)("div",{children:(0,x.jsx)(d.Z.Body,{children:this.props.children})})}),a]}),(0,x.jsx)(h.Z,{children:s})}}]),r}(c.Component);a.Z=m()(Z)},26276:function(e,a,r){r.r(a),r.d(a,{default:function(){return S}});var t=r(27853),n=r(84531),s=r(78932),i=r(38128),o=r(47313),c=r(44030),l=r(63849),d=r(31616),u=r(54991),p=r(18489),m=r(23430),h=r(45110),f=r(86450),x=r(94611),Z=r(37062),j=r(465),v=r(93298),g=r(68611),N=r(65487),_=r(65832),y=r(51426),C=r(65777),b=r(46417);function w(e){var a=e.column,r=a.filterValue,t=a.preFilteredRows,n=a.setFilter,s=t.length;return(0,b.jsx)("input",{value:r||"",onChange:function(e){n(e.target.value||void 0)},placeholder:"Search ".concat(s," records...")})}function I(e,a,r){return(0,C.Lu)(e,r,{keys:[function(e){return e.values[a]}]})}I.autoRemove=function(e){return!e};function P(e){var a=e.header,r=e.data,t=(e.userId,(0,o.useState)({modalShowAssignWindow:!1,modalShowAssignSuccessWindow:!1})),n=(0,m.Z)(t,2),s=(n[0],n[1],(0,o.useState)({programIds:[],schools:[],program_names:[]})),i=(0,m.Z)(s,2),c=(i[0],i[1],(0,o.useState)("")),u=(0,m.Z)(c,2),f=(u[0],u[1],o.useMemo((function(){return[{Header:a,columns:[{Header:"First Name",accessor:"firstname"},{Header:"Last Name",accessor:"lastname"},{Header:"University",accessor:"school"},{Header:"Program",accessor:"program_name"},{Header:"Application Year",accessor:"application_year"},{Header:"Semester",accessor:"semester"}]}]}),[])),x=o.useMemo((function(){return{fuzzyText:I,text:function(e,a,r){return e.filter((function(e){var t=e.values[a];return void 0===t||String(t).toLowerCase().startsWith(String(r).toLowerCase())}))}}}),[]),g=o.useMemo((function(){return{Filter:w}}),[]),N=(0,h.useTable)({columns:f,data:r,defaultColumn:g,filterTypes:x},h.useFilters,h.useGlobalFilter,h.usePagination),_=N.getTableProps,y=N.getTableBodyProps,C=N.headerGroups,P=N.page,R=N.prepareRow,k=(N.state,N.visibleColumns,N.canPreviousPage),S=N.canNextPage,H=N.pageOptions,L=N.pageCount,E=N.gotoPage,A=N.nextPage,z=N.previousPage,F=N.setPageSize,K=(N.preGlobalFilteredRows,N.setGlobalFilter,N.toggleAllRowsSelected,N.state),O=K.pageIndex,T=K.pageSize;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(j.Z,(0,p.Z)((0,p.Z)({className:"my-0 mx-2",variant:"dark",text:"light",responsive:!0,hover:!0},_()),{},{children:[(0,b.jsx)("thead",{children:C.map((function(e){return(0,b.jsx)("tr",(0,p.Z)((0,p.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,b.jsxs)("th",(0,p.Z)((0,p.Z)({},e.getHeaderProps()),{},{children:[e.render("Header"),(0,b.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),(0,b.jsx)("tbody",(0,p.Z)((0,p.Z)({},y()),{},{children:P.map((function(e,a){return R(e),(0,b.jsx)("tr",(0,p.Z)((0,p.Z)({},e.getRowProps()),{},{children:e.cells.map((function(a,r){return(0,b.jsx)("td",(0,p.Z)((0,p.Z)({},a.getCellProps()),{},{children:0===r?(0,b.jsx)(b.Fragment,{children:a.render("Cell")}):(0,b.jsx)(Z.Z,{to:"/student-database/"+e.original._id+"/background",className:"text-info",style:{textDecoration:"none"},children:a.render("Cell")})}))}))}))}))}))]})),(0,b.jsx)("div",{className:"pagination",children:(0,b.jsxs)(l.Z,{children:[(0,b.jsx)(d.Z,{md:1,children:(0,b.jsx)(v.Z,{size:"sm",onClick:function(){return E(0)},disabled:!k,children:"<<"})})," ",(0,b.jsx)(d.Z,{md:1,children:(0,b.jsx)(v.Z,{size:"sm",onClick:function(){return z()},disabled:!k,children:"<"})})," ",(0,b.jsx)(d.Z,{md:1,children:(0,b.jsx)(v.Z,{size:"sm",onClick:function(){return A()},disabled:!S,children:">"})})," ",(0,b.jsx)(d.Z,{md:1,children:(0,b.jsx)(v.Z,{size:"sm",onClick:function(){return E(L-1)},disabled:!S,children:">>"})})," ",(0,b.jsx)(d.Z,{md:2,children:(0,b.jsxs)("span",{className:"my-0 mx-0 text-light",children:["Page"," ",(0,b.jsxs)("strong",{children:[O+1," of ",H.length]})," "]})}),(0,b.jsx)(d.Z,{md:4,children:(0,b.jsxs)("span",{className:"my-0 mx-0 text-light",children:["| Go to page:"," ",(0,b.jsx)("input",{type:"number",defaultValue:O+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;E(a)},style:{width:"100px"}})]})})," ",(0,b.jsx)(d.Z,{md:2,children:(0,b.jsx)("select",{value:T,onChange:function(e){F(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return(0,b.jsxs)("option",{value:e,children:["Show ",e]},e)}))})})]})})]})}var R=function(e){var a=(0,o.useState)({students:e.students}),r=(0,m.Z)(a,2),t=r[0],n=(r[1],[]),s=[],i=[],c=[];return t.students.map((function(e){return e.applications.map((function(a){"O"===a.decided&&("O"===a.closed?("O"===a.admission&&n.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.aapplication_preference.expected_application_date,school:a.programId.school,program_name:a.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:a.programId.semester}),"X"===a.admission&&s.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.aapplication_preference.expected_application_date,school:a.programId.school,program_name:a.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:a.programId.semester}),"-"===a.admission&&i.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.application_preference.expected_application_date,school:a.programId.school,program_name:a.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:a.programId.semester})):c.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.application_preference.expected_application_date,school:a.programId.school,program_name:a.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:a.programId.semester}))}))})),(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(g.Z,{defaultActiveKey:"Admissions",id:"fill-tab-example",children:[(0,b.jsx)(N.Z,{eventKey:"Admissions",title:"Admissions",className:"my-0 mx-0",children:(0,b.jsx)(l.Z,{children:(0,b.jsx)(_.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,b.jsx)(P,{header:"Admissions",data:n,userId:e.userId})})})}),(0,b.jsx)(N.Z,{eventKey:"Rejections",title:"Rejections",children:(0,b.jsx)(l.Z,{children:(0,b.jsx)(_.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,b.jsx)(P,{header:"Rejections ",data:s,userId:e.userId})})})}),(0,b.jsx)(N.Z,{eventKey:"Pending",title:"Pending",children:(0,b.jsx)(l.Z,{children:(0,b.jsx)(_.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,b.jsx)(P,{header:"Pending",data:i,userId:e.userId})})})}),(0,b.jsx)(N.Z,{eventKey:"NotClosedYet",title:"Not Closed Yet",children:(0,b.jsx)(l.Z,{children:(0,b.jsx)(_.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,b.jsx)(P,{header:"Not Closed Yet",data:c,userId:e.userId})})})})]})})},k=function(e){(0,s.Z)(r,e);var a=(0,i.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=a.call.apply(a,[this].concat(s))).state={error:null,timeouterror:null,unauthorizederror:null,isLoaded:!1,students:[],success:!1},e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){var e=this;(0,y.mK)().then((function(a){var r=a.data,t=r.data,n=r.success;n?e.setState({isLoaded:!0,students:t,success:n}):401===a.status||500===a.status?e.setState({isLoaded:!0,timeouterror:!0}):403===a.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(a){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this.state,a=e.unauthorizederror,r=e.timeouterror,t=e.isLoaded;if(r)return(0,b.jsx)("div",{children:(0,b.jsx)(x.Z,{})});if(a)return(0,b.jsx)("div",{children:(0,b.jsx)(f.Z,{})});var n={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};return t||this.state.data?this.state.success?(0,b.jsx)(u.Z,{children:(0,b.jsx)(l.Z,{children:(0,b.jsxs)(d.Z,{children:["Admin"===this.props.user.role||"Agent"===this.props.user.role||"Editor"===this.props.user.role?(0,b.jsx)(R,{students:this.state.students}):(0,b.jsx)(b.Fragment,{}),!t&&(0,b.jsx)("div",{style:n,children:(0,b.jsx)(c.Z,{animation:"border",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden"})})})]})})}):void 0:(0,b.jsx)("div",{style:n,children:(0,b.jsx)(c.Z,{animation:"border",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden"})})})}}]),r}(o.Component),S=k},94611:function(e,a,r){var t=r(27853),n=r(84531),s=r(78932),i=r(38128),o=r(47313),c=r(63849),l=r(31616),d=r(50099),u=r(54991),p=r(46417),m=function(e){(0,s.Z)(r,e);var a=(0,i.Z)(r);function r(){return(0,t.Z)(this,r),a.apply(this,arguments)}return(0,n.Z)(r,[{key:"render",value:function(){return(0,p.jsx)(u.Z,{children:(0,p.jsx)(c.Z,{children:(0,p.jsx)(l.Z,{children:(0,p.jsx)(d.Z,{children:"Time out error. Please login again!"})})})})}}]),r}(o.Component);a.Z=m},86450:function(e,a,r){var t=r(27853),n=r(84531),s=r(78932),i=r(38128),o=r(47313),c=r(63849),l=r(31616),d=r(50099),u=r(54991),p=r(46417),m=function(e){(0,s.Z)(r,e);var a=(0,i.Z)(r);function r(){return(0,t.Z)(this,r),a.apply(this,arguments)}return(0,n.Z)(r,[{key:"render",value:function(){return(0,p.jsx)(u.Z,{children:(0,p.jsx)(c.Z,{children:(0,p.jsx)(l.Z,{children:(0,p.jsx)(d.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),r}(o.Component);a.Z=m},65832:function(e,a,r){r.d(a,{Z:function(){return k}});var t=r(18489),n=r(83738),s=r(46123),i=r.n(s),o=r(47313),c=r(68524),l=r(28864),d=r(96205),u=r(46417),p=["bsPrefix","className","variant","as"],m=o.forwardRef((function(e,a){var r=e.bsPrefix,s=e.className,o=e.variant,l=e.as,d=void 0===l?"img":l,m=(0,n.Z)(e,p),h=(0,c.vE)(r,"card-img");return(0,u.jsx)(d,(0,t.Z)({ref:a,className:i()(o?"".concat(h,"-").concat(o):h,s)},m))}));m.displayName="CardImg";var h=m,f=r(15614),x=["bsPrefix","className","as"],Z=o.forwardRef((function(e,a){var r=e.bsPrefix,s=e.className,l=e.as,d=void 0===l?"div":l,p=(0,n.Z)(e,x),m=(0,c.vE)(r,"card-header"),h=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:m}}),[m]);return(0,u.jsx)(f.Z.Provider,{value:h,children:(0,u.jsx)(d,(0,t.Z)((0,t.Z)({ref:a},p),{},{className:i()(s,m)}))})}));Z.displayName="CardHeader";var j=Z,v=["bsPrefix","className","bg","text","border","body","children","as"],g=(0,d.Z)("h5"),N=(0,d.Z)("h6"),_=(0,l.Z)("card-body"),y=(0,l.Z)("card-title",{Component:g}),C=(0,l.Z)("card-subtitle",{Component:N}),b=(0,l.Z)("card-link",{Component:"a"}),w=(0,l.Z)("card-text",{Component:"p"}),I=(0,l.Z)("card-footer"),P=(0,l.Z)("card-img-overlay"),R=o.forwardRef((function(e,a){var r=e.bsPrefix,s=e.className,o=e.bg,l=e.text,d=e.border,p=e.body,m=e.children,h=e.as,f=void 0===h?"div":h,x=(0,n.Z)(e,v),Z=(0,c.vE)(r,"card");return(0,u.jsx)(f,(0,t.Z)((0,t.Z)({ref:a},x),{},{className:i()(s,Z,o&&"bg-".concat(o),l&&"text-".concat(l),d&&"border-".concat(d)),children:p?(0,u.jsx)(_,{children:m}):m}))}));R.displayName="Card",R.defaultProps={body:!1};var k=Object.assign(R,{Img:h,Title:y,Subtitle:C,Body:_,Link:b,Text:w,Header:j,Footer:I,ImgOverlay:P})},15614:function(e,a,r){var t=r(47313).createContext(null);t.displayName="CardHeaderContext",a.Z=t},46682:function(e,a,r){r.d(a,{Ed:function(){return s},UI:function(){return n},XW:function(){return i}});var t=r(47313);function n(e,a){var r=0;return t.Children.map(e,(function(e){return t.isValidElement(e)?a(e,r++):e}))}function s(e,a){var r=0;t.Children.forEach(e,(function(e){t.isValidElement(e)&&a(e,r++)}))}function i(e,a){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===a}))}},22868:function(e,a,r){var t,n=r(18489),s=r(83738),i=r(36222),o=r(46123),c=r.n(o),l=r(47313),d=r(22752),u=r(59498),p=r(6280),m=r(75879),h=r(46417),f=["className","children","transitionClasses"],x=(t={},(0,i.Z)(t,d.d0,"show"),(0,i.Z)(t,d.cn,"show"),t),Z=l.forwardRef((function(e,a){var r=e.className,t=e.children,i=e.transitionClasses,o=void 0===i?{}:i,d=(0,s.Z)(e,f),Z=(0,l.useCallback)((function(e,a){(0,p.Z)(e),null==d.onEnter||d.onEnter(e,a)}),[d]);return(0,h.jsx)(m.Z,(0,n.Z)((0,n.Z)({ref:a,addEndListener:u.Z},d),{},{onEnter:Z,childRef:t.ref,children:function(e,a){return l.cloneElement(t,(0,n.Z)((0,n.Z)({},a),{},{className:c()("fade",r,t.props.className,x[e],o[e])}))}}))}));Z.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Z.displayName="Fade",a.Z=Z},63849:function(e,a,r){var t=r(18489),n=r(83738),s=r(46123),i=r.n(s),o=r(47313),c=r(68524),l=r(46417),d=["bsPrefix","className","as"],u=o.forwardRef((function(e,a){var r=e.bsPrefix,s=e.className,o=e.as,u=void 0===o?"div":o,p=(0,n.Z)(e,d),m=(0,c.vE)(r,"row"),h=(0,c.pi)(),f=(0,c.zG)(),x="".concat(m,"-cols"),Z=[];return h.forEach((function(e){var a,r=p[e];delete p[e],a=null!=r&&"object"===typeof r?r.cols:r;var t=e!==f?"-".concat(e):"";null!=a&&Z.push("".concat(x).concat(t,"-").concat(a))})),(0,l.jsx)(u,(0,t.Z)((0,t.Z)({ref:a},p),{},{className:i().apply(void 0,[s,m].concat(Z))}))}));u.displayName="Row",a.Z=u},96205:function(e,a,r){var t=r(18489),n=r(47313),s=r(46123),i=r.n(s),o=r(46417);a.Z=function(e){return n.forwardRef((function(a,r){return(0,o.jsx)("div",(0,t.Z)((0,t.Z)({},a),{},{ref:r,className:i()(a.className,e)}))}))}}}]);