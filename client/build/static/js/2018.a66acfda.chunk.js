"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[2018],{72018:function(t,n,i){var e=i(27853),s=i(84531),r=i(78932),a=i(38128),o=i(47313),p=i(41251),d=i(73158),c=i(37062),u=i(51767),l=i(83708),f=i(46417),h=function(t){(0,r.Z)(i,t);var n=(0,a.Z)(i);function i(){var t;(0,e.Z)(this,i);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))).updateStudentArchivStatus=function(n,i){t.props.updateStudentArchivStatus(n,i)},t}return(0,s.Z)(i,[{key:"render",value:function(){var t,n,i,e,s,r,a,o,h=this,g=new Date;return void 0===this.props.student.applications||0===this.props.student.applications.length?(t=(0,f.jsx)("p",{className:"mb-1  text-danger",children:" No University"}),n=(0,f.jsx)("p",{className:"mb-1  text-danger",children:" No Program"}),i=(0,f.jsx)("p",{className:"mb-1  text-danger",children:" No Program"}),e=(0,f.jsx)("p",{className:"mb-1  text-danger",children:" No Date"}),o=(0,f.jsx)("p",{className:"mb-1  text-danger"}),s=(0,f.jsx)("p",{className:"mb-1  text-danger"}),r=(0,f.jsx)("p",{className:"mb-1  text-danger"})):(t=this.props.student.applications.map((function(t,n){return(0,f.jsx)(c.Z,{to:"/programs/"+t.programId._id,style:{textDecoration:"none"},children:"O"===t.decided?(0,f.jsx)("p",{className:"mb-1 text-info",children:t.programId.school}):(0,f.jsx)("p",{className:"mb-1 text-secondary",title:"Not decided yet",children:t.programId.school})},n)})),n=this.props.student.applications.map((function(t,n){return(0,f.jsx)(c.Z,{to:"/programs/"+t.programId._id,style:{textDecoration:"none"},children:"O"===t.decided?(0,f.jsx)("p",{className:"mb-1 text-info",children:t.programId.program_name}):(0,f.jsx)("p",{className:"mb-1 text-secondary",title:"Not decided yet",children:t.programId.program_name})},n)})),i=this.props.student.applications.map((function(t,n){return(0,f.jsx)(c.Z,{to:"/programs/"+t.programId._id,style:{textDecoration:"none"},children:"O"===t.decided?(0,f.jsx)("p",{className:"mb-1 text-info",children:t.programId.semester}):(0,f.jsx)("p",{className:"mb-1 text-secondary",title:"Not decided yet",children:t.programId.semester})},n)})),e=this.props.student.applications.map((function(t,n){return"O"===t.decided?"O"===t.closed?(0,f.jsx)("p",{className:"mb-1 text-warning",children:"Close"},n):(0,f.jsx)("p",{className:"mb-1 text-info",children:(0,l.x8)(h.props.student,t)},n):(0,f.jsx)("p",{className:"mb-1 text-secondary",title:"Not decided yet",children:(0,l.x8)(h.props.student,t)},n)})),s=this.props.student.applications.map((function(t,n){return void 0!==t.decided&&"O"===t.decided?(0,f.jsx)("p",{className:"mb-1 text-info",children:"O"},n):void 0!==t.decided&&"X"===t.decided?(0,f.jsx)("p",{className:"mb-1 text-info",children:"X"},t._id):(0,f.jsx)("p",{className:"mb-1 text-danger",children:"?"},t._id)})),r=this.props.student.applications.map((function(t,n){return void 0!==t.closed&&"O"===t.closed?(0,f.jsx)("p",{className:"mb-1 text-info",children:"O"},n):(void 0!==t.closed&&t.closed,(0,f.jsx)("p",{className:"mb-1 text-danger",children:"?"},t._id))})),a=this.props.student.applications.map((function(t,n){return void 0!==t.admission&&"O"===t.admission?(0,f.jsx)("p",{className:"mb-1 text-info",children:"O"},n):void 0!==t.admission&&"X"===t.admission?(0,f.jsx)("p",{className:"mb-1 text-info",children:"X"},t._id):(0,f.jsx)("p",{className:"mb-1 text-danger",children:"?"},t._id)})),o=this.props.student.applications.map((function(t,n){return(0,f.jsx)("p",{className:"mb-1 text-info",children:"O"===t.closed?"-":t.programId.application_deadline?h.props.student.application_preference&&h.props.student.application_preference.expected_application_date&&(0,u.Vb)(g,h.props.student.application_preference.expected_application_date+"-"+t.programId.application_deadline):"-"},n)}))),(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:("Admin"===this.props.user.role||("Agent"===this.props.user.role||"Editor"===this.props.user.role)&&this.props.user.students&&-1!==this.props.user.students.findIndex((function(t){return t._id.toString()===h.props.student._id.toString()})))&&(0,f.jsxs)(p.Z,{size:"sm",title:(0,f.jsx)("span",{children:(0,f.jsx)("i",{className:"fa fa-edit"})}),variant:"primary",id:"dropdown-variants-".concat(this.props.student._id),children:["Editor"===this.props.user.role||this.props.isArchivPage?(0,f.jsx)(f.Fragment,{}):(0,f.jsx)(d.Z.Item,{eventKey:"3",children:(0,f.jsx)(c.Z,{to:"/student-applications/"+this.props.student._id,style:{textDecoration:"none"},children:"Edit Program"})}),this.props.isDashboard&&"Student"!==this.props.user.role&&"Guest"!==this.props.user.role?(0,f.jsx)(d.Z.Item,{eventKey:"5",onClick:function(){return h.updateStudentArchivStatus(h.props.student._id,!0)},children:"Move to Archiv"}):(0,f.jsx)(f.Fragment,{}),this.props.isArchivPage&&"Student"!==this.props.user.role&&"Guest"!==this.props.user.role?(0,f.jsx)(d.Z.Item,{eventKey:"6",onClick:function(){return h.updateStudentArchivStatus(h.props.student._id,!1)},children:"Move to Active"}):(0,f.jsx)(f.Fragment,{})]},this.props.student._id)}),"Student"!==this.props.user.role?(0,f.jsx)("td",{children:(0,f.jsx)(c.Z,{to:"/student-database/"+this.props.student._id+"/background",style:{textDecoration:"none"},children:(0,f.jsx)("p",{className:"text-info",children:(0,f.jsxs)("b",{children:[this.props.student.firstname,","," ",this.props.student.lastname]})})})}):(0,f.jsx)(f.Fragment,{}),"Student"!==this.props.user.role?(0,f.jsx)("td",{title:"Selected / Should be selected",children:this.props.student.applying_program_count?this.props.student.applications.length<this.props.student.applying_program_count?(0,f.jsxs)("p",{className:"text-danger",children:[(0,f.jsx)("b",{children:this.props.student.applications.length})," /"," ",this.props.student.applying_program_count]}):(0,f.jsxs)("p",{className:"text-info",children:[this.props.student.applications.length," /"," ",this.props.student.applying_program_count]}):(0,f.jsx)("b",{className:"text-danger",children:"0"})}):(0,f.jsx)(f.Fragment,{}),(0,f.jsx)("td",{children:t}),(0,f.jsx)("td",{children:n}),(0,f.jsx)("td",{children:i}),(0,f.jsx)("td",{children:e}),(0,f.jsx)("td",{children:s}),(0,f.jsx)("td",{children:r}),(0,f.jsx)("td",{children:a}),(0,f.jsx)("td",{children:o})]})})}}]),i}(o.Component);n.Z=h},83708:function(t,n,i){i.d(n,{A$:function(){return O},EL:function(){return r},En:function(){return P},H6:function(){return j},HU:function(){return u},S:function(){return a},_$:function(){return N},_D:function(){return o},aH:function(){return h},aT:function(){return I},bX:function(){return S},c9:function(){return F},d0:function(){return Z},dJ:function(){return f},dh:function(){return s},el:function(){return m},je:function(){return e},kF:function(){return D},pM:function(){return d},qz:function(){return l},sc:function(){return v},ti:function(){return c},x8:function(){return p},y2:function(){return _},y3:function(){return b},yd:function(){return x},ye:function(){return y},ys:function(){return g}});var e=function(t,n){return"Admin"===t.role||"Student"===t.role||"Guest"===t.role||!(!t.students||-1===t.students.findIndex((function(t){return t._id.toString()===n})))},s=function(t){return!(!t||!t.language)&&"O"===t.language.english_isPassed},r=function(t){return!(!t||!t.language)&&"O"===t.language.german_isPassed},a=function(t){return!(!t||!t.language)&&!(!t.language||!(t.language.english_isPassed&&"-"!==t.language.english_isPassed||t.language.german_isPassed&&"-"!==t.language.german_isPassed))},o=function(t){return!(!t||!t.university)&&!!(t.university.attended_high_school&&t.university.high_school_isGraduated&&"-"!==t.university.high_school_isGraduated&&t.university.attended_university&&t.university.attended_university_program)},p=function(t,n){if("O"===n.closed)return"CLOSE";if(!n.programId.application_deadline)return"No Data";if(n.programId.application_deadline.includes("olling"))return"Rolling";var i="<TBD>";if(t.application_preference&&""!==t.application_preference.expected_application_date&&(i=parseInt(t.application_preference.expected_application_date)),!n.programId.application_deadline)return"".concat(i,"-<TBD>");var e=n.programId.semester,s=parseInt(n.programId.application_deadline.split("-")[0]),r=parseInt(n.programId.application_deadline.split("-")[1]);return void 0===e?"Err":("WS"===e&&s>9&&(i-=1),"SS"===e&&s>3&&(i-=1),"".concat(i,"-").concat(s,"-").concat(r))},d=function(t){return!!t&&!(!t.expected_application_date||!t.expected_application_semester)},c=function(t){for(var n=0;n<t.length;n+=1)if(void 0===t[n].agents||0===t[n].agents.length)return!1;return!0},u=function(t){for(var n=0;n<t.length;n+=1)if(void 0===t[n].editors||0===t[n].editors.length)return!1;return!0},l=function(t){if(!t.applications)return!1;if(0===t.applications.length)return!1;for(var n=0;n<t.applications.length;n+=1)if(!t.applications[n].decided||void 0!==t.applications[n].decided&&"-"===t.applications[n].decided)return!1;return!0},f=function(t){if(!t.applications)return!0;if(0===t.applications.length)return!0;for(var n=0;n<t.applications.length;n+=1)if(!t.applications[n].decided||void 0!==t.applications[n].decided&&"-"===t.applications[n].decided)return!1;return!0},h=function(t){return 0===t.applying_program_count||void 0===t.applying_program_count},g=function(t){for(var n=0;n<t.length;n+=1)if(t[n].applications.length<t[n].applying_program_count)return!0;return!1},_=function(t){return void 0===t.applications?0:t.applications.filter((function(t){return"O"===t.decided})).length},m=function(t){return void 0===t.applications?0:t.applications.filter((function(t){return"O"===t.closed})).length},x=function(t){if(void 0===t.applications)return!1;if(0===t.applying_program_count)return!1;if(t.applications.length<t.applying_program_count)return!1;if(!t.applications||0===t.applications.length)return!1;for(var n=0;n<t.applications.length;n+=1)if(!t.applications[n].decided||void 0!==t.applications[n].decided&&"O"!==t.applications[n].decided)return!1;return!0},v=function(t,n){if(void 0===n.applications)return!1;if(0===n.applications.length)return!1;for(var i=0;i<t.length;i+=1)for(var e=0;e<n.applications.length;e+=1)if(!n.applications[e].closed||void 0!==n.applications[e].closed&&"O"!==n.applications[e].closed)return!1;return!0},j=function(t){return!!t.programId.uni_assist&&!!t.programId.uni_assist.includes("Yes")},y=function(t){if(void 0===t.applications)return!1;for(var n=0;n<t.applications.length;n+=1)if("O"===t.applications[n].decided&&t.applications[n].programId.uni_assist&&(t.applications[n].programId.uni_assist.includes("VPD")||t.applications[n].programId.uni_assist.includes("FULL")))return!0;return!1},I=function(t){var n=0;if(void 0===t.applications)return n;for(var i=0;i<t.applications.length;i+=1)if("O"===t.applications[i].decided&&t.applications[i].programId.uni_assist&&(t.applications[i].programId.uni_assist.includes("VPD")||t.applications[i].programId.uni_assist.includes("FULL"))){if(!t.applications[i].uni_assist)continue;if(t.applications[i].uni_assist&&"notneeded"===t.applications[i].uni_assist.status)continue;!t.applications[i].uni_assist||"uploaded"!==t.applications[i].uni_assist.status&&""===t.applications[i].uni_assist.vpd_file_path&&null!==t.applications[i].uni_assist.vpd_file_path||(n+=1)}return n},N=function(t){var n=0;if(void 0===t.applications)return n;for(var i=0;i<t.applications.length;i+=1)if("O"===t.applications[i].decided&&t.applications[i].programId.uni_assist&&(t.applications[i].programId.uni_assist.includes("VPD")||t.applications[i].programId.uni_assist.includes("FULL"))){if(!t.applications[i].uni_assist)continue;if(t.applications[i].uni_assist&&"notneeded"===t.applications[i].uni_assist.status)continue;n+=1}return n},b=function(t){for(var n=0;n<t.doc_modification_thread.length;n+=1)if(!t.doc_modification_thread[n].isFinalVersion)return!1;return!0},O=function(t){return!!t.generaldocs_threads&&-1!==t.generaldocs_threads.findIndex((function(t){return"CV"===t.doc_thread_id.file_type}))},S=function(t){return!!t.generaldocs_threads&&(-1!==t.generaldocs_threads.findIndex((function(t){return"CV"===t.doc_thread_id.file_type}))&&!!t.generaldocs_threads.find((function(t){return"CV"===t.doc_thread_id.file_type})).isFinalVersion)},D=function(t){for(var n=0;n<t.doc_modification_thread.length;n+=1)if(!t.doc_modification_thread[n].isFinalVersion)return!1;return!(t.programId.uni_assist&&t.programId.uni_assist.includes("Yes")&&(!t.uni_assist||"uploaded"!==t.uni_assist.status))},P=function(t){return"O"===t.closed},F=function(t){if(void 0===t.applications)return!1;for(var n=0;n<t.applications.length;n+=1)if("O"===t.applications[n].decided&&t.applications[n].programId.uni_assist&&(t.applications[n].programId.uni_assist.includes("VPD")||t.applications[n].programId.uni_assist.includes("FULL"))){if(!t.applications[n].uni_assist)return!1;if(t.applications[n].uni_assist&&"notneeded"===t.applications[n].uni_assist.status)continue;if(t.applications[n].uni_assist&&("uploaded"!==t.applications[n].uni_assist.status||""===t.applications[n].uni_assist.vpd_file_path))return!1}return!0},Z=function(t){return-1===t.generaldocs_threads.findIndex((function(t){return"CV"===t.doc_thread_id.file_type}))}}}]);