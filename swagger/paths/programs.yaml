/api/programs/overview:
  get:
    tags:
      - Programs
    summary: Get programs overview
    description: Retrieve high-level overview and aggregated statistics about programs including metrics for dashboards
    operationId: getProgramsOverview
    responses:
      '200':
        description: Programs overview retrieved successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/ProgramOverviewResponse'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'

/api/programs/schools-distribution:
  get:
    tags:
      - Programs
    summary: Get schools distribution
    description: Retrieve all schools with their program counts
    operationId: getSchoolsDistribution
    responses:
      '200':
        description: Schools distribution retrieved successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/SchoolDistributionResponse'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'

/api/programs/same-program-students/{programId}:
  get:
    tags:
      - Programs
    summary: Get students applying to same program
    description: Retrieve students who have applied to the same program
    operationId: getSameProgramStudents
    parameters:
      - $ref: '../components/parameters/common.yaml#/programId'
    responses:
      '200':
        description: Students retrieved successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/ProgramPeerListResponse'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'
      '404':
        $ref: '../components/responses/common.yaml#/NotFound'

/api/programs:
  get:
    tags:
      - Programs
    summary: Get all programs
    description: Retrieve a list of all programs
    operationId: getPrograms
    responses:
      '200':
        description: Programs retrieved successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/ProgramListResponse'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'
  post:
    tags:
      - Programs
    summary: Create program
    description: Create a new program
    operationId: createProgram
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../components/schemas/programs.yaml#/ProgramCreateRequest'
    responses:
      '201':
        description: Program created successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/ProgramDetailResponse'
      '400':
        $ref: '../components/responses/common.yaml#/Error'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'

/api/programs/schools:
  get:
    tags:
      - Programs
    summary: Get distinct school attributes
    description: Retrieve distinct combinations of school attributes
    operationId: getDistinctSchoolsAttributes
    responses:
      '200':
        description: School attributes retrieved successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/SchoolAttributesSummaryResponse'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'
  put:
    tags:
      - Programs
    summary: Update school attributes (batch)
    description: Update attributes for all programs of a specific school
    operationId: updateBatchSchoolAttributes
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../components/schemas/programs.yaml#/SchoolAttributesUpdateRequest'
    responses:
      '200':
        description: School attributes updated successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/SuccessResponse'
      '400':
        $ref: '../components/responses/common.yaml#/Error'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'

/api/programs/{programId}:
  get:
    tags:
      - Programs
    summary: Get program by ID
    description: Retrieve a specific program's details
    operationId: getProgram
    parameters:
      - $ref: '../components/parameters/common.yaml#/programId'
    responses:
      '200':
        description: Program retrieved successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/ProgramDetailWithVCResponse'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'
      '404':
        $ref: '../components/responses/common.yaml#/NotFound'
  put:
    tags:
      - Programs
    summary: Update program
    description: Update a specific program's details
    operationId: updateProgram
    parameters:
      - $ref: '../components/parameters/common.yaml#/programId'
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../components/schemas/programs.yaml#/ProgramUpdateRequest'
    responses:
      '200':
        description: Program updated successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/ProgramDetailWithVCResponse'
      '400':
        $ref: '../components/responses/common.yaml#/Error'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'
      '404':
        $ref: '../components/responses/common.yaml#/NotFound'
  delete:
    tags:
      - Programs
    summary: Delete program
    description: Delete a specific program
    operationId: deleteProgram
    parameters:
      - $ref: '../components/parameters/common.yaml#/programId'
    responses:
      '200':
        description: Program deleted successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/SuccessResponse'
      '400':
        $ref: '../components/responses/common.yaml#/Error'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'
      '404':
        $ref: '../components/responses/common.yaml#/NotFound'

/api/programs/{programId}/refresh:
  post:
    tags:
      - Programs
    summary: Refresh program
    description: Refresh program data and version control entry
    operationId: refreshProgram
    parameters:
      - $ref: '../components/parameters/common.yaml#/programId'
    responses:
      '200':
        description: Program refreshed successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/ProgramDetailWithVCResponse'
      '400':
        $ref: '../components/responses/common.yaml#/Error'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'
      '404':
        $ref: '../components/responses/common.yaml#/NotFound'

/api/programs/{programId}/change-requests:
  get:
    tags:
      - Programs
    summary: Get program change requests
    description: Retrieve pending change requests for a specific program
    operationId: getProgramChangeRequests
    parameters:
      - $ref: '../components/parameters/common.yaml#/programId'
    responses:
      '200':
        description: Change requests retrieved successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/ProgramChangeRequestListResponse'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'
      '404':
        $ref: '../components/responses/common.yaml#/NotFound'
  post:
    tags:
      - Programs
    summary: Submit program change request
    description: Submit a change request for a program
    operationId: submitProgramChangeRequests
    parameters:
      - $ref: '../components/parameters/common.yaml#/programId'
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../components/schemas/programs.yaml#/ProgramChangeRequestPayload'
    responses:
      '200':
        description: Change request submitted successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/SuccessResponse'
      '400':
        $ref: '../components/responses/common.yaml#/Error'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'
      '404':
        $ref: '../components/responses/common.yaml#/NotFound'

/api/programs/review-changes/{requestId}:
  post:
    tags:
      - Programs
    summary: Review program change request
    description: Mark a program change request as reviewed
    operationId: reviewProgramChangeRequest
    parameters:
      - $ref: '../components/parameters/common.yaml#/requestId'
    responses:
      '200':
        description: Change request reviewed successfully
        content:
          application/json:
            schema:
              $ref: '../components/schemas/programs.yaml#/ProgramChangeRequestResponse'
      '400':
        $ref: '../components/responses/common.yaml#/Error'
      '401':
        $ref: '../components/responses/common.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/common.yaml#/Forbidden'
      '404':
        $ref: '../components/responses/common.yaml#/NotFound'
