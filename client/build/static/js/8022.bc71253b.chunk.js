"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[8022],{26791:function(t,e,a){a.r(e),a.d(e,{default:function(){return E}});var r=a(18489),n=a(36222),s=a(27853),i=a(84531),o=a(78932),d=a(66621),l=a(47313),c=a(44030),u=(a(52500),a(51426)),h=a(72880),p=a(63849),m=a(31616),f=a(93298),v=(a(79489),a(1110)),Z=a(51767),x=a(46417),S=function(t){(0,o.Z)(a,t);var e=(0,d.Z)(a);function a(){return(0,s.Z)(this,a),e.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){var t=this;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(h.Z,{className:"mb-2 mx-0",children:(0,x.jsxs)(h.Z.Body,{children:[(0,x.jsx)(v.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(m.Z,{md:2,children:(0,x.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,x.jsx)(m.Z,{md:10,children:(0,x.jsx)("p",{className:"my-0",children:(0,Z.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,x.jsx)(f.Z,{size:"sm",onClick:function(){return t.props.handleClick()},children:"Edit"})]})})})}}]),a}(l.Component),C=S,y=a(31974),g=function(t){(0,o.Z)(a,t);var e=(0,d.Z)(a);function a(){var t;(0,s.Z)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={doc_title:t.props.document_title},t.handleChange=function(e){e.preventDefault();var a=(0,r.Z)({},t.state.doc_title);a=e.target.value,t.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{doc_title:a})}))},t.handleClickSave=function(e,a){e.preventDefault(),t.props.handleClickSave(e,t.state.doc_title,a)},t}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(h.Z,{children:(0,x.jsx)(h.Z.Body,{children:(0,x.jsx)(y.Z,{category:this.props.category,doc_title:"not_used",editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})})})})}}]),a}(l.Component),k=g,j=a(94611),b=a(86450),_=a(29021),N=function(t){(0,o.Z)(a,t);var e=(0,d.Z)(a);function a(){var t,i;(0,s.Z)(this,a);for(var o=arguments.length,d=new Array(o),l=0;l<o;l++)d[l]=arguments[l];return(i=e.call.apply(e,[this].concat(d))).state=(t={isLoaded:!1,success:!1,error:null,editorState:null,unauthorizederror:null},(0,n.Z)(t,"unauthorizederror",null),(0,n.Z)(t,"isEdit",!1),t),i.handleClickCancel=function(t){i.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{isEdit:!i.state.isEdit})}))},i.handleClickSave=function(t,e,a){t.preventDefault();var n=JSON.stringify(a),s={category:i.props.match.params.category,title:e,prop:i.props.item,text:n};console.log(s),(0,u.Y0)(i.props.match.params.category,s).then((function(t){var e=t.data,r=e.success,n=e.data;r?i.setState({success:r,document_title:n.title,editorState:a,isEdit:!i.state.isEdit,isLoaded:!0}):401===t.status||500===t.status?i.setState({isLoaded:!0,timeouterror:!0}):403===t.status?i.setState({isLoaded:!0,unauthorizederror:!0}):(t.status,i.setState({isLoaded:!0,pagenotfounderror:!0}))}),(function(t){i.setState({error:t})})),i.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{in_edit_mode:!1})}))},i.handleClick=function(){i.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{isEdit:!i.state.isEdit})}))},i}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){var t=this;(0,u.go)(this.props.match.params.category).then((function(e){var a=e.data,r=a.data,n=a.success;if(n){var s=null;s=r.text?JSON.parse(r.text):{time:new Date,blocks:[]},t.setState({isLoaded:!0,editorState:s,success:n})}else 401===e.status||500===e.status?t.setState({isLoaded:!0,timeouterror:!0}):403===e.status?t.setState({isLoaded:!0,unauthorizederror:!0}):t.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(e){t.setState({isLoaded:!0,error:!0})}))}},{key:"componentDidUpdate",value:function(t,e){var a=this;t.match.params.category!==this.props.match.params.category&&(console.log("DDD"),(0,u.go)(this.props.match.params.category).then((function(t){var e=t.data,r=e.data,n=e.success;if(n){var s=null;s=r.text?JSON.parse(r.text):{time:new Date,blocks:[]},a.setState({isLoaded:!0,editorState:s,success:n})}else 401===t.status||500===t.status?a.setState({isLoaded:!0,timeouterror:!0}):403===t.status?a.setState({isLoaded:!0,unauthorizederror:!0}):a.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){a.setState({isLoaded:!0,error:!0})})))}},{key:"render",value:function(){var t=this.state,e=t.unauthorizederror,a=t.timeouterror,r=t.pagenotfounderror,n=(t.error,t.editorState),s=t.isLoaded;if(a)return(0,x.jsx)("div",{children:(0,x.jsx)(j.Z,{})});if(e)return(0,x.jsx)("div",{children:(0,x.jsx)(b.Z,{})});if(r)return(0,x.jsx)("div",{children:(0,x.jsx)(_.Z,{})});return s||n?this.state.isEdit?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(k,{category:"category",document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:s,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave})}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(C,{document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:s,role:this.props.user.role,handleClick:this.handleClick})}):(0,x.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,x.jsx)(c.Z,{animation:"border",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden"})})})}}]),a}(l.Component),E=N},72880:function(t,e,a){a.d(e,{Z:function(){return N}});var r=a(1368),n=a(38321),s=a(46123),i=a.n(s),o=a(47313),d=a(68524),l=a(28864),c=a(96205),u=a(85348),h=["bsPrefix","className","variant","as"],p=o.forwardRef((function(t,e){var a=t.bsPrefix,s=t.className,l=t.variant,c=t.as,u=void 0===c?"img":c,p=(0,n.Z)(t,h),m=(0,d.vE)(a,"card-img");return o.createElement(u,(0,r.Z)({ref:e,className:i()(l?m+"-"+l:m,s)},p))}));p.displayName="CardImg",p.defaultProps={variant:null};var m=p,f=["bsPrefix","className","bg","text","border","body","children","as"],v=(0,c.Z)("h5"),Z=(0,c.Z)("h6"),x=(0,l.Z)("card-body"),S=(0,l.Z)("card-title",{Component:v}),C=(0,l.Z)("card-subtitle",{Component:Z}),y=(0,l.Z)("card-link",{Component:"a"}),g=(0,l.Z)("card-text",{Component:"p"}),k=(0,l.Z)("card-header"),j=(0,l.Z)("card-footer"),b=(0,l.Z)("card-img-overlay"),_=o.forwardRef((function(t,e){var a=t.bsPrefix,s=t.className,l=t.bg,c=t.text,h=t.border,p=t.body,m=t.children,v=t.as,Z=void 0===v?"div":v,S=(0,n.Z)(t,f),C=(0,d.vE)(a,"card"),y=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:C+"-header"}}),[C]);return o.createElement(u.Z.Provider,{value:y},o.createElement(Z,(0,r.Z)({ref:e},S,{className:i()(s,C,l&&"bg-"+l,c&&"text-"+c,h&&"border-"+h)}),p?o.createElement(x,null,m):m))}));_.displayName="Card",_.defaultProps={body:!1},_.Img=m,_.Title=S,_.Subtitle=C,_.Body=x,_.Link=y,_.Text=g,_.Header=k,_.Footer=j,_.ImgOverlay=b;var N=_},85348:function(t,e,a){var r=a(47313).createContext(null);r.displayName="CardContext",e.Z=r},63849:function(t,e,a){var r=a(1368),n=a(38321),s=a(46123),i=a.n(s),o=a(47313),d=a(68524),l=["bsPrefix","className","noGutters","as"],c=["xl","lg","md","sm","xs"],u=o.forwardRef((function(t,e){var a=t.bsPrefix,s=t.className,u=t.noGutters,h=t.as,p=void 0===h?"div":h,m=(0,n.Z)(t,l),f=(0,d.vE)(a,"row"),v=f+"-cols",Z=[];return c.forEach((function(t){var e,a=m[t];delete m[t];var r="xs"!==t?"-"+t:"";null!=(e=null!=a&&"object"===typeof a?a.cols:a)&&Z.push(""+v+r+"-"+e)})),o.createElement(p,(0,r.Z)({ref:e},m,{className:i().apply(void 0,[s,f,u&&"no-gutters"].concat(Z))}))}));u.displayName="Row",u.defaultProps={noGutters:!1},e.Z=u},96205:function(t,e,a){var r=a(1368),n=a(47313),s=a(46123),i=a.n(s);e.Z=function(t){return n.forwardRef((function(e,a){return n.createElement("div",(0,r.Z)({},e,{ref:a,className:i()(e.className,t)}))}))}},85463:function(){}}]);