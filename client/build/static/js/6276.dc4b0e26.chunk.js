"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[6276],{50099:function(e,a,r){var t=r(35531),s=r(27853),n=r(84531),i=r(78932),o=r(38128),l=r(47313),d=r(73158),c=r(65832),p=r(62396),u=r(29678),h=r.n(u),m=r(54991),x=r(12401),f=r(46417),j=function(e){(0,i.Z)(r,e);var a=(0,o.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,n.Z)(r,[{key:"render",value:function(){var e,a,r,s,n,i=this,o=[];return this.state.isOption&&(r=(0,f.jsx)("div",{className:"card-header-right",children:(0,f.jsxs)(d.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,f.jsx)(d.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,f.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,f.jsxs)(d.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,f.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,f.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,f.jsxs)("a",{href:x.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,f.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,f.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,f.jsxs)("a",{href:x.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,f.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,f.jsx)("i",{className:"feather icon-refresh-cw"}),(0,f.jsx)("a",{href:x.Z.BLANK_LINK,children:" Reload "})]}),(0,f.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,f.jsx)("i",{className:"feather icon-trash"}),(0,f.jsx)("a",{href:x.Z.BLANK_LINK,children:" Remove "})]})]})]})})),s=(0,f.jsxs)(c.Z.Header,{children:[(0,f.jsx)(c.Z.Title,{as:"h5",children:this.props.title}),r]}),this.state.fullCard&&(o=[].concat((0,t.Z)(o),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(o=[].concat((0,t.Z)(o),["card-load"]),a=(0,f.jsx)("div",{className:"card-loader",children:(0,f.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(o=[].concat((0,t.Z)(o),["d-none"])),this.props.cardClass&&(o=[].concat((0,t.Z)(o),[this.props.cardClass])),n=(0,f.jsxs)(c.Z,{className:o.join(" "),style:e,children:[s,(0,f.jsx)(p.Z,{in:!this.state.collapseCard,children:(0,f.jsx)("div",{children:(0,f.jsx)(c.Z.Body,{children:this.props.children})})}),a]}),(0,f.jsx)(m.Z,{children:n})}}]),r}(l.Component);a.Z=h()(j)},26276:function(e,a,r){r.r(a),r.d(a,{default:function(){return R}});var t=r(27853),s=r(84531),n=r(78932),i=r(38128),o=r(47313),l=r(44030),d=r(63849),c=r(31616),p=r(54991),u=r(18489),h=r(23430),m=r(45110),x=r(86450),f=r(94611),j=r(37062),Z=r(465),g=r(93298),v=r(68611),_=r(65487),y=r(65832),C=r(51426),N=r(65777),w=r(46417);function I(e){var a=e.column,r=a.filterValue,t=a.preFilteredRows,s=a.setFilter,n=t.length;return(0,w.jsx)("input",{value:r||"",onChange:function(e){s(e.target.value||void 0)},placeholder:"Search ".concat(n," records...")})}function b(e,a,r){return(0,N.Lu)(e,r,{keys:[function(e){return e.values[a]}]})}b.autoRemove=function(e){return!e};function k(e){var a=e.header,r=e.data,t=(e.userId,(0,o.useState)({modalShowAssignWindow:!1,modalShowAssignSuccessWindow:!1})),s=(0,h.Z)(t,2),n=(s[0],s[1],(0,o.useState)({programIds:[],schools:[],program_names:[]})),i=(0,h.Z)(n,2),l=(i[0],i[1],(0,o.useState)("")),p=(0,h.Z)(l,2),x=(p[0],p[1],o.useMemo((function(){return[{Header:a,columns:[{Header:"First Name",accessor:"firstname"},{Header:"Last Name",accessor:"lastname"},{Header:"University",accessor:"school"},{Header:"Program",accessor:"program_name"},{Header:"Application Year",accessor:"application_year"},{Header:"Semester",accessor:"semester"}]}]}),[])),f=o.useMemo((function(){return{fuzzyText:b,text:function(e,a,r){return e.filter((function(e){var t=e.values[a];return void 0===t||String(t).toLowerCase().startsWith(String(r).toLowerCase())}))}}}),[]),v=o.useMemo((function(){return{Filter:I}}),[]),_=(0,m.useTable)({columns:x,data:r,defaultColumn:v,filterTypes:f},m.useFilters,m.useGlobalFilter,m.usePagination),y=_.getTableProps,C=_.getTableBodyProps,N=_.headerGroups,k=_.page,S=_.prepareRow,P=(_.state,_.visibleColumns,_.canPreviousPage),R=_.canNextPage,L=_.pageOptions,A=_.pageCount,z=_.gotoPage,H=_.nextPage,F=_.previousPage,K=_.setPageSize,T=(_.preGlobalFilteredRows,_.setGlobalFilter,_.toggleAllRowsSelected,_.state),G=T.pageIndex,O=T.pageSize;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(Z.Z,(0,u.Z)((0,u.Z)({className:"my-0 mx-2",variant:"dark",text:"light",responsive:!0,hover:!0,size:"sm"},y()),{},{children:[(0,w.jsx)("thead",{children:N.map((function(e){return(0,w.jsx)("tr",(0,u.Z)((0,u.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,w.jsxs)("th",(0,u.Z)((0,u.Z)({},e.getHeaderProps()),{},{children:[e.render("Header"),(0,w.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),(0,w.jsx)("tbody",(0,u.Z)((0,u.Z)({},C()),{},{children:k.map((function(e,a){return S(e),(0,w.jsx)("tr",(0,u.Z)((0,u.Z)({},e.getRowProps()),{},{children:e.cells.map((function(a,r){return(0,w.jsx)("td",(0,u.Z)((0,u.Z)({},a.getCellProps()),{},{children:0===r?(0,w.jsx)(w.Fragment,{children:a.render("Cell")}):(0,w.jsx)(j.Z,{to:"/student-database/"+e.original._id+"/background",className:"text-info",style:{textDecoration:"none"},children:a.render("Cell")})}))}))}))}))}))]})),(0,w.jsx)("div",{className:"pagination",children:(0,w.jsxs)(d.Z,{children:[(0,w.jsx)(c.Z,{md:1,children:(0,w.jsx)(g.Z,{size:"sm",onClick:function(){return z(0)},disabled:!P,children:"<<"})})," ",(0,w.jsx)(c.Z,{md:1,children:(0,w.jsx)(g.Z,{size:"sm",onClick:function(){return F()},disabled:!P,children:"<"})})," ",(0,w.jsx)(c.Z,{md:1,children:(0,w.jsx)(g.Z,{size:"sm",onClick:function(){return H()},disabled:!R,children:">"})})," ",(0,w.jsx)(c.Z,{md:1,children:(0,w.jsx)(g.Z,{size:"sm",onClick:function(){return z(A-1)},disabled:!R,children:">>"})})," ",(0,w.jsx)(c.Z,{md:2,children:(0,w.jsxs)("span",{className:"my-0 mx-0 text-light",children:["Page"," ",(0,w.jsxs)("strong",{children:[G+1," of ",L.length]})," "]})}),(0,w.jsx)(c.Z,{md:4,children:(0,w.jsxs)("span",{className:"my-0 mx-0 text-light",children:["| Go to page:"," ",(0,w.jsx)("input",{type:"number",defaultValue:G+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;z(a)},style:{width:"100px"}})]})})," ",(0,w.jsx)(c.Z,{md:2,children:(0,w.jsx)("select",{value:O,onChange:function(e){K(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return(0,w.jsxs)("option",{value:e,children:["Show ",e]},e)}))})})]})})]})}var S=function(e){var a=(0,o.useState)({students:e.students}),r=(0,h.Z)(a,2),t=r[0],s=(r[1],[]),n=[],i=[],l=[];return t.students.map((function(e){return e.applications.map((function(a){"O"===a.decided&&("O"===a.closed?("O"===a.admission&&s.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.aapplication_preference.expected_application_date,school:a.programId.school,program_name:a.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:a.programId.semester}),"X"===a.admission&&n.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.aapplication_preference.expected_application_date,school:a.programId.school,program_name:a.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:a.programId.semester}),"-"===a.admission&&i.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.application_preference.expected_application_date,school:a.programId.school,program_name:a.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:a.programId.semester})):l.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.application_preference.expected_application_date,school:a.programId.school,program_name:a.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:a.programId.semester}))}))})),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(v.Z,{defaultActiveKey:"Admissions",id:"fill-tab-example",fill:!0,justify:!0,children:[(0,w.jsx)(_.Z,{eventKey:"Admissions",title:"Admissions",className:"my-0 mx-0",children:(0,w.jsx)(d.Z,{children:(0,w.jsx)(y.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,w.jsx)(k,{header:"Admissions",data:s,userId:e.userId})})})}),(0,w.jsx)(_.Z,{eventKey:"Rejections",title:"Rejections",children:(0,w.jsx)(d.Z,{children:(0,w.jsx)(y.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,w.jsx)(k,{header:"Rejections ",data:n,userId:e.userId})})})}),(0,w.jsx)(_.Z,{eventKey:"Pending",title:"Pending",children:(0,w.jsx)(d.Z,{children:(0,w.jsx)(y.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,w.jsx)(k,{header:"Pending",data:i,userId:e.userId})})})}),(0,w.jsx)(_.Z,{eventKey:"NotClosedYet",title:"Not Closed Yet",children:(0,w.jsx)(d.Z,{children:(0,w.jsx)(y.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,w.jsx)(k,{header:"Not Closed Yet",data:l,userId:e.userId})})})})]})})},P=function(e){(0,n.Z)(r,e);var a=(0,i.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={error:null,timeouterror:null,unauthorizederror:null,isLoaded:!1,students:[],success:!1},e}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){var e=this;(0,C.mK)().then((function(a){var r=a.data,t=r.data,s=r.success;s?e.setState({isLoaded:!0,students:t,success:s}):401===a.status||500===a.status?e.setState({isLoaded:!0,timeouterror:!0}):403===a.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(a){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this.state,a=e.unauthorizederror,r=e.timeouterror,t=e.isLoaded;if(r)return(0,w.jsx)("div",{children:(0,w.jsx)(f.Z,{})});if(a)return(0,w.jsx)("div",{children:(0,w.jsx)(x.Z,{})});var s={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};return t||this.state.data?this.state.success?(0,w.jsx)(p.Z,{children:(0,w.jsx)(d.Z,{children:(0,w.jsxs)(c.Z,{children:["Admin"===this.props.user.role||"Agent"===this.props.user.role||"Editor"===this.props.user.role?(0,w.jsx)(S,{students:this.state.students}):(0,w.jsx)(w.Fragment,{}),!t&&(0,w.jsx)("div",{style:s,children:(0,w.jsx)(l.Z,{animation:"border",role:"status",children:(0,w.jsx)("span",{className:"visually-hidden"})})})]})})}):void 0:(0,w.jsx)("div",{style:s,children:(0,w.jsx)(l.Z,{animation:"border",role:"status",children:(0,w.jsx)("span",{className:"visually-hidden"})})})}}]),r}(o.Component),R=P},94611:function(e,a,r){var t=r(27853),s=r(84531),n=r(78932),i=r(38128),o=r(47313),l=r(63849),d=r(31616),c=r(50099),p=r(54991),u=r(46417),h=function(e){(0,n.Z)(r,e);var a=(0,i.Z)(r);function r(){return(0,t.Z)(this,r),a.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){return(0,u.jsx)(p.Z,{children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(d.Z,{children:(0,u.jsx)(c.Z,{children:"Time out error. Please login again!"})})})})}}]),r}(o.Component);a.Z=h},86450:function(e,a,r){var t=r(27853),s=r(84531),n=r(78932),i=r(38128),o=r(47313),l=r(63849),d=r(31616),c=r(50099),p=r(54991),u=r(46417),h=function(e){(0,n.Z)(r,e);var a=(0,i.Z)(r);function r(){return(0,t.Z)(this,r),a.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){return(0,u.jsx)(p.Z,{children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(d.Z,{children:(0,u.jsx)(c.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),r}(o.Component);a.Z=h}}]);