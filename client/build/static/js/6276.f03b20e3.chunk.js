"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[6276],{50099:function(e,r,s){var t=s(35531),a=s(27853),n=s(84531),i=s(78932),o=s(38128),l=s(47313),c=s(73158),d=s(65832),u=s(62396),p=s(29678),h=s.n(p),m=s(54991),x=s(12401),Z=s(46417),f=function(e){(0,i.Z)(s,e);var r=(0,o.Z)(s);function s(){var e;(0,a.Z)(this,s);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,n.Z)(s,[{key:"render",value:function(){var e,r,s,a,n,i=this,o=[];return this.state.isOption&&(s=(0,Z.jsx)("div",{className:"card-header-right",children:(0,Z.jsxs)(c.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,Z.jsx)(c.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,Z.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,Z.jsxs)(c.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,Z.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,Z.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,Z.jsxs)("a",{href:x.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,Z.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,Z.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,Z.jsxs)("a",{href:x.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,Z.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,Z.jsx)("i",{className:"feather icon-refresh-cw"}),(0,Z.jsx)("a",{href:x.Z.BLANK_LINK,children:" Reload "})]}),(0,Z.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,Z.jsx)("i",{className:"feather icon-trash"}),(0,Z.jsx)("a",{href:x.Z.BLANK_LINK,children:" Remove "})]})]})]})})),a=(0,Z.jsxs)(d.Z.Header,{children:[(0,Z.jsx)(d.Z.Title,{as:"h5",children:this.props.title}),s]}),this.state.fullCard&&(o=[].concat((0,t.Z)(o),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(o=[].concat((0,t.Z)(o),["card-load"]),r=(0,Z.jsx)("div",{className:"card-loader",children:(0,Z.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(o=[].concat((0,t.Z)(o),["d-none"])),this.props.cardClass&&(o=[].concat((0,t.Z)(o),[this.props.cardClass])),n=(0,Z.jsxs)(d.Z,{className:o.join(" "),style:e,children:[a,(0,Z.jsx)(u.Z,{in:!this.state.collapseCard,children:(0,Z.jsx)("div",{children:(0,Z.jsx)(d.Z.Body,{children:this.props.children})})}),r]}),(0,Z.jsx)(m.Z,{children:n})}}]),s}(l.Component);r.Z=h()(f)},26276:function(e,r,s){s.r(r),s.d(r,{default:function(){return R}});var t=s(27853),a=s(84531),n=s(78932),i=s(38128),o=s(47313),l=s(44030),c=s(63849),d=s(31616),u=s(54991),p=s(18489),h=s(23430),m=s(45110),x=(s(86450),s(94611),s(37062)),Z=s(465),f=s(93298),j=s(43757),g=s(65487),v=s(65832),_=s(51426),y=s(65777),C=s(46417);function N(e){var r=e.column,s=r.filterValue,t=r.preFilteredRows,a=r.setFilter,n=t.length;return(0,C.jsx)("input",{value:s||"",onChange:function(e){a(e.target.value||void 0)},placeholder:"Search ".concat(n," records...")})}function w(e,r,s){return(0,y.Lu)(e,s,{keys:[function(e){return e.values[r]}]})}w.autoRemove=function(e){return!e};function I(e){var r=e.header,s=e.data,t=(e.userId,(0,o.useState)({modalShowAssignWindow:!1,modalShowAssignSuccessWindow:!1})),a=(0,h.Z)(t,2),n=(a[0],a[1],(0,o.useState)({programIds:[],schools:[],program_names:[]})),i=(0,h.Z)(n,2),l=(i[0],i[1],(0,o.useState)("")),u=(0,h.Z)(l,2),j=(u[0],u[1],o.useMemo((function(){return[{Header:r,columns:[{Header:"First Name",accessor:"firstname"},{Header:"Last Name",accessor:"lastname"},{Header:"University",accessor:"school"},{Header:"Program",accessor:"program_name"},{Header:"Application Year",accessor:"application_year"},{Header:"Semester",accessor:"semester"}]}]}),[])),g=o.useMemo((function(){return{fuzzyText:w,text:function(e,r,s){return e.filter((function(e){var t=e.values[r];return void 0===t||String(t).toLowerCase().startsWith(String(s).toLowerCase())}))}}}),[]),v=o.useMemo((function(){return{Filter:N}}),[]),_=(0,m.useTable)({columns:j,data:s,defaultColumn:v,filterTypes:g},m.useFilters,m.useGlobalFilter,m.usePagination),y=_.getTableProps,I=_.getTableBodyProps,b=_.headerGroups,k=_.page,S=_.prepareRow,P=(_.state,_.visibleColumns,_.canPreviousPage),R=_.canNextPage,A=_.pageOptions,L=_.pageCount,H=_.gotoPage,F=_.nextPage,z=_.previousPage,K=_.setPageSize,T=(_.preGlobalFilteredRows,_.setGlobalFilter,_.toggleAllRowsSelected,_.state),B=T.pageIndex,G=T.pageSize;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(Z.Z,(0,p.Z)((0,p.Z)({className:"my-0 mx-2",variant:"dark",text:"light",responsive:!0,hover:!0,size:"sm"},y()),{},{children:[(0,C.jsx)("thead",{children:b.map((function(e){return(0,C.jsx)("tr",(0,p.Z)((0,p.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,C.jsxs)("th",(0,p.Z)((0,p.Z)({},e.getHeaderProps()),{},{children:[e.render("Header"),(0,C.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),(0,C.jsx)("tbody",(0,p.Z)((0,p.Z)({},I()),{},{children:k.map((function(e,r){return S(e),(0,C.jsx)("tr",(0,p.Z)((0,p.Z)({},e.getRowProps()),{},{children:e.cells.map((function(r,s){return(0,C.jsx)("td",(0,p.Z)((0,p.Z)({},r.getCellProps()),{},{children:0===s?(0,C.jsx)(C.Fragment,{children:r.render("Cell")}):(0,C.jsx)(x.Z,{to:"/student-database/"+e.original._id+"/background",className:"text-info",style:{textDecoration:"none"},children:r.render("Cell")})}))}))}))}))}))]})),(0,C.jsx)("div",{className:"pagination",children:(0,C.jsxs)(c.Z,{children:[(0,C.jsx)(d.Z,{md:1,children:(0,C.jsx)(f.Z,{size:"sm",onClick:function(){return H(0)},disabled:!P,children:"<<"})})," ",(0,C.jsx)(d.Z,{md:1,children:(0,C.jsx)(f.Z,{size:"sm",onClick:function(){return z()},disabled:!P,children:"<"})})," ",(0,C.jsx)(d.Z,{md:1,children:(0,C.jsx)(f.Z,{size:"sm",onClick:function(){return F()},disabled:!R,children:">"})})," ",(0,C.jsx)(d.Z,{md:1,children:(0,C.jsx)(f.Z,{size:"sm",onClick:function(){return H(L-1)},disabled:!R,children:">>"})})," ",(0,C.jsx)(d.Z,{md:2,children:(0,C.jsxs)("span",{className:"my-0 mx-0 text-light",children:["Page"," ",(0,C.jsxs)("strong",{children:[B+1," of ",A.length]})," "]})}),(0,C.jsx)(d.Z,{md:4,children:(0,C.jsxs)("span",{className:"my-0 mx-0 text-light",children:["| Go to page:"," ",(0,C.jsx)("input",{type:"number",defaultValue:B+1,onChange:function(e){var r=e.target.value?Number(e.target.value)-1:0;H(r)},style:{width:"100px"}})]})})," ",(0,C.jsx)(d.Z,{md:2,children:(0,C.jsx)("select",{value:G,onChange:function(e){K(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return(0,C.jsxs)("option",{value:e,children:["Show ",e]},e)}))})})]})})]})}var b=function(e){var r=(0,o.useState)({students:e.students}),s=(0,h.Z)(r,2),t=s[0],a=(s[1],[]),n=[],i=[],l=[];return t.students.map((function(e){return e.applications.map((function(r){"O"===r.decided&&("O"===r.closed?("O"===r.admission&&a.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.aapplication_preference.expected_application_date,school:r.programId.school,program_name:r.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:r.programId.semester}),"X"===r.admission&&n.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.aapplication_preference.expected_application_date,school:r.programId.school,program_name:r.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:r.programId.semester}),"-"===r.admission&&i.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.application_preference.expected_application_date,school:r.programId.school,program_name:r.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:r.programId.semester})):l.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.application_preference.expected_application_date,school:r.programId.school,program_name:r.programId.program_name,application_year:e.application_preference&&e.application_preference.expected_application_date,semester:r.programId.semester}))}))})),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(j.Z,{defaultActiveKey:"Admissions",id:"fill-tab-example",fill:!0,justify:!0,children:[(0,C.jsx)(g.Z,{eventKey:"Admissions",title:"Admissions",className:"my-0 mx-0",children:(0,C.jsx)(c.Z,{children:(0,C.jsx)(v.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,C.jsx)(I,{header:"Admissions",data:a,userId:e.userId})})})}),(0,C.jsx)(g.Z,{eventKey:"Rejections",title:"Rejections",children:(0,C.jsx)(c.Z,{children:(0,C.jsx)(v.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,C.jsx)(I,{header:"Rejections ",data:n,userId:e.userId})})})}),(0,C.jsx)(g.Z,{eventKey:"Pending",title:"Pending",children:(0,C.jsx)(c.Z,{children:(0,C.jsx)(v.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,C.jsx)(I,{header:"Pending",data:i,userId:e.userId})})})}),(0,C.jsx)(g.Z,{eventKey:"NotClosedYet",title:"Not Closed Yet",children:(0,C.jsx)(c.Z,{children:(0,C.jsx)(v.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,C.jsx)(I,{header:"Not Closed Yet",data:l,userId:e.userId})})})})]})})},k=s(66417),S=s(51767),P=function(e){(0,n.Z)(s,e);var r=(0,i.Z)(s);function s(){var e;(0,t.Z)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).state={error:null,timeouterror:null,unauthorizederror:null,isLoaded:!1,students:[],success:!1,res_status:0},e}return(0,a.Z)(s,[{key:"componentDidMount",value:function(){var e=this;(0,_.mK)().then((function(r){var s=r.data,t=s.data,a=s.success,n=r.status;a?e.setState({isLoaded:!0,students:t,success:a,res_status:n}):e.setState({isLoaded:!0,res_status:n})}),(function(r){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this.state,r=e.res_status;return e.isLoaded||this.state.data?r>=400?(0,C.jsx)(k.Z,{res_status:r}):this.state.success?(0,C.jsx)(u.Z,{children:(0,C.jsx)(c.Z,{children:(0,C.jsx)(d.Z,{children:"Admin"===this.props.user.role||"Agent"===this.props.user.role||"Editor"===this.props.user.role?(0,C.jsx)(b,{students:this.state.students}):(0,C.jsx)(C.Fragment,{})})})}):void 0:(0,C.jsx)("div",{style:S.nT,children:(0,C.jsx)(l.Z,{animation:"border",role:"status",children:(0,C.jsx)("span",{className:"visually-hidden"})})})}}]),s}(o.Component),R=P},66417:function(e,r,s){s.d(r,{Z:function(){return _}});var t=s(27853),a=s(84531),n=s(78932),i=s(38128),o=s(47313),l=s(63849),c=s(31616),d=s(50099),u=s(54991),p=s(29021),h=s(94611),m=s(86450),x=(s(89351),s(46417)),Z=function(e){(0,n.Z)(s,e);var r=(0,i.Z)(s);function s(){return(0,t.Z)(this,s),r.apply(this,arguments)}return(0,a.Z)(s,[{key:"render",value:function(){return(0,x.jsx)(u.Z,{children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(d.Z,{children:"Session is expired. Please refresh the page and login again."})})})})}}]),s}(o.Component),f=Z,j=function(e){(0,n.Z)(s,e);var r=(0,i.Z)(s);function s(){return(0,t.Z)(this,s),r.apply(this,arguments)}return(0,a.Z)(s,[{key:"render",value:function(){return(0,x.jsx)(u.Z,{children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(d.Z,{children:"Too many requests. Please try later."})})})})}}]),s}(o.Component),g=j,v=function(e){(0,n.Z)(s,e);var r=(0,i.Z)(s);function s(){return(0,t.Z)(this,s),r.apply(this,arguments)}return(0,a.Z)(s,[{key:"render",value:function(){return 401===this.props.res_status?(0,x.jsx)(f,{}):403===this.props.res_status?(0,x.jsx)(m.Z,{}):404===this.props.res_status?(0,x.jsx)(p.Z,{}):408===this.props.res_status?(0,x.jsx)(h.Z,{}):429===this.props.res_status?(0,x.jsx)(g,{}):this.props.res_status>=500?(0,x.jsx)(u.Z,{children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(d.Z,{children:"Server problem. Please try later."})})})}):void 0}}]),s}(o.Component),_=v},29021:function(e,r,s){var t=s(27853),a=s(84531),n=s(78932),i=s(38128),o=s(47313),l=s(63849),c=s(31616),d=s(65832),u=s(54991),p=s(46417),h=function(e){(0,n.Z)(s,e);var r=(0,i.Z)(s);function s(){return(0,t.Z)(this,s),r.apply(this,arguments)}return(0,a.Z)(s,[{key:"render",value:function(){return(0,p.jsx)(u.Z,{children:(0,p.jsx)(l.Z,{children:(0,p.jsx)(c.Z,{children:(0,p.jsx)(d.Z,{children:(0,p.jsx)(d.Z.Body,{children:(0,p.jsx)("h4",{children:"Page Not Found!"})})})})})})}}]),s}(o.Component);r.Z=h},94611:function(e,r,s){var t=s(27853),a=s(84531),n=s(78932),i=s(38128),o=s(47313),l=s(63849),c=s(31616),d=s(50099),u=s(54991),p=s(46417),h=function(e){(0,n.Z)(s,e);var r=(0,i.Z)(s);function s(){return(0,t.Z)(this,s),r.apply(this,arguments)}return(0,a.Z)(s,[{key:"render",value:function(){return(0,p.jsx)(u.Z,{children:(0,p.jsx)(l.Z,{children:(0,p.jsx)(c.Z,{children:(0,p.jsx)(d.Z,{children:"Time out error. Please login again!"})})})})}}]),s}(o.Component);r.Z=h},86450:function(e,r,s){var t=s(27853),a=s(84531),n=s(78932),i=s(38128),o=s(47313),l=s(63849),c=s(31616),d=s(50099),u=s(54991),p=s(46417),h=function(e){(0,n.Z)(s,e);var r=(0,i.Z)(s);function s(){return(0,t.Z)(this,s),r.apply(this,arguments)}return(0,a.Z)(s,[{key:"render",value:function(){return(0,p.jsx)(u.Z,{children:(0,p.jsx)(l.Z,{children:(0,p.jsx)(c.Z,{children:(0,p.jsx)(d.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),s}(o.Component);r.Z=h}}]);