"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[7058],{2932:function(e,n,t){t.r(n);var a=t(18489),s=t(27853),r=t(84531),i=t(78932),o=t(38128),l=t(47313),d=t(44030),c=t(63849),u=t(31616),h=t(65832),m=t(67203),p=t(93298),x=t(47939),f=t(54991),Z=t(51767),j=t(82423),g=t(20688),_=t(51426),w=t(46417),y=function(e){(0,i.Z)(t,e);var n=(0,o.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={error:null,timeouterror:null,unauthorizederror:null,role:"",isLoaded:!1,data:null,success:!1,user:{},changed_personaldata:!1,personaldata:{firstname:e.props.user.firstname,lastname:e.props.user.lastname},credentials:{current_password:"",new_password:"",new_password_again:""},updateconfirmed:!1,updatecredentialconfirmed:!1,res_status:0,res_modal_message:"",res_modal_status:0},e.handleChange_PersonalData=function(n){var t=(0,a.Z)({},e.state.personaldata);t[n.target.id]=n.target.value,e.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{changed_personaldata:!0,personaldata:t})}))},e.handleSubmit_PersonalData=function(n,t){(0,_.pA)(t).then((function(n){var t=n.data,s=t.data,r=t.success,i=n.status;if(r)e.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isLoaded:!0,personaldata:s,success:r,changed_personaldata:!1,updateconfirmed:!0,res_modal_status:i})}));else{var o=n.data.message;e.setState({isLoaded:!0,res_modal_message:o,res_modal_status:i})}}),(function(n){e.setState({isLoaded:!0,error:!0})}))},e.handleChange_Credentials=function(n){var t=(0,a.Z)({},e.state.credentials);t[n.target.id]=n.target.value,e.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{credentials:t})}))},e.handleSubmit_Credentials=function(n,t,s){t.new_password===t.new_password_again?t.new_password.length<8?alert("New password should have at least 8 characters."):(0,_.eX)(t,s,t.current_password).then((function(n){var t=n.data.success,s=n.status;if(t)e.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isLoaded:!0,success:t,updatecredentialconfirmed:!0,res_modal_status:s})}));else{var r=n.data.message;e.setState({isLoaded:!0,res_modal_message:r,res_modal_status:s})}}),(function(n){alert(n),e.setState({isLoaded:!0})})):alert("New password not matched")},e.onHide=function(){e.setState({updateconfirmed:!1})},e.onHideCredential=function(){e.setState({updateconfirmed:!1})},e.onHideUnauthorizederror=function(){e.setState({unauthorizederror:!1})},e.setmodalhide=function(){window.location.reload(!0)},e.setmodalhideUpdateCredentials=function(){(0,_.kS)().then((function(e){window.location.reload(!0)}),(function(e){}))},e.ConfirmError=function(){e.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{res_modal_status:0,res_modal_message:""})}))},e}return(0,r.Z)(t,[{key:"componentDidMount",value:function(){this.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isLoaded:!0,success:!0})}))}},{key:"render",value:function(){var e=this,n=this.state,t=n.res_status,a=n.isLoaded,s=n.res_modal_status,r=n.res_modal_message;return a?t>=400?(0,w.jsx)(j.Z,{res_status:t}):(0,w.jsxs)(f.Z,{children:[s>=400&&(0,w.jsx)(g.Z,{ConfirmError:this.ConfirmError,res_modal_status:s,res_modal_message:r}),(0,w.jsx)(c.Z,{children:(0,w.jsxs)(u.Z,{children:[(0,w.jsxs)(h.Z,{className:"my-4 mx-0",bg:"dark",text:"white",children:[(0,w.jsx)(h.Z.Header,{children:(0,w.jsx)(h.Z.Title,{className:"my-0 mx-0 text-light",children:"Personal Data"})}),(0,w.jsx)(h.Z.Body,{children:(0,w.jsxs)(c.Z,{children:[(0,w.jsxs)(u.Z,{children:[(0,w.jsxs)(m.Z.Group,{controlId:"firstname",children:[(0,w.jsx)(m.Z.Label,{className:"my-0 mx-0 text-light",children:"Firstname"}),(0,w.jsx)(m.Z.Control,{type:"text",placeholder:"First name",autoComplete:"nope",defaultValue:this.state.personaldata.firstname,onChange:function(n){return e.handleChange_PersonalData(n)}})]}),(0,w.jsx)("br",{}),(0,w.jsxs)(m.Z.Group,{className:"mb-2",children:[(0,w.jsx)(m.Z.Label,{className:"my-0 mx-0 text-light",children:"Email"}),(0,w.jsx)("p",{className:"text-primary",children:this.props.user.email})]})]}),(0,w.jsxs)(u.Z,{md:6,children:[(0,w.jsxs)(m.Z.Group,{controlId:"lastname",children:[(0,w.jsx)(m.Z.Label,{className:"my-0 mx-0 text-light",children:"Lastname"}),(0,w.jsx)(m.Z.Control,{type:"text",placeholder:"Last name",defaultValue:this.state.personaldata.lastname,onChange:function(n){return e.handleChange_PersonalData(n)}})]}),(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),(0,w.jsx)(p.Z,{variant:"primary",disabled:""===this.state.personaldata.firstname||""===this.state.personaldata.lastname||!this.state.changed_personaldata,onClick:function(n){return e.handleSubmit_PersonalData(n,e.state.personaldata)},children:"Update"})]})]})})]}),!a&&(0,w.jsx)("div",{style:Z.nT,children:(0,w.jsx)(d.Z,{animation:"border",role:"status",children:(0,w.jsx)("span",{className:"visually-hidden"})})})]})}),(0,w.jsx)(c.Z,{children:(0,w.jsxs)(u.Z,{md:6,children:[(0,w.jsxs)(h.Z,{className:"my-4 mx-0",bg:"dark",text:"white",children:[(0,w.jsx)(h.Z.Header,{children:(0,w.jsx)(h.Z.Title,{className:"my-0 mx-0 text-light",children:"Login"})}),(0,w.jsxs)(h.Z.Body,{children:[(0,w.jsx)(c.Z,{className:"my-0 mx-0",children:(0,w.jsx)(u.Z,{children:(0,w.jsxs)(m.Z.Group,{controlId:"current_password",children:[(0,w.jsx)(m.Z.Label,{className:"my-0 mx-0 text-light",children:"Current Password"}),(0,w.jsx)(m.Z.Control,{type:"password",onChange:function(n){return e.handleChange_Credentials(n)}})]})})}),(0,w.jsx)(c.Z,{className:"my-4 mx-0",children:(0,w.jsx)(u.Z,{children:(0,w.jsxs)(m.Z.Group,{controlId:"new_password",children:[(0,w.jsx)(m.Z.Label,{className:"my-0 mx-0 text-light",children:"New Password"}),(0,w.jsx)(m.Z.Control,{type:"password",onChange:function(n){return e.handleChange_Credentials(n)}})]})})}),(0,w.jsx)(c.Z,{className:"my-0 mx-0",children:(0,w.jsxs)(u.Z,{children:[(0,w.jsxs)(m.Z.Group,{controlId:"new_password_again",children:[(0,w.jsx)(m.Z.Label,{className:"my-0 mx-0 text-light",children:"Enter New Password Again"}),(0,w.jsx)(m.Z.Control,{type:"password",onChange:function(n){return e.handleChange_Credentials(n)}})]}),(0,w.jsx)("br",{}),(0,w.jsx)(p.Z,{disabled:""===this.state.credentials.current_password||""===this.state.credentials.new_password||""===this.state.credentials.new_password_again,variant:"primary",onClick:function(n){return e.handleSubmit_Credentials(n,e.state.credentials,e.props.user.email)},children:"Submit"})]})})]})]}),!a&&(0,w.jsx)("div",{style:Z.nT,children:(0,w.jsx)(d.Z,{animation:"border",role:"status",children:(0,w.jsx)("span",{className:"visually-hidden"})})})]})}),(0,w.jsxs)(x.Z,{show:this.state.updateconfirmed,onHide:this.onHide,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,w.jsx)(x.Z.Header,{children:(0,w.jsx)(x.Z.Title,{id:"contained-modal-title-vcenter",children:"Update Success"})}),(0,w.jsx)(x.Z.Body,{children:"Personal Data is updated successfully!"}),(0,w.jsx)(x.Z.Footer,{children:(0,w.jsx)(p.Z,{onClick:this.setmodalhide,children:"Close"})})]}),(0,w.jsxs)(x.Z,{show:this.state.unauthorizederror,onHide:this.onHideUnauthorizederror,size:"sm",bg:"danger","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,w.jsx)(x.Z.Header,{children:(0,w.jsx)(x.Z.Title,{id:"contained-modal-title-vcenter",children:"Error"})}),(0,w.jsx)(x.Z.Body,{children:"Your current passwords are wrong. Please enter correct the current passwords."}),(0,w.jsx)(x.Z.Footer,{children:(0,w.jsx)(p.Z,{onClick:function(n){return e.onHideUnauthorizederror(n)},children:"Ok"})})]}),(0,w.jsxs)(x.Z,{show:this.state.updatecredentialconfirmed,onHide:this.onHideCredential,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,w.jsx)(x.Z.Header,{children:(0,w.jsx)(x.Z.Title,{id:"contained-modal-title-vcenter",children:"Update Credentials Successfully"})}),(0,w.jsx)(x.Z.Body,{children:"Credentials are updated successfully! Please login again."}),(0,w.jsx)(x.Z.Footer,{children:(0,w.jsx)(p.Z,{onClick:function(n){return e.setmodalhideUpdateCredentials(n)},children:"Ok"})})]})]}):(0,w.jsx)("div",{style:Z.nT,children:(0,w.jsx)(d.Z,{animation:"border",role:"status",children:(0,w.jsx)("span",{className:"visually-hidden"})})})}}]),t}(l.Component);n.default=y},62396:function(e,n,t){t.d(n,{Z:function(){return v}});var a=t(18489),s=t(83738),r=t(36222),i=t(46123),o=t.n(i),l=t(46988),d=t(47313),c=t(22752),u=t(59498);var h,m=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter((function(e){return null!=e})).reduce((function(e,n){if("function"!==typeof n)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?n:function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];e.apply(this,a),n.apply(this,a)}}),null)},p=t(6280),x=t(39776),f=t(46417),Z=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],j={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function g(e,n){var t=n["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],a=j[e];return t+parseInt((0,l.Z)(n,a[0]),10)+parseInt((0,l.Z)(n,a[1]),10)}var _=(h={},(0,r.Z)(h,c.Wj,"collapse"),(0,r.Z)(h,c.Ix,"collapsing"),(0,r.Z)(h,c.d0,"collapsing"),(0,r.Z)(h,c.cn,"collapse show"),h),w={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:g},y=d.forwardRef((function(e,n){var t=e.onEnter,r=e.onEntering,i=e.onEntered,l=e.onExit,c=e.onExiting,h=e.className,j=e.children,w=e.dimension,y=void 0===w?"height":w,v=e.getDimensionValue,C=void 0===v?g:v,b=(0,s.Z)(e,Z),E="function"===typeof y?y():y,N=(0,d.useMemo)((function(){return m((function(e){e.style[E]="0"}),t)}),[E,t]),S=(0,d.useMemo)((function(){return m((function(e){var n="scroll".concat(E[0].toUpperCase()).concat(E.slice(1));e.style[E]="".concat(e[n],"px")}),r)}),[E,r]),L=(0,d.useMemo)((function(){return m((function(e){e.style[E]=null}),i)}),[E,i]),k=(0,d.useMemo)((function(){return m((function(e){e.style[E]="".concat(C(E,e),"px"),(0,p.Z)(e)}),l)}),[l,C,E]),H=(0,d.useMemo)((function(){return m((function(e){e.style[E]=null}),c)}),[E,c]);return(0,f.jsx)(x.Z,(0,a.Z)((0,a.Z)({ref:n,addEndListener:u.Z},b),{},{"aria-expanded":b.role?b.in:null,onEnter:N,onEntering:S,onEntered:L,onExit:k,onExiting:H,childRef:j.ref,children:function(e,n){return d.cloneElement(j,(0,a.Z)((0,a.Z)({},n),{},{className:o()(h,j.props.className,_[e],"width"===E&&"collapse-horizontal")}))}}))}));y.defaultProps=w;var v=y}}]);