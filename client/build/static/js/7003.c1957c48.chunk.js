"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[7003],{92634:function(t,e,a){var r=a(18489),s=a(27853),n=a(84531),i=a(78932),o=a(38128),d=a(47313),c=a(65832),l=a(31974),u=a(46417),h=function(t){(0,i.Z)(a,t);var e=(0,o.Z)(a);function a(){var t;(0,s.Z)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={doc_title:t.props.document_title},t.handleChange=function(e){e.preventDefault();var a=(0,r.Z)({},t.state.doc_title);a=e.target.value,t.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{doc_title:a})}))},t.handleClickSave=function(e,a){e.preventDefault(),t.props.handleClickSave(e,t.state.doc_title,a)},t}return(0,n.Z)(a,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(c.Z,{children:(0,u.jsx)(c.Z.Body,{children:(0,u.jsx)(l.Z,{category:this.props.category,doc_title:"not_used",editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})})})})}}]),a}(d.Component);e.Z=h},51025:function(t,e,a){var r=a(27853),s=a(84531),n=a(78932),i=a(38128),o=a(47313),d=a(65832),c=a(63849),l=a(31616),u=a(93298),h=a(1110),p=a(51767),m=(a(7077),a(46417)),f=function(t){(0,n.Z)(a,t);var e=(0,i.Z)(a);function a(){return(0,r.Z)(this,a),e.apply(this,arguments)}return(0,s.Z)(a,[{key:"render",value:function(){var t=this;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(d.Z,{className:"mb-2 mx-0",children:(0,m.jsxs)(d.Z.Body,{children:[(0,m.jsx)(h.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(c.Z,{children:[(0,m.jsx)(l.Z,{md:2,children:(0,m.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,m.jsx)(l.Z,{md:10,children:(0,m.jsx)("p",{className:"my-0",children:(0,p.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(u.Z,{size:"sm",onClick:function(){return t.props.handleClick()},children:"Edit"})]})})})}}]),a}(o.Component);e.Z=f},15253:function(t,e,a){a.r(e);var r=a(18489),s=a(36222),n=a(27853),i=a(84531),o=a(78932),d=a(38128),c=a(47313),l=a(44030),u=a(63849),h=a(31616),p=a(65832),m=a(94395),f=a(51025),Z=a(92634),x=(a(94611),a(86450),a(29021),a(51767)),v=a(66417),y=a(51426),g=a(46417),C=function(t){(0,o.Z)(a,t);var e=(0,d.Z)(a);function a(){var t,i;(0,n.Z)(this,a);for(var o=arguments.length,d=new Array(o),c=0;c<o;c++)d[c]=arguments[c];return(i=e.call.apply(e,[this].concat(d))).state=(t={isLoaded:!1,success:!1,error:null,editorState:null,unauthorizederror:null},(0,s.Z)(t,"unauthorizederror",null),(0,s.Z)(t,"isEdit",!1),(0,s.Z)(t,"res_status",0),t),i.handleClickCancel=function(t){i.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{isEdit:!i.state.isEdit})}))},i.handleClickSave=function(t,e,a){t.preventDefault();var s=JSON.stringify(a),n={category:i.props.match.params.category,title:e,prop:i.props.item,text:s};(0,y.Y0)(i.props.match.params.category,n).then((function(t){var e=t.data,r=e.success,s=e.data,n=t.status;r?i.setState({success:r,timeouterror:!1,pagenotfounderror:!1,document_title:s.title,editorState:a,isEdit:!i.state.isEdit,isLoaded:!0,res_status:n}):i.setState({isLoaded:!0,res_status:n})}),(function(t){i.setState({error:t})})),i.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{in_edit_mode:!1})}))},i.handleClick=function(){i.setState((function(t){return(0,r.Z)((0,r.Z)({},t),{},{isEdit:!i.state.isEdit})}))},i}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){var t=this;(0,y.go)(this.props.match.params.category).then((function(e){var a=e.data,r=a.data,s=a.success,n=e.status;if(s){var i=null;i=r.text?JSON.parse(r.text):{time:new Date,blocks:[]},t.setState({isLoaded:!0,editorState:i,timeouterror:!1,pagenotfounderror:!1,success:s,res_status:n})}else t.setState({isLoaded:!0,res_status:n})}),(function(e){t.setState({isLoaded:!0,error:!0})}))}},{key:"componentDidUpdate",value:function(t,e){var a=this;t.match.params.category!==this.props.match.params.category&&(0,y.go)(this.props.match.params.category).then((function(t){var e=t.data,r=e.data,s=e.success,n=t.status;if(s){var i=null;i=r.text?JSON.parse(r.text):{time:new Date,blocks:[]},a.setState({isLoaded:!0,editorState:i,timeouterror:!1,pagenotfounderror:!1,success:s,res_status:n})}else a.setState({isLoaded:!0,res_status:n})}),(function(t){a.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var t=this;if("Admin"!==this.props.user.role&&"Editor"!==this.props.user.role&&"Agent"!==this.props.user.role&&"Student"!==this.props.user.role)return(0,g.jsx)(m.Z,{to:"/dashboard/default"});var e=this.state,a=e.res_status,r=e.editorState,s=e.isLoaded;return s||r?a>=400?(0,g.jsx)(v.Z,{res_status:a}):this.state.isEdit?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{className:"sticky-top ",children:(0,g.jsx)(h.Z,{children:(0,g.jsx)(p.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,g.jsx)(p.Z.Header,{text:"dark",children:(0,g.jsx)(p.Z.Title,{children:(0,g.jsx)(u.Z,{children:(0,g.jsx)(h.Z,{className:"my-0 mx-0 text-light",children:x.XA.find((function(e){return e.key===t.props.match.params.category})).value})})})})})})}),(0,g.jsx)(Z.Z,{category:"category",document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:s,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{className:"sticky-top ",children:(0,g.jsx)(h.Z,{children:(0,g.jsx)(p.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,g.jsx)(p.Z.Header,{text:"dark",children:(0,g.jsx)(p.Z.Title,{children:(0,g.jsx)(u.Z,{children:(0,g.jsx)(h.Z,{className:"my-0 mx-0 text-light",children:x.XA.find((function(e){return e.key===t.props.match.params.category})).value})})})})})})}),(0,g.jsx)(f.Z,{document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:s,role:this.props.user.role,handleClick:this.handleClick})]}):(0,g.jsx)("div",{style:x.nT,children:(0,g.jsx)(l.Z,{animation:"border",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden"})})})}}]),a}(c.Component);e.default=C},65832:function(t,e,a){a.d(e,{Z:function(){return A}});var r=a(18489),s=a(83738),n=a(46123),i=a.n(n),o=a(47313),d=a(68524),c=a(28864),l=a(96205),u=a(46417),h=["bsPrefix","className","variant","as"],p=o.forwardRef((function(t,e){var a=t.bsPrefix,n=t.className,o=t.variant,c=t.as,l=void 0===c?"img":c,p=(0,s.Z)(t,h),m=(0,d.vE)(a,"card-img");return(0,u.jsx)(l,(0,r.Z)({ref:e,className:i()(o?"".concat(m,"-").concat(o):m,n)},p))}));p.displayName="CardImg";var m=p,f=a(15614),Z=["bsPrefix","className","as"],x=o.forwardRef((function(t,e){var a=t.bsPrefix,n=t.className,c=t.as,l=void 0===c?"div":c,h=(0,s.Z)(t,Z),p=(0,d.vE)(a,"card-header"),m=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:p}}),[p]);return(0,u.jsx)(f.Z.Provider,{value:m,children:(0,u.jsx)(l,(0,r.Z)((0,r.Z)({ref:e},h),{},{className:i()(n,p)}))})}));x.displayName="CardHeader";var v=x,y=["bsPrefix","className","bg","text","border","body","children","as"],g=(0,l.Z)("h5"),C=(0,l.Z)("h6"),k=(0,c.Z)("card-body"),j=(0,c.Z)("card-title",{Component:g}),S=(0,c.Z)("card-subtitle",{Component:C}),_=(0,c.Z)("card-link",{Component:"a"}),b=(0,c.Z)("card-text",{Component:"p"}),N=(0,c.Z)("card-footer"),E=(0,c.Z)("card-img-overlay"),L=o.forwardRef((function(t,e){var a=t.bsPrefix,n=t.className,o=t.bg,c=t.text,l=t.border,h=t.body,p=t.children,m=t.as,f=void 0===m?"div":m,Z=(0,s.Z)(t,y),x=(0,d.vE)(a,"card");return(0,u.jsx)(f,(0,r.Z)((0,r.Z)({ref:e},Z),{},{className:i()(n,x,o&&"bg-".concat(o),c&&"text-".concat(c),l&&"border-".concat(l)),children:h?(0,u.jsx)(k,{children:p}):p}))}));L.displayName="Card",L.defaultProps={body:!1};var A=Object.assign(L,{Img:m,Title:j,Subtitle:S,Body:k,Link:_,Text:b,Header:v,Footer:N,ImgOverlay:E})},15614:function(t,e,a){var r=a(47313).createContext(null);r.displayName="CardHeaderContext",e.Z=r}}]);