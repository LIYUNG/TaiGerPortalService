"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[7003],{92634:function(e,t,r){var a=r(18489),s=r(27853),n=r(84531),i=r(78932),o=r(66621),d=r(47313),l=r(72880),c=r(31974),u=r(46417),h=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={doc_title:e.props.document_title},e.handleChange=function(t){t.preventDefault();var r=(0,a.Z)({},e.state.doc_title);r=t.target.value,e.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{doc_title:r})}))},e.handleClickSave=function(t,r){t.preventDefault(),e.props.handleClickSave(t,e.state.doc_title,r)},e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(l.Z.Body,{children:(0,u.jsx)(c.Z,{category:this.props.category,doc_title:"not_used",editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})})})})}}]),r}(d.Component);t.Z=h},51025:function(e,t,r){var a=r(27853),s=r(84531),n=r(78932),i=r(66621),o=r(47313),d=r(72880),l=r(63849),c=r(31616),u=r(93298),h=r(1110),p=r(51767),m=(r(7077),r(46417)),f=function(e){(0,n.Z)(r,e);var t=(0,i.Z)(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){var e=this;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(d.Z,{className:"mb-2 mx-0",children:(0,m.jsxs)(d.Z.Body,{children:[(0,m.jsx)(h.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(c.Z,{md:2,children:(0,m.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,m.jsx)(c.Z,{md:10,children:(0,m.jsx)("p",{className:"my-0",children:(0,p.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(u.Z,{size:"sm",onClick:function(){return e.props.handleClick()},children:"Edit"})]})})})}}]),r}(o.Component);t.Z=f},15253:function(e,t,r){r.r(t);var a=r(18489),s=r(36222),n=r(27853),i=r(84531),o=r(78932),d=r(66621),l=r(47313),c=r(44030),u=r(63849),h=r(31616),p=r(72880),m=r(51025),f=r(92634),v=r(94611),Z=r(86450),x=r(29021),g=r(51426),y=r(51767),S=r(94395),k=r(46417),C=function(e){(0,o.Z)(r,e);var t=(0,d.Z)(r);function r(){var e,i;(0,n.Z)(this,r);for(var o=arguments.length,d=new Array(o),l=0;l<o;l++)d[l]=arguments[l];return(i=t.call.apply(t,[this].concat(d))).state=(e={isLoaded:!1,success:!1,error:null,editorState:null,unauthorizederror:null},(0,s.Z)(e,"unauthorizederror",null),(0,s.Z)(e,"isEdit",!1),e),i.handleClickCancel=function(e){i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isEdit:!i.state.isEdit})}))},i.handleClickSave=function(e,t,r){e.preventDefault();var s=JSON.stringify(r),n={category:i.props.match.params.category,title:t,prop:i.props.item,text:s};(0,g.Y0)(i.props.match.params.category,n).then((function(e){var t=e.data,a=t.success,s=t.data;a?i.setState({success:a,timeouterror:!1,pagenotfounderror:!1,document_title:s.title,editorState:r,isEdit:!i.state.isEdit,isLoaded:!0}):401===e.status||500===e.status?i.setState({isLoaded:!0,timeouterror:!0}):403===e.status?i.setState({isLoaded:!0,unauthorizederror:!0}):(e.status,i.setState({isLoaded:!0,pagenotfounderror:!0}))}),(function(e){i.setState({error:e})})),i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{in_edit_mode:!1})}))},i.handleClick=function(){i.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isEdit:!i.state.isEdit})}))},i}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){var e=this;(0,g.go)(this.props.match.params.category).then((function(t){var r=t.data,a=r.data,s=r.success;if(s){var n=null;n=a.text?JSON.parse(a.text):{time:new Date,blocks:[]},e.setState({isLoaded:!0,editorState:n,timeouterror:!1,pagenotfounderror:!1,success:s})}else 401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status?e.setState({isLoaded:!0,unauthorizederror:!0}):e.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var r=this;e.match.params.category!==this.props.match.params.category&&(0,g.go)(this.props.match.params.category).then((function(e){var t=e.data,a=t.data,s=t.success;if(s){var n=null;n=a.text?JSON.parse(a.text):{time:new Date,blocks:[]},r.setState({isLoaded:!0,editorState:n,timeouterror:!1,pagenotfounderror:!1,success:s})}else 401===e.status||500===e.status?r.setState({isLoaded:!0,timeouterror:!0}):403===e.status?r.setState({isLoaded:!0,unauthorizederror:!0}):r.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(e){r.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this;if("Admin"!==this.props.user.role&&"Editor"!==this.props.user.role&&"Agent"!==this.props.user.role&&"Student"!==this.props.user.role)return(0,k.jsx)(S.Z,{to:"/dashboard/default"});var t=this.state,r=t.unauthorizederror,a=t.timeouterror,s=t.pagenotfounderror,n=(t.error,t.editorState),i=t.isLoaded;if(a)return(0,k.jsx)("div",{children:(0,k.jsx)(v.Z,{})});if(r)return(0,k.jsx)("div",{children:(0,k.jsx)(Z.Z,{})});if(s)return(0,k.jsx)("div",{children:(0,k.jsx)(x.Z,{})});return i||n?this.state.isEdit?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Z,{className:"sticky-top ",children:(0,k.jsx)(h.Z,{children:(0,k.jsx)(p.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,k.jsx)(p.Z.Header,{text:"dark",children:(0,k.jsx)(p.Z.Title,{children:(0,k.jsx)(u.Z,{children:(0,k.jsx)(h.Z,{className:"my-0 mx-0 text-light",children:y.XA.find((function(t){return t.key===e.props.match.params.category})).value})})})})})})}),(0,k.jsx)(f.Z,{category:"category",document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:i,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Z,{className:"sticky-top ",children:(0,k.jsx)(h.Z,{children:(0,k.jsx)(p.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,k.jsx)(p.Z.Header,{text:"dark",children:(0,k.jsx)(p.Z.Title,{children:(0,k.jsx)(u.Z,{children:(0,k.jsx)(h.Z,{className:"my-0 mx-0 text-light",children:y.XA.find((function(t){return t.key===e.props.match.params.category})).value})})})})})})}),(0,k.jsx)(m.Z,{document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:i,role:this.props.user.role,handleClick:this.handleClick})]}):(0,k.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,k.jsx)(c.Z,{animation:"border",role:"status",children:(0,k.jsx)("span",{className:"visually-hidden"})})})}}]),r}(l.Component);t.default=C},72880:function(e,t,r){r.d(t,{Z:function(){return _}});var a=r(1368),s=r(38321),n=r(46123),i=r.n(n),o=r(47313),d=r(68524),l=r(28864),c=r(96205),u=r(85348),h=["bsPrefix","className","variant","as"],p=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,l=e.variant,c=e.as,u=void 0===c?"img":c,p=(0,s.Z)(e,h),m=(0,d.vE)(r,"card-img");return o.createElement(u,(0,a.Z)({ref:t,className:i()(l?m+"-"+l:m,n)},p))}));p.displayName="CardImg",p.defaultProps={variant:null};var m=p,f=["bsPrefix","className","bg","text","border","body","children","as"],v=(0,c.Z)("h5"),Z=(0,c.Z)("h6"),x=(0,l.Z)("card-body"),g=(0,l.Z)("card-title",{Component:v}),y=(0,l.Z)("card-subtitle",{Component:Z}),S=(0,l.Z)("card-link",{Component:"a"}),k=(0,l.Z)("card-text",{Component:"p"}),C=(0,l.Z)("card-header"),j=(0,l.Z)("card-footer"),b=(0,l.Z)("card-img-overlay"),N=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,l=e.bg,c=e.text,h=e.border,p=e.body,m=e.children,v=e.as,Z=void 0===v?"div":v,g=(0,s.Z)(e,f),y=(0,d.vE)(r,"card"),S=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:y+"-header"}}),[y]);return o.createElement(u.Z.Provider,{value:S},o.createElement(Z,(0,a.Z)({ref:t},g,{className:i()(n,y,l&&"bg-"+l,c&&"text-"+c,h&&"border-"+h)}),p?o.createElement(x,null,m):m))}));N.displayName="Card",N.defaultProps={body:!1},N.Img=m,N.Title=g,N.Subtitle=y,N.Body=x,N.Link=S,N.Text=k,N.Header=C,N.Footer=j,N.ImgOverlay=b;var _=N},85348:function(e,t,r){var a=r(47313).createContext(null);a.displayName="CardContext",t.Z=a},63849:function(e,t,r){var a=r(1368),s=r(38321),n=r(46123),i=r.n(n),o=r(47313),d=r(68524),l=["bsPrefix","className","noGutters","as"],c=["xl","lg","md","sm","xs"],u=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,u=e.noGutters,h=e.as,p=void 0===h?"div":h,m=(0,s.Z)(e,l),f=(0,d.vE)(r,"row"),v=f+"-cols",Z=[];return c.forEach((function(e){var t,r=m[e];delete m[e];var a="xs"!==e?"-"+e:"";null!=(t=null!=r&&"object"===typeof r?r.cols:r)&&Z.push(""+v+a+"-"+t)})),o.createElement(p,(0,a.Z)({ref:t},m,{className:i().apply(void 0,[n,f,u&&"no-gutters"].concat(Z))}))}));u.displayName="Row",u.defaultProps={noGutters:!1},t.Z=u},96205:function(e,t,r){var a=r(1368),s=r(47313),n=r(46123),i=r.n(n);t.Z=function(e){return s.forwardRef((function(t,r){return s.createElement("div",(0,a.Z)({},t,{ref:r,className:i()(t.className,e)}))}))}}}]);