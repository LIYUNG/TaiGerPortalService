"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[8910],{50099:function(e,t,n){var r=n(35531),a=n(27853),i=n(84531),s=n(78932),o=n(66621),l=n(47313),c=n(58050),d=n(72880),u=n(88815),h=n(29678),p=n.n(h),f=n(54991),m=n(12401),x=n(46417),Z=function(e){(0,s.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,i.Z)(n,[{key:"render",value:function(){var e,t,n,a,i,s=this,o=[];return this.state.isOption&&(n=(0,x.jsx)("div",{className:"card-header-right",children:(0,x.jsxs)(c.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,x.jsx)(c.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,x.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,x.jsxs)(c.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,x.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){s.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,x.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,x.jsxs)("a",{href:m.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,x.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){s.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,x.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,x.jsxs)("a",{href:m.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,x.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,x.jsx)("i",{className:"feather icon-refresh-cw"}),(0,x.jsx)("a",{href:m.Z.BLANK_LINK,children:" Reload "})]}),(0,x.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,x.jsx)("i",{className:"feather icon-trash"}),(0,x.jsx)("a",{href:m.Z.BLANK_LINK,children:" Remove "})]})]})]})})),a=(0,x.jsxs)(d.Z.Header,{children:[(0,x.jsx)(d.Z.Title,{as:"h5",children:this.props.title}),n]}),this.state.fullCard&&(o=[].concat((0,r.Z)(o),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(o=[].concat((0,r.Z)(o),["card-load"]),t=(0,x.jsx)("div",{className:"card-loader",children:(0,x.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(o=[].concat((0,r.Z)(o),["d-none"])),this.props.cardClass&&(o=[].concat((0,r.Z)(o),[this.props.cardClass])),i=(0,x.jsxs)(d.Z,{className:o.join(" "),style:e,children:[a,(0,x.jsx)(u.Z,{in:!this.state.collapseCard,children:(0,x.jsx)("div",{children:(0,x.jsx)(d.Z.Body,{children:this.props.children})})}),t]}),(0,x.jsx)(f.Z,{children:i})}}]),n}(l.Component);t.Z=p()(Z)},31974:function(e,t,n){var r=n(18489),a=n(23430),i=n(47313),s=(n(94611),n(86450),n(52500),n(79489),n(1110)),o=(n(85463),n(43636),n(63849)),l=n(31616),c=(n(51426),n(46417));t.Z=function(e){var t=(0,i.useState)({editorState:e.editorState}),n=(0,a.Z)(t,2),d=n[0],u=n[1];return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.Z,{style:{textDecoration:"none"},children:(0,c.jsx)(l.Z,{className:"my-0 mx-0",children:(0,c.jsx)(s.Z,{doc_title:e.doc_title,readOnly:!1,handleEditorChange:function(e){u((function(t){return(0,r.Z)((0,r.Z)({},t),{},{editorState:e})}))},handleClickSave:e.handleClickSave,handleClickCancel:e.handleClickCancel,editorState:d.editorState,setStatedata:u})})})})}},88910:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(18489),a=n(36222),i=n(27853),s=n(84531),o=n(78932),l=n(66621),c=n(47313),d=n(44030),u=(n(52500),n(51426)),h=n(72880),p=n(63849),f=n(31616),m=n(93298),x=(n(79489),n(1110)),Z=n(51767),j=n(46417),v=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this;return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(h.Z,{className:"mb-2 mx-0",children:[(0,j.jsx)(h.Z.Header,{children:(0,j.jsx)(h.Z.Title,{children:this.props.document_title})}),(0,j.jsxs)(h.Z.Body,{children:[(0,j.jsx)(x.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(p.Z,{children:[(0,j.jsx)(f.Z,{md:2,children:(0,j.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,j.jsx)(f.Z,{md:10,children:(0,j.jsx)("p",{className:"my-0",children:(0,Z.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,j.jsx)(m.Z,{size:"sm",onClick:function(){return e.props.handleClick()},children:"Edit"})]})]})})}}]),n}(c.Component),C=v,g=n(83109),S=n(31974),k=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={doc_title:e.props.document_title},e.handleChange=function(t){t.preventDefault();var n=(0,r.Z)({},e.state.doc_title);n=t.target.value,e.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{doc_title:n})}))},e.handleClickSave=function(t,n){t.preventDefault(),e.props.handleClickSave(t,e.state.doc_title,n)},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){var e=this;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(h.Z,{children:(0,j.jsxs)(h.Z.Body,{children:[(0,j.jsx)(p.Z,{children:(0,j.jsx)(f.Z,{children:(0,j.jsx)("h4",{children:(0,j.jsx)(g.Z.Group,{controlId:"document_title",children:(0,j.jsx)(g.Z.Control,{type:"text",placeholder:"Title",onChange:function(t){return e.handleChange(t)},defaultValue:this.props.document_title})})})})})," ",(0,j.jsx)(S.Z,{doc_title:this.state.doc_title,editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})]})})})}}]),n}(c.Component),y=k,N=n(94611),_=n(86450),w=n(29021),L=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,s;(0,i.Z)(this,n);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(s=t.call.apply(t,[this].concat(l))).state=(e={isLoaded:!1,success:!1,error:null,editorState:null,unauthorizederror:null},(0,a.Z)(e,"unauthorizederror",null),(0,a.Z)(e,"isEdit",!1),e),s.handleClickCancel=function(e){s.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isEdit:!s.state.isEdit})}))},s.handleClickSave=function(e,t,n){e.preventDefault();var a=JSON.stringify(n),i={title:t,prop:s.props.item,text:a};(0,u.D6)(s.props.match.params.documentation_id,i).then((function(e){var t=e.data,r=t.success,a=t.data;r?s.setState({success:r,document_title:a.title,editorState:n,isEdit:!s.state.isEdit,isLoaded:!0}):401===e.status||500===e.status?s.setState({isLoaded:!0,timeouterror:!0}):403===e.status?s.setState({isLoaded:!0,unauthorizederror:!0}):(e.status,s.setState({isLoaded:!0,pagenotfounderror:!0}))}),(function(e){s.setState({error:e})})),s.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{in_edit_mode:!1})}))},s.handleClick=function(){s.setState((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isEdit:!s.state.isEdit})}))},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this;(0,u.CF)(this.props.match.params.documentation_id).then((function(t){var n=t.data,r=n.data,a=n.success;if(r||e.setState({isLoaded:!0,pagenotfounderror:!0}),a){var i=null;i=r.text?JSON.parse(r.text):{},i=JSON.parse(r.text),e.setState({isLoaded:!0,document_title:r.title,editorState:i,success:a})}else 401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status?e.setState({isLoaded:!0,unauthorizederror:!0}):e.setState({isLoaded:!0,pagenotfounderror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.unauthorizederror,n=e.timeouterror,r=e.pagenotfounderror,a=(e.error,e.editorState),i=e.isLoaded;if(n)return(0,j.jsx)("div",{children:(0,j.jsx)(N.Z,{})});if(t)return(0,j.jsx)("div",{children:(0,j.jsx)(_.Z,{})});if(r)return(0,j.jsx)("div",{children:(0,j.jsx)(w.Z,{})});return i||a?this.state.isEdit?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(y,{document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:i,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave})}):(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(C,{document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:i,role:this.props.user.role,handleClick:this.handleClick})}):(0,j.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,j.jsx)(d.Z,{animation:"border",role:"status",children:(0,j.jsx)("span",{className:"visually-hidden"})})})}}]),n}(c.Component),b=L},29021:function(e,t,n){var r=n(27853),a=n(84531),i=n(78932),s=n(66621),o=n(47313),l=n(63849),c=n(31616),d=n(72880),u=n(54991),h=n(46417),p=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(d.Z.Body,{children:(0,h.jsx)("h4",{children:"Page Not Found!"})})})})})})}}]),n}(o.Component);t.Z=p},94611:function(e,t,n){var r=n(27853),a=n(84531),i=n(78932),s=n(66621),o=n(47313),l=n(63849),c=n(31616),d=n(50099),u=n(54991),h=n(46417),p=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(d.Z,{children:"Time out error. Please login again!"})})})})}}]),n}(o.Component);t.Z=p},86450:function(e,t,n){var r=n(27853),a=n(84531),i=n(78932),s=n(66621),o=n(47313),l=n(63849),c=n(31616),d=n(50099),u=n(54991),h=n(46417),p=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(d.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),n}(o.Component);t.Z=p},51767:function(e,t,n){n.d(t,{Ny:function(){return p},Vb:function(){return f},_3:function(){return x},vE:function(){return h},xL:function(){return Z}});n(47313);var r=n(57864),a=n(3394),i=n(58821),s=n(46417),o=(0,s.jsx)(a.cfq,{size:18,color:"limegreen",title:"Valid Document"}),l=(0,s.jsx)(r.LHV,{size:18,color:"red",title:"Invalid Document"}),c=(0,s.jsx)(r.QRz,{size:18,color:"orange",title:"Uploaded successfully"}),d=(0,s.jsx)(r.znh,{size:18,color:"lightgray",title:"No Document uploaded"}),u=(0,s.jsx)(i.pZ2,{size:18,color:"lightgray",title:"Not needed"}),h=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-muted",children:" "}),(0,s.jsxs)("p",{className:"text-info",children:[o,": The document is valid and can be used in the application."]}),(0,s.jsxs)("p",{className:"text-info",children:[l,": The document is invalid and cannot be used in the application. Please properly scan a new one."]}),(0,s.jsxs)("p",{className:"text-info",children:[c,": The document is uploaded. Your agent will check it as soon as possible."]}),(0,s.jsxs)("p",{className:"text-info",children:[d,": Please upload the copy of the document."]}),(0,s.jsxs)("p",{className:"text-info",children:[u,": This document is not needed."]})," "]}),p=function(e){return new Date(e).toLocaleDateString()+", "+new Date(e).toLocaleTimeString()},f=function(e,t){var n=new Date(e),r=new Date(t).getTime()-n.getTime();return Math.round(r/864e5).toString()},m=function(e,t){var n=t-e;return Array.from({length:n},(function(t,n){return n+e}))},x=function(){return(0,s.jsx)(s.Fragment,{children:m(1950,2050).map((function(e,t){return(0,s.jsx)("option",{value:e,children:e},t)}))})},Z=function(){return(0,s.jsx)(s.Fragment,{children:m(2022,2050).map((function(e,t){return(0,s.jsx)("option",{value:e,children:e},t)}))})}},1110:function(e,t,n){var r=n(33032),a=n(23430),i=n(78994),s=n.n(i),o=n(47313),l=n(63849),c=n(31616),d=n(93298),u=(n(89351),n(88195)),h=n.n(u),p=n(82737),f=n.n(p),m=n(67989),x=n.n(m),Z=n(1693),j=n.n(Z),v=n(87606),C=n.n(v),g=n(60823),S=n.n(g),k=n(44789),y=n.n(k),N=n(37417),_=n.n(N),w=(n(99086),n(68234)),L=n.n(w),b=n(87366),R=n.n(b),z=n(70021),D=n.n(z),F=n(44236),T=n.n(F),E=n(6855),I=n.n(E),A=n(51426),O=n(46417);t.Z=function(e){var t,n=(0,o.useRef)(),i=(0,o.useState)(),u=(0,a.Z)(i,2);u[0],u[1];(0,o.useEffect)((function(){return n.current||p(),function(){n.current.destroy(),n.current=null}}),[]);var p=function(){t=new(h())({holder:"editorjs",logLevel:"ERROR",data:e.editorState,onReady:function(){n.current=t},onChange:function(){var t=(0,r.Z)(s().mark((function t(n,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.saver.save().then((function(t){e.handleEditorChange(t)}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),readOnly:e.readOnly,autofocus:!0,minHeight:300,tools:{header:{class:f(),config:{placeholder:"Enter a header",levels:[2,3,4,5,6],defaultLevel:3},inlineToolbar:!0},list:{class:x(),inlineToolbar:!0},Marker:{class:y()},attaches:{class:I(),config:{onRemove:function(e){return console.log(e)},uploader:{uploadByFile:function(e){return(0,r.Z)(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),t.next=4,(0,A.Ix)(n);case 4:return r=t.sent,t.abrupt("return",{success:1,file:{url:r.data.data}});case 6:case"end":return t.stop()}}),t)})))()}}}},underline:T(),code:R(),quote:D(),table:{class:S(),inlineToolbar:!0,config:{rows:2,cols:3}},image:{class:C(),config:{onRemove:function(e){return console.log(e)},uploader:{uploadByFile:function(e){return(0,r.Z)(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),t.next=4,(0,A.Ix)(n);case 4:return r=t.sent,t.abrupt("return",{success:1,file:{url:r.data.data}});case 6:case"end":return t.stop()}}),t)})))()},uploadByUrl:function(e){return(0,r.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{success:1,file:{url:e}});case 1:case"end":return t.stop()}}),t)})))()}}}},elimiter:L(),embed:{class:j(),inlineToolbar:!1,config:{services:{youtube:!0,coub:!0}}},inlineCode:{class:_()}}})};return(0,O.jsxs)(o.Fragment,{children:[(0,O.jsx)("div",{id:"editorjs"}),e.readOnly?(0,O.jsx)(O.Fragment,{}):(0,O.jsx)(l.Z,{children:(0,O.jsxs)(c.Z,{className:"my-0 mx-0",children:[(0,O.jsx)(d.Z,{disabled:0===e.doc_title.replace(/ /g,"").length,onClick:function(t){return e.handleClickSave(t,e.editorState)},children:"Save"}),(0,O.jsx)(d.Z,{onClick:function(t){return e.handleClickCancel(t)},children:"Cancel"})]})})]})}},85463:function(){},43636:function(){}}]);