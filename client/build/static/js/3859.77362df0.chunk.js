"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[3859],{92634:function(e,t,r){var n=r(18489),a=r(27853),s=r(84531),i=r(78932),o=r(38128),l=r(47313),c=r(65832),d=r(31974),u=r(46417),f=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={doc_title:e.props.document_title},e.handleChange=function(t){t.preventDefault();var r=(0,n.Z)({},e.state.doc_title);r=t.target.value,e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{doc_title:r})}))},e.handleClickSave=function(t,r){t.preventDefault(),e.props.handleClickSave(t,e.state.doc_title,r)},e}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){this.setState({doc_title:this.props.document_title})}},{key:"render",value:function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(c.Z,{children:(0,u.jsx)(c.Z.Body,{children:(0,u.jsx)(d.Z,{category:this.props.category,doc_title:"not_used",editorState:this.props.editorState,handleClickSave:this.handleClickSave,handleClickCancel:this.props.handleClickCancel,role:this.props.role})})})})}}]),r}(l.Component);t.Z=f},51025:function(e,t,r){var n=r(27853),a=r(84531),s=r(78932),i=r(38128),o=r(47313),l=r(65832),c=r(63849),d=r(31616),u=r(93298),f=r(1110),h=r(51767),m=(r(7077),r(46417)),p=function(e){(0,s.Z)(r,e);var t=(0,i.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.Z,{className:"mb-2 mx-0",children:(0,m.jsxs)(l.Z.Body,{children:[(0,m.jsx)(f.Z,{readOnly:!0,handleClickSave:this.props.handleClickSave,handleClickCancel:this.props.handleClickCancel,editorState:this.props.editorState}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(c.Z,{children:[(0,m.jsx)(d.Z,{md:2,children:(0,m.jsx)("p",{className:"my-0",children:"Updated at"})}),(0,m.jsx)(d.Z,{md:10,children:(0,m.jsx)("p",{className:"my-0",children:(0,h.Ny)(this.props.editorState.time)})})]})}),("Admin"===this.props.role||"Agent"===this.props.role)&&(0,m.jsx)(u.Z,{size:"sm",onClick:function(){return e.props.handleClick()},children:"Edit"})]})})})}}]),r}(o.Component);t.Z=p},31974:function(e,t,r){r(47313);var n=r(1110),a=(r(85463),r(43636),r(63849)),s=r(31616),i=r(46417);t.Z=function(e){return(0,i.jsx)(a.Z,{style:{textDecoration:"none"},children:(0,i.jsx)(s.Z,{className:"my-0 mx-0",children:(0,i.jsx)(n.Z,{category:e.category,doc_title:e.doc_title,readOnly:!1,handleClickSave:e.handleClickSave,handleClickCancel:e.handleClickCancel,editorState:e.editorState})})})}},13859:function(e,t,r){r.r(t);var n=r(18489),a=r(27853),s=r(84531),i=r(78932),o=r(38128),l=r(47313),c=r(44030),d=r(94395),u=r(51025),f=r(92634),h=r(51767),m=r(82423),p=r(20688),v=r(51426),Z=r(46417),x=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={isLoaded:!1,success:!1,error:null,editorState:null,isEdit:!1,res_status:0,res_modal_message:"",res_modal_status:0},e.handleClickCancel=function(t){e.setState((function(t){return(0,n.Z)((0,n.Z)({},t),{},{isEdit:!e.state.isEdit})}))},e.handleClickSave=function(t,r,a){t.preventDefault();var s=JSON.stringify(a),i={category:"internal",title:r,prop:e.props.item,text:s};(0,v.tU)(i).then((function(t){var r=t.data,s=r.success,i=r.data,o=t.status;if(s)e.setState({success:s,document_title:i.title,editorState:a,isEdit:!e.state.isEdit,isLoaded:!0,res_modal_status:o});else{var l=t.data.message;e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!0,res_modal_message:l,res_modal_status:o})}))}}),(function(t){e.setState({error:t})})),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{in_edit_mode:!1})}))},e.handleClick=function(){e.setState((function(t){return(0,n.Z)((0,n.Z)({},t),{},{isEdit:!e.state.isEdit})}))},e.ConfirmError=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{res_modal_status:0,res_modal_message:""})}))},e}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){var e=this;(0,v.Or)().then((function(t){var r=t.data,n=r.data,a=r.success,s=t.status;if(a){var i=null;i=n.text?JSON.parse(n.text):{time:new Date,blocks:[]},e.setState({isLoaded:!0,editorState:i,success:a,res_status:s})}else e.setState({isLoaded:!0,res_status:s})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){if("Admin"!==this.props.user.role&&"Editor"!==this.props.user.role&&"Agent"!==this.props.user.role)return(0,Z.jsx)(d.Z,{to:"/dashboard/default"});var e=this.state,t=e.res_status,r=e.editorState,n=e.isLoaded,a=e.res_modal_status,s=e.res_modal_message;return n||r?t>=400?(0,Z.jsx)(m.Z,{res_status:t}):this.state.isEdit?(0,Z.jsxs)(Z.Fragment,{children:[a>=400&&(0,Z.jsx)(p.Z,{ConfirmError:this.ConfirmError,res_modal_status:a,res_modal_message:s}),(0,Z.jsx)(f.Z,{category:"category",document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:n,handleClick:this.handleClick,handleClickCancel:this.handleClickCancel,handleClickSave:this.handleClickSave})]}):(0,Z.jsxs)(Z.Fragment,{children:[a>=400&&(0,Z.jsx)(p.Z,{ConfirmError:this.ConfirmError,res_modal_status:a,res_modal_message:s}),(0,Z.jsx)(u.Z,{document:document,document_title:this.state.document_title,editorState:this.state.editorState,isLoaded:n,role:this.props.user.role,handleClick:this.handleClick})]}):(0,Z.jsx)("div",{style:h.nT,children:(0,Z.jsx)(c.Z,{animation:"border",role:"status",children:(0,Z.jsx)("span",{className:"visually-hidden"})})})}}]),r}(l.Component);t.default=x},1110:function(e,t,r){var n=r(33032),a=r(23430),s=r(78994),i=r.n(s),o=r(47313),l=r(63849),c=r(31616),d=r(93298),u=(r(89351),r(88195)),f=r.n(u),h=r(82737),m=r.n(h),p=r(67989),v=r.n(p),Z=r(1693),x=r.n(Z),C=r(87606),_=r.n(C),g=r(60823),y=r.n(g),k=(r(44789),r(37417)),S=r.n(k),F=r(68234),j=r.n(F),b=r(87366),E=r.n(b),N=r(70021),w=r.n(N),L=r(44236),O=r.n(L),A=r(65911),D=r.n(A),P=(r(99086),r(19893)),R=r.n(P),B=r(28668),T=r.n(B),H=r(51426),I=r(46417);t.Z=function(e){var t,r=(0,o.useRef)(),s=(0,o.useState)(e.editorState),u=(0,a.Z)(s,2),h=u[0],p=u[1],Z=(0,o.useState)(!0),C=(0,a.Z)(Z,2),g=C[0],k=C[1];(0,o.useEffect)((function(){p(e.editorState)}),[e.editorState]),(0,o.useEffect)((function(){return r.current||F(),function(){r.current.destroy(),r.current=null}}),[e.editorState]);var F=function(){t=new(f())({holder:"editorjs",logLevel:"ERROR",data:e.editorState,onReady:function(){r.current=t},onChange:function(){var e=(0,n.Z)(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!1),t.saver.save().then((function(e){p(e),k(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),readOnly:e.readOnly,autofocus:!0,minHeight:30,tools:{header:{class:m(),config:{placeholder:"Enter a header",levels:[2,3,4,5,6],defaultLevel:3},inlineToolbar:!0},list:{class:v(),inlineToolbar:!0},underline:O(),code:E(),Color:{class:R(),config:{colorCollections:["#000000","#FF0000","#00FF00","#0000FF","#999999","#00FFFF","#FF00FF","#800080","#FFF"],type:"text"}},Marker:{class:R(),config:{colorCollections:["#000000","#FF0000","#00FF00","#0000FF","#999999","#00FFFF","#FF00FF","#800080","#FFF"],defaultColor:"#FFF",type:"marker"}},textAlign:T(),attaches:{class:D(),config:{uploader:{uploadByFile:function(e){return(0,n.Z)(i().mark((function t(){var r,n,a,s,o,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("file",e),t.next=4,(0,H.w_)(r);case 4:if(n=t.sent,a=n.data,s=a.url,o=a.title,l=a.extension,!a.success){t.next=10;break}return t.abrupt("return",{success:1,file:{url:s,title:o,extension:l}});case 10:alert(n.data.message);case 11:case"end":return t.stop()}}),t)})))()}}}},quote:w(),table:{class:y(),inlineToolbar:!0,config:{rows:2,cols:3}},image:{class:_(),config:{uploader:{uploadByFile:function(e){return(0,n.Z)(i().mark((function t(){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("file",e),t.next=4,(0,H.Ix)(r);case 4:return n=t.sent,t.abrupt("return",{success:1,file:{url:n.data.data}});case 6:case"end":return t.stop()}}),t)})))()},uploadByUrl:function(e){return(0,n.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{success:1,file:{url:e}});case 1:case"end":return t.stop()}}),t)})))()}}}},elimiter:j(),embed:{class:x(),inlineToolbar:!1,config:{services:{youtube:!0,coub:!0}}},inlineCode:{class:S()}}})};return(0,I.jsxs)(o.Fragment,{children:[(0,I.jsx)("div",{id:"editorjs"}),e.readOnly?(0,I.jsx)(I.Fragment,{}):(0,I.jsx)(l.Z,{children:(0,I.jsxs)(c.Z,{className:"my-0 mx-0",children:[(0,I.jsx)(d.Z,{disabled:!g||0===e.doc_title.replace(/ /g,"").length||""===e.category||!h.blocks||0===h.blocks.length,onClick:function(t){return e.handleClickSave(t,h)},children:"Save"}),(0,I.jsx)(d.Z,{onClick:function(t){return e.handleClickCancel(t)},children:"Cancel"})]})})]})}},65832:function(e,t,r){r.d(t,{Z:function(){return w}});var n=r(18489),a=r(83738),s=r(46123),i=r.n(s),o=r(47313),l=r(68524),c=r(28864),d=r(96205),u=r(46417),f=["bsPrefix","className","variant","as"],h=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,o=e.variant,c=e.as,d=void 0===c?"img":c,h=(0,a.Z)(e,f),m=(0,l.vE)(r,"card-img");return(0,u.jsx)(d,(0,n.Z)({ref:t,className:i()(o?"".concat(m,"-").concat(o):m,s)},h))}));h.displayName="CardImg";var m=h,p=r(15614),v=["bsPrefix","className","as"],Z=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,c=e.as,d=void 0===c?"div":c,f=(0,a.Z)(e,v),h=(0,l.vE)(r,"card-header"),m=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:h}}),[h]);return(0,u.jsx)(p.Z.Provider,{value:m,children:(0,u.jsx)(d,(0,n.Z)((0,n.Z)({ref:t},f),{},{className:i()(s,h)}))})}));Z.displayName="CardHeader";var x=Z,C=["bsPrefix","className","bg","text","border","body","children","as"],_=(0,d.Z)("h5"),g=(0,d.Z)("h6"),y=(0,c.Z)("card-body"),k=(0,c.Z)("card-title",{Component:_}),S=(0,c.Z)("card-subtitle",{Component:g}),F=(0,c.Z)("card-link",{Component:"a"}),j=(0,c.Z)("card-text",{Component:"p"}),b=(0,c.Z)("card-footer"),E=(0,c.Z)("card-img-overlay"),N=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,o=e.bg,c=e.text,d=e.border,f=e.body,h=e.children,m=e.as,p=void 0===m?"div":m,v=(0,a.Z)(e,C),Z=(0,l.vE)(r,"card");return(0,u.jsx)(p,(0,n.Z)((0,n.Z)({ref:t},v),{},{className:i()(s,Z,o&&"bg-".concat(o),c&&"text-".concat(c),d&&"border-".concat(d)),children:f?(0,u.jsx)(y,{children:h}):h}))}));N.displayName="Card",N.defaultProps={body:!1};var w=Object.assign(N,{Img:m,Title:k,Subtitle:S,Body:y,Link:F,Text:j,Header:x,Footer:b,ImgOverlay:E})},15614:function(e,t,r){var n=r(47313).createContext(null);n.displayName="CardHeaderContext",t.Z=n},43636:function(){}}]);