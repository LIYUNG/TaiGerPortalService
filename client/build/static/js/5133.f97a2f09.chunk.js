"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[5133],{95133:function(e,t,s){s.r(t);var n=s(18489),i=s(27853),r=s(84531),a=s(78932),d=s(66621),o=s(47313),l=s(44030),c=s(63849),u=s(31616),h=s(72880),p=s(465),m=s(32441),f=s(95364),x=s(93298),g=s(51426),j=s(37062),Z=s(75828),v=s(60257),S=s(46090),F=s(3735),b=s(59931),_=s(28979),y=s(4454),L=s(94611),D=s(86450),w=(s(97898),s(30843)),N=s(72018),C=s(35626),k=(s(27370),s(94395)),A=s(51767),I=s(46417),U=function(e){(0,a.Z)(s,e);var t=(0,d.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return(e=t.call.apply(t,[this].concat(a))).state={isLoaded:!1,student:null,success:!1,timeouterror:null,unauthorizederror:null,error:null},e.onUpdateProfileFilefromstudent=function(t,s,i,r){(0,g.dn)(t,s,i,r).then((function(t){var s=t.data,i=s.data,r=s.success;r?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student:i,success:r,isLoaded:!0})})):401==t.status?e.setState({isLoaded:!0,timeouterror:!0}):403==t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:t})}))},e.handleGeneralDocSubmit=function(t,s,n){t.preventDefault(),e.onSubmitGeneralFile(t,t.target.files[0],s,n)},e.onSubmitGeneralFile=function(t,s,i,r){t.preventDefault();var a=new FormData;a.append("file",s),(0,g.HQ)(i,r,a).then((function(t){var s=t.data,i=s.data,r=s.success;r?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student:i,success:r,category:"",isLoaded:!0,file:""})})):401==t.status?e.setState({isLoaded:!0,timeouterror:!0}):403==t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:t})}))},e.onDeleteFilefromstudent=function(t,s){var i=(0,n.Z)({},e.state.student),r=i.profile.findIndex((function(e){return e.name===t}));(0,g._I)(t,s).then((function(t){var s=t.data,a=s.data,d=s.success;i.profile[r]=a,d?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:"",category:"",isLoaded:!0,student:i,success:d,deleteFileWarningModel:!1})})):401==t.status?e.setState({isLoaded:!0,timeouterror:!0}):403==t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:t})}))},e}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){var e=this;(0,g.u6)(this.props.match.params.studentId).then((function(t){var s=t.data,n=s.data,i=s.success;i?e.setState({isLoaded:!0,student:n,success:i}):401==t.status?e.setState({isLoaded:!0,timeouterror:!0}):403==t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"onDownloadFilefromstudent",value:function(e,t,s){e.preventDefault(),(0,g.w3)(t,s).then((function(e){var t=e.headers["content-disposition"].split('"')[1],s=e.data;if(0!==s.size){var n=t.split(".");if("pdf"===(n=n.pop())){var i=window.URL.createObjectURL(new Blob([s],{type:"application/pdf"}));window.open(i)}else{var r=window.URL.createObjectURL(new Blob([s])),a=document.createElement("a");a.href=r,a.setAttribute("download",t),document.body.appendChild(a),a.click(),a.parentNode.removeChild(a)}}}),(function(e){alert("The file is not available.")}))}},{key:"render",value:function(){var e=this;if("Admin"!==this.props.user.role&&"Agent"!==this.props.user.role&&"Editor"!==this.props.user.role)return(0,I.jsx)(k.Z,{to:"/dashboard/default"});var t=this.state,s=t.unauthorizederror,n=t.timeouterror,i=t.isLoaded;if(n)return(0,I.jsx)("div",{children:(0,I.jsx)(L.Z,{})});if(s)return(0,I.jsx)("div",{children:(0,I.jsx)(D.Z,{})});if(!i&&!this.state.student)return(0,I.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,I.jsx)(l.Z,{animation:"border",role:"status",children:(0,I.jsx)("span",{className:"visually-hidden"})})});for(var r,a=Object.values(window.profile_list),d=Object.keys(window.profile_list),o={},g={},U={},P={},W=0;W<d.length;W++)o[d[W]]="missing",g[d[W]]="",U[d[W]]="",P[d[W]]="";if(this.state.student.profile)for(var z=0;z<this.state.student.profile.length;z++)"uploaded"===this.state.student.profile[z].status?o[this.state.student.profile[z].name]="uploaded":"accepted"===this.state.student.profile[z].status?o[this.state.student.profile[z].name]="accepted":"rejected"===this.state.student.profile[z].status?o[this.state.student.profile[z].name]="rejected":"notneeded"===this.state.student.profile[z].status?o[this.state.student.profile[z].name]="notneeded":"missing"===this.state.student.profile[z].status&&(o[this.state.student.profile[z].name]="missing"),g[this.state.student.profile[z].name]=this.state.student.profile[z].feedback?this.state.student.profile[z].feedback:"",U[this.state.student.profile[z].name]=new Date(this.state.student.profile[z].updatedAt).toLocaleDateString(),P[this.state.student.profile[z].name]=new Date(this.state.student.profile[z].updatedAt).toLocaleTimeString();return r=d.map((function(t,s){return"uploaded"===o[t]?(0,I.jsx)(Z.Z,{role:e.props.user.role,isLoaded:e.state.isLoaded,docName:a[s],date:U[t],time:P[t],k:t,student_id:e.state.student._id,onDownloadFilefromstudent:e.onDownloadFilefromstudent,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,SubmitGeneralFile:e.props.SubmitGeneralFile},s+1):"accepted"===o[t]?(0,I.jsx)(v.Z,{role:e.props.user.role,isLoaded:e.state.isLoaded,docName:a[s],date:U[t],time:P[t],k:t,student_id:e.state.student._id,onDownloadFilefromstudent:e.onDownloadFilefromstudent,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,SubmitGeneralFile:e.props.SubmitGeneralFile,deleteFileWarningModel:e.props.deleteFileWarningModel},s+1):"rejected"===o[t]?(0,I.jsx)(S.Z,{role:e.props.user.role,isLoaded:e.state.isLoaded,docName:a[s],date:U[t],time:P[t],k:t,message:g[t],student_id:e.state.student._id,onDownloadFilefromstudent:e.onDownloadFilefromstudent,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,SubmitGeneralFile:e.props.SubmitGeneralFile,deleteFileWarningModel:e.props.deleteFileWarningModel},s+1):"notneeded"===o[t]?(0,I.jsx)(I.Fragment,{children:("Admin"===e.props.user.role||"Agent"===e.props.user.role||"Edior"===e.props.user.role)&&(0,I.jsx)(F.Z,{role:e.props.user.role,isLoaded:e.state.isLoaded,docName:a[s],date:U[t],time:P[t],k:t,student_id:e.state.student._id,onDownloadFilefromstudent:e.onDownloadFilefromstudent,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,SubmitGeneralFile:e.props.SubmitGeneralFile,deleteFileWarningModel:e.props.deleteFileWarningModel},s+1)}):(0,I.jsx)(b.Z,{role:e.props.user.role,isLoaded:e.state.isLoaded,docName:a[s],date:U[t],time:P[t],k:t,message:g[t],student_id:e.state.student._id,onDownloadFilefromstudent:e.onDownloadFilefromstudent,onDeleteFilefromstudent:e.onDeleteFilefromstudent,onUpdateProfileFilefromstudent:e.onUpdateProfileFilefromstudent,SubmitGeneralFile:e.SubmitGeneralFile,handleGeneralDocSubmit:e.handleGeneralDocSubmit},s+1)})),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.Z,{children:(0,I.jsx)(u.Z,{children:(0,I.jsx)(h.Z,{className:"my-2 mx-0",bg:"dark",text:"white",children:(0,I.jsx)(h.Z.Header,{children:(0,I.jsxs)(h.Z.Title,{className:"text-light",children:[this.state.student.firstname," ,",this.state.student.lastname]})})})})}),(0,I.jsx)(c.Z,{children:(0,I.jsx)(u.Z,{children:(0,I.jsx)(h.Z,{className:"my-1 mx-0",bg:"dark",text:"white",children:(0,I.jsx)(h.Z.Body,{children:(0,I.jsxs)(p.Z,{responsive:!0,className:"my-0 mx-0",variant:"dark",text:"light",children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{}),"Student"===this.props.user.role||"Guest"===this.props.user.role?(0,I.jsx)(I.Fragment,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("th",{children:"First-, Last Name"}),(0,I.jsx)("th",{children:"#"})]}),window.programstatuslist.map((function(e,t){return(0,I.jsx)("th",{children:e.name},t)}))]})}),(0,I.jsx)("tbody",{children:(0,I.jsx)(N.Z,{role:this.props.user.role,student:this.state.student,isLoaded:this.state.isLoaded})})]})})})})}),(0,I.jsxs)(m.Z,{defaultActiveKey:this.props.match.params.tab,id:"uncontrolled-tab-example",children:[(0,I.jsxs)(f.Z,{eventKey:"profile",title:"Profile Overview",children:[(0,I.jsxs)(p.Z,{responsive:!0,className:"my-2 mx-0",variant:"dark",text:"light",children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{children:"First-, Last Name"}),(0,I.jsx)("th",{children:"Agents"}),(0,I.jsx)("th",{children:"Editors"})]})}),(0,I.jsx)("tbody",{children:(0,I.jsx)(C.Z,{student:this.state.student})})]}),(0,I.jsx)(c.Z,{children:(0,I.jsxs)(p.Z,{responsive:!0,className:"my-0 mx-0",variant:"dark",text:"light",children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{children:"Status"}),(0,I.jsx)("th",{children:"File Name:"}),(0,I.jsx)("th",{}),(0,I.jsx)("th",{}),(0,I.jsx)("th",{children:"Feedback"}),(0,I.jsx)("th",{}),(0,I.jsx)("th",{children:"Delete"})]})}),(0,I.jsx)("tbody",{children:r})]})}),(0,I.jsx)(c.Z,{children:A.vE})]}),(0,I.jsx)(f.Z,{eventKey:"CV_ML_RL",title:"CV ML RL",children:(0,I.jsx)(h.Z,{className:"my-0 mx-0",bg:"dark",text:"white",children:(0,I.jsx)(_.Z,{student:this.state.student,idx:0,accordionKeys:[0],singleExpandtHandler:this.singleExpandtHandler,role:this.props.user.role})})}),(0,I.jsx)(f.Z,{eventKey:"program_portal",title:"Portal",children:(0,I.jsx)(c.Z,{children:"Coming Soon!"})}),(0,I.jsx)(f.Z,{eventKey:"uni-assist",title:"Uni-Assist",children:(0,I.jsx)(c.Z,{children:(0,I.jsx)(y.Z,{student:this.state.student,role:this.props.user.role})})}),(0,I.jsx)(f.Z,{eventKey:"background",title:"Background",children:(0,I.jsx)(w.Z,{role:this.props.user.role,academic_background:this.state.student.academic_background,application_preference:this.state.student.application_preference,isLoaded:this.state.isLoaded,student_id:this.state.student._id})}),(0,I.jsx)(f.Z,{eventKey:"Courses_Table",title:"Courses Table",children:(0,I.jsx)(h.Z,{className:"my-0 mx-0",children:(0,I.jsx)(h.Z.Body,{children:(0,I.jsx)(c.Z,{children:(0,I.jsx)(j.Z,{to:"/my-courses/".concat(this.state.student._id.toString()),children:(0,I.jsx)(x.Z,{children:"Go to Courses Table "})})})})})})]})]})}}]),s}(o.Component);t.default=U},97898:function(e,t,s){var n=s(18489),i=s(27853),r=s(84531),a=s(78932),d=s(66621),o=s(47313),l=s(44030),c=s(72880),u=s(63849),h=s(31616),p=s(83109),m=s(93298),f=s(60860),x=s(51426),g=s(46417),j=function(e){(0,a.Z)(s,e);var t=(0,d.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return(e=t.call.apply(t,[this].concat(a))).state={isGenerated:!1,isLoaded:!1,error:null,file:"",generatedfileExisted:!1,generatedfilename:"",category:"",course_feedback:"",student:e.props.student},e.handleSelect=function(t){t.preventDefault(),e.setState({category:t.target.value})},e.handleContentChange=function(t){e.setState({course_feedback:t.target.value})},e.submitFile=function(t,s){if(e.state.category){e.setState((function(e){return{isLoaded:!1}})),t.preventDefault();var i=new FormData;i.append("file",t.target.files[0]),(0,x._Q)(e.props.user._id,e.state.category,i).then((function(t){var s=t.data,i=s.data,r=s.success;r?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{category:"",isLoaded:!0,student:i,success:r})})):(alert(t.data.message),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{category:"",isLoaded:!0,success:r})})))}),(function(t){e.setState({generatedfileExisted:!1,error:t})}))}else t.preventDefault(),alert("Please select program group")},e}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){this.setState({isLoaded:!0})}},{key:"onDownloadGeneratedFile",value:function(e,t){var s;e.preventDefault(),(0,x.qN)(this.props.user._id,t).then((function(e){s=e.headers["content-disposition"].split('"')[1];var t=e.data;if(0!==t.size){var n=s.split(".");if("pdf"===(n=n.pop())){var i=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"}));window.open(i)}else{var r=window.URL.createObjectURL(new Blob([t])),a=document.createElement("a");a.href=r,a.setAttribute("download",s),document.body.appendChild(a),a.click(),a.parentNode.removeChild(a)}}}),(function(e){alert("The file is not available.")}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.error,n=t.isLoaded,i={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};return s?(0,g.jsx)("div",{children:"Error: your session is timeout! Please refresh the page and Login"}):n||this.state.data?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(c.Z,{children:[(0,g.jsx)(c.Z.Header,{children:(0,g.jsx)(c.Z.Title,{as:"h5",children:"Upload Your Transcript in Excel."})}),(0,g.jsxs)(c.Z.Body,{children:[(0,g.jsxs)(u.Z,{children:[(0,g.jsx)(h.Z,{md:3,children:(0,g.jsx)(p.Z,{children:(0,g.jsx)(p.Z.Group,{controlId:"formFile",className:"mb-3",children:(0,g.jsxs)(p.Z.Control,{as:"select",onChange:function(t){return e.handleSelect(t)},children:[(0,g.jsx)("option",{value:"",children:"Please Select"}),(0,g.jsx)("option",{value:"ee",children:"Electrical Engieering (ee)"}),(0,g.jsx)("option",{value:"cs",children:"Computer Science (cs)"}),(0,g.jsx)("option",{value:"me",children:"Mechanical Engineering (me)"})]})})})}),(0,g.jsxs)(h.Z,{md:2,children:[" ",(0,g.jsx)(p.Z,{children:(0,g.jsxs)(p.Z.File.Label,{onChange:function(t){return e.submitFile(t)},onClick:function(e){return e.target.value=null},children:[(0,g.jsx)(p.Z.File.Input,{hidden:!0}),(0,g.jsx)(f.lnH,{size:32})]})})]}),this.state.student.taigerai&&this.state.student.taigerai.input&&""!==this.state.student.taigerai.input.name?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(h.Z,{md:2,children:(0,g.jsx)(p.Z,{onSubmit:function(t){return e.onDownloadGeneratedFile(t,e.state.student.taigerai.input.name)},children:(0,g.jsx)(p.Z.Group,{controlId:"exampleForm.ControlSelect1",children:(0,g.jsx)("div",{className:"form-group",children:(0,g.jsx)(m.Z,{className:"btn btn-primary",type:"submit",children:"Download"})})})})})}):(0,g.jsx)(g.Fragment,{}),this.state.student.taigerai&&this.state.student.taigerai.output&&""!==this.state.student.taigerai.output.name?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.Z,{md:2,children:(0,g.jsx)("h6",{children:"Generated file download: "})}),(0,g.jsx)(h.Z,{md:2,children:(0,g.jsx)(p.Z,{onSubmit:function(t){return e.onDownloadGeneratedFile(t,e.state.student.taigerai.output.name)},children:(0,g.jsx)(p.Z.Group,{controlId:"exampleForm.ControlSelect1",children:(0,g.jsx)("div",{className:"form-group",children:(0,g.jsx)(m.Z,{className:"btn btn-primary",type:"submit",children:"Download"})})})})})]}):(0,g.jsx)(g.Fragment,{}),!n&&(0,g.jsx)("div",{style:i,children:(0,g.jsx)(l.Z,{animation:"border",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden"})})})]}),(0,g.jsx)(u.Z,{children:(0,g.jsx)("h6",{children:"Agent Feedback:"})}),(0,g.jsx)(u.Z,{children:(0,g.jsx)(p.Z,{children:(0,g.jsx)(p.Z.Control,{as:"textarea",rows:"10",onChange:this.handleContentChange,defaultValue:this.props.content,placeholder:"Content"})})})]})]})}):(0,g.jsx)("div",{style:i,children:(0,g.jsx)(l.Z,{animation:"border",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden"})})})}}]),s}(o.Component);t.Z=j},27370:function(e,t,s){s.r(t);var n=s(27853),i=s(84531),r=s(78932),a=s(66621),d=s(47313),o=s(44030),l=s(93298),c=s(64212),u=s(54991),h=s(93105),p=s(51426),m=s(46417),f=function(e,t){console.log("drag started"),console.log("cardId: ".concat(e)),console.log("laneId: ".concat(t))},x=function(e,t,s){console.log("drag ended"),console.log("cardId: ".concat(e)),console.log("sourceLaneId: ".concat(t)),console.log("targetLaneId: ".concat(s))},g=function(e){console.log(e)},j=function(e){(0,r.Z)(s,e);var t=(0,a.Z)(s);function s(){var e;(0,n.Z)(this,s);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={error:null,isLoaded:!1,tasks:null,success:null,card_title:"",card_description:"",card_modal_flag:!1,empty:!1},e.completeCard=function(){e.state.eventBus.publish({type:"ADD_CARD",laneId:"COMPLETED",card:{id:"Milk",title:"Buy Milk",label:"15 mins",description:"Use Headspace app"}}),e.state.eventBus.publish({type:"REMOVE_CARD",laneId:"PLANNED",cardId:"Milk"})},e.closeCardWindow=function(){e.setState({card_modal_flag:!1})},e.onCardClick=function(t,s,n){console.log(t),console.log(s),console.log(n);var i=e.state.tasks.lanes.find((function(e){return e.id===n}));console.log(i);var r=i.cards.find((function(e){return e.id===t}));e.setState({card_title:r.title,card_description:r.description,card_modal_flag:!0})},e.addCard=function(){e.state.eventBus.publish({type:"ADD_CARD",laneId:"BLOCKED",card:{id:"Ec2Error",title:"EC2 Instance Down",label:"30 mins",description:"Main EC2 instance down"}})},e.setEventBus=function(t){e.setState({eventBus:t})},e.handleCardAdd=function(e,t){console.log("New card added to lane ".concat(t)),console.dir(e)},e.shouldReceiveNewData=function(e){console.log("New card has been added"),console.log(e)},e.initTask=function(){var t=e.props.match?e.props.match.params.student_id:e.props.student_id;(0,p.i8)(t).then((function(t){var s=t.data,n=s.success,i=s.data,r=i[0];0!==i.length?n?e.setState({success:n,tasks:r,empty:!1,isLoaded:!0}):alert(t.data.message):n?e.setState({success:n,empty:!0,isLoaded:!0}):alert(t.data.message)}),(function(t){e.setState({isLoaded:!1,error:t})}))},e}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match?this.props.match.params.student_id:this.props.student_id;t&&(0,p._B)(t).then((function(t){var s=t.data,n=s.success,i=s.data,r=i[0];0!==i.length?n?e.setState({success:n,tasks:r,empty:!1,isLoaded:!0}):alert(t.data.message):n?e.setState({success:n,empty:!0,isLoaded:!0}):alert(t.data.message)}),(function(t){e.setState({isLoaded:!1,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,s=e.isLoaded,n={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};return t?(0,m.jsx)("div",{children:"Error: your session is timeout! Please refresh the page and Login"}):s||this.state.tasks?(0,m.jsxs)(u.Z,{children:[this.state.empty?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.Z,{style:n,onClick:this.initTask,children:"Create Tasks"})}):(0,m.jsx)(h.ZP,{data:this.state.tasks,style:{backgroundColor:"transparent"},cardDraggable:!0,onDataChange:g,onCardAdd:this.handleCardAdd,eventBusHandle:this.setEventBus,handleDragStart:f,handleDragEnd:x,onCardClick:this.onCardClick}),(0,m.jsxs)(c.Z,{show:this.state.card_modal_flag,onHide:this.closeCardWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,m.jsx)(c.Z.Header,{children:(0,m.jsx)(c.Z.Title,{id:"contained-modal-title-vcenter",children:this.state.card_title})}),(0,m.jsxs)(c.Z.Body,{children:[this.state.card_description," "]}),(0,m.jsx)(c.Z.Footer,{children:(0,m.jsx)(l.Z,{onClick:this.closeCardWindow,children:"Close"})})]})]}):(0,m.jsx)("div",{style:n,children:(0,m.jsx)(o.Z,{animation:"border",role:"status",children:(0,m.jsx)("span",{className:"visually-hidden"})})})}}]),s}(d.Component);t.default=j},4454:function(e,t,s){var n=s(18489),i=s(27853),r=s(84531),a=s(78932),d=s(66621),o=s(47313),l=s(44030),c=s(63849),u=s(31616),h=s(83109),p=s(93298),m=s(72880),f=s(64212),x=s(60860),g=s(51426),j=s(57864),Z=s(37062),v=s(94611),S=s(86450),F=s(46417),b=function(e){(0,a.Z)(s,e);var t=(0,d.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return(e=t.call.apply(t,[this].concat(a))).state={student_id:"",program_id:"",isLoaded:!1,student:e.props.student,timeouterror:null,unauthorizederror:null,deleteVPDFileWarningModel:!1,setAsNotNeededModel:!1},e.closeWarningWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{deleteVPDFileWarningModel:!1})}))},e.handleUniAssistDocSubmit=function(t,s,n){t.preventDefault(),e.onSubmitGeneralFile(t,t.target.files[0],s,n)},e.closesetAsNotNeededWindow=function(){e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{setAsNotNeededModel:!1})}))},e.opensetAsNotNeededWindow=function(t,s,i){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{setAsNotNeededModel:!0,student_id:s,program_id:i})}))},e.handleSetAsNotNeeded=function(t){t.preventDefault(),(0,g.bV)(e.state.student_id,e.state.program_id).then((function(t){var s=t.data,n=s.data,i=s.success;i?e.setState({isLoaded:!0,student:n,success:i,setAsNotNeededModel:!1,student_id:"",program_id:""}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))},e.handleUniAssistDocDelete=function(t){e.setState({isLoaded:!1}),(0,g.Ws)(e.state.student_id,e.state.program_id).then((function(t){var s=t.data,i=s.data,r=s.success;r?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{isLoaded:!0,student:i,success:r,deleteVPDFileWarningModel:!1})})):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))},e.onDeleteVPDFileWarningPopUp=function(t,s,i){t.preventDefault(),e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student_id:s,program_id:i,deleteVPDFileWarningModel:!0})}))},e.handleUniAssistDocDownload=function(t,s,n){t.preventDefault(),(0,g.$Y)(s,n).then((function(t){if(200===t.status){var s=t.headers["content-disposition"].split('"')[1],n=t.data;if(0===n.size)return;var i=s.split(".");if("pdf"===(i=i.pop())){var r=window.URL.createObjectURL(new Blob([n],{type:"application/pdf"}));window.open(r)}else{var a=window.URL.createObjectURL(new Blob([n])),d=document.createElement("a");d.href=a,d.setAttribute("download",s),document.body.appendChild(d),d.click(),d.parentNode.removeChild(d)}}else 401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(e){alert("The file is not available.")}))},e.onSubmitGeneralFile=function(t,s,i,r){t.preventDefault();var a=new FormData;a.append("file",s),e.setState({isLoaded:!1}),(0,g.pJ)(i,r,a).then((function(t){var s=t.data,i=s.data,r=s.success;r?e.setState((function(e){return(0,n.Z)((0,n.Z)({},e),{},{student:i,success:r,category:"",isLoaded:!0,file:""})})):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:t})}))},e}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.student?this.setState({isLoaded:!0}):(0,g.u6)(this.props.user._id.toString()).then((function(t){var s=t.data,n=s.data,i=s.success;i?e.setState({isLoaded:!0,student:n,success:i}):401===t.status||500===t.status?e.setState({isLoaded:!0,timeouterror:!0}):403===t.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(t){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.unauthorizederror,n=t.timeouterror,i=t.isLoaded;if(n)return(0,F.jsx)("div",{children:(0,F.jsx)(v.Z,{})});if(s)return(0,F.jsx)("div",{children:(0,F.jsx)(S.Z,{})});var r={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};if(!i&&!this.state.student)return(0,F.jsx)("div",{style:r,children:(0,F.jsx)(l.Z,{animation:"border",role:"status",children:(0,F.jsx)("span",{className:"visually-hidden"})})});var a=this.state.student.applications.map((function(t,s){return(0,F.jsxs)("div",{children:["Yes-FULL"===t.programId.uni_assist&&"O"===t.decided&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(c.Z,{children:(0,F.jsxs)(Z.Z,{to:"/programs/"+t.programId._id.toString(),style:{textDecoration:"none"},children:[(0,F.jsxs)("h4",{className:"text-info",children:[t.programId.school," ",t.programId.program_name]})," Yes-FULL"]})}),(0,F.jsx)(c.Z,{children:t.uni_assist&&"notstarted"!==t.uni_assist.status?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(p.Z,{onClick:function(s){return e.handleUniAssistDocDownload(s,e.state.student._id.toString(),t.programId._id.toString())},size:"sm",children:(0,F.jsx)(j.RFS,{size:16})}),(0,F.jsx)(p.Z,{onClick:function(s){return e.onDeleteVPDFileWarningPopUp(s,e.state.student._id.toString(),t.programId._id.toString())},size:"sm",children:(0,F.jsx)(j.VPh,{size:16})})]}):(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(c.Z,{children:e.state.isLoaded?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(u.Z,{children:(0,F.jsx)(h.Z,{children:(0,F.jsxs)(h.Z.File.Label,{onChange:function(s){return e.handleUniAssistDocSubmit(s,e.state.student._id.toString(),t.programId._id.toString())},onClick:function(e){return e.target.value=null},children:[(0,F.jsx)(h.Z.File.Input,{hidden:!0}),(0,F.jsx)(x.lnH,{color:"lightgray",size:32})]})})}),"Agent"===e.props.role||"Admin"===e.props.role&&(0,F.jsx)(u.Z,{children:"Agent"===e.props.role||"Admin"===e.props.role&&(0,F.jsx)(p.Z,{size:"sm",color:"lightgray",onClick:function(s){return e.opensetAsNotNeededWindow(s,e.state.student._id.toString(),t.programId._id.toString())},children:"Set Not Needed"})})]}):(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("div",{style:r,children:(0,F.jsx)(l.Z,{className:"mx-2 my-2",animation:"border",role:"status",variant:"light",children:(0,F.jsx)("span",{className:"visually-hidden"})})})})})})})]}),"Yes-VPD"===t.programId.uni_assist&&"O"===t.decided&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(c.Z,{children:(0,F.jsxs)(Z.Z,{to:"/programs/"+t.programId._id.toString(),style:{textDecoration:"none"},children:[(0,F.jsxs)("h4",{className:"text-info",children:[t.programId.school," ",t.programId.program_name]})," Yes-VPD"]})}),(0,F.jsx)(c.Z,{children:t.uni_assist&&"missing"!==t.uni_assist.status&&"notstarted"!==t.uni_assist.status?t.uni_assist&&"notneeded"===t.uni_assist.status?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(u.Z,{children:(0,F.jsx)("p",{className:"text-light",children:"Uni-assist is not necessary as it can be reused from another program."})}),(0,F.jsx)(u.Z,{children:(0,F.jsx)(p.Z,{size:"sm",color:"lightgray",onClick:function(s){return e.opensetAsNotNeededWindow(s,e.state.student._id.toString(),t.programId._id.toString())},children:"Set Needed"})})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(u.Z,{md:2,children:(0,F.jsx)(p.Z,{onClick:function(s){return e.handleUniAssistDocDownload(s,e.state.student._id.toString(),t.programId._id.toString())},size:"sm",children:(0,F.jsx)(j.RFS,{size:16})})}),(0,F.jsx)(u.Z,{children:(0,F.jsx)(p.Z,{onClick:function(s){return e.onDeleteVPDFileWarningPopUp(s,e.state.student._id.toString(),t.programId._id.toString())},variant:"danger",size:"sm",children:(0,F.jsx)(j.VPh,{size:16})})})]}):(0,F.jsx)(F.Fragment,{children:e.state.isLoaded?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(u.Z,{md:1,children:(0,F.jsx)(h.Z,{children:(0,F.jsxs)(h.Z.File.Label,{onChange:function(s){return e.handleUniAssistDocSubmit(s,e.state.student._id.toString(),t.programId._id.toString())},onClick:function(e){return e.target.value=null},children:[(0,F.jsx)(h.Z.File.Input,{hidden:!0}),(0,F.jsx)(x.lnH,{color:"lightgray",size:32})]})})}),(0,F.jsx)(u.Z,{children:"Agent"===e.props.role||"Admin"===e.props.role&&(0,F.jsx)(p.Z,{size:"sm",color:"lightgray",onClick:function(s){return e.opensetAsNotNeededWindow(s,e.state.student._id.toString(),t.programId._id.toString())},children:"Set Not Needed"})})]}):(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("div",{children:(0,F.jsx)(l.Z,{animation:"border",role:"status",variant:"light",children:(0,F.jsx)("span",{className:"visually-hidden"})})})})})})]}),"No"===t.programId.uni_assist&&"O"===t.decided&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Z.Z,{to:"/programs/"+t.programId._id.toString(),style:{textDecoration:"none"},children:(0,F.jsxs)("h4",{className:"text-info",children:[t.programId.school," ",t.programId.program_name]})}),(0,F.jsx)("p",{className:"text-light",children:"This program does NOT require Uni-Assist."})]}),void 0===t.programId.uni_assist&&"O"===t.decided&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("p",{className:"text-info",children:[t.programId.school," ",t.programId.program_name," "]}),(0,F.jsx)("p",{className:"text-light",children:"This program does NOT require Uni-Assist."})]})]},s)}));return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(m.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,F.jsx)(m.Z.Body,{children:a})}),(0,F.jsxs)(f.Z,{show:this.state.deleteVPDFileWarningModel,onHide:this.closeWarningWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,F.jsx)(f.Z.Header,{children:(0,F.jsx)(f.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,F.jsx)(f.Z.Body,{children:"Do you want to delete?"}),(0,F.jsxs)(f.Z.Footer,{children:[(0,F.jsx)(p.Z,{disabled:!this.state.isLoaded,onClick:function(t){return e.handleUniAssistDocDelete(t)},children:"Yes"}),(0,F.jsx)(p.Z,{onClick:this.closeWarningWindow,children:"No"})]})]}),(0,F.jsxs)(f.Z,{show:this.state.setAsNotNeededModel,onHide:this.closesetAsNotNeededWindow,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,F.jsx)(f.Z.Header,{children:(0,F.jsx)(f.Z.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),(0,F.jsx)(f.Z.Body,{children:"Is VPD not necessary for this program (because other programs have already VPD and it can be reused for this)?"}),(0,F.jsxs)(f.Z.Footer,{children:[(0,F.jsx)(p.Z,{onClick:function(t){return e.handleSetAsNotNeeded(t)},children:"Yes"}),(0,F.jsx)(p.Z,{onClick:this.closesetAsNotNeededWindow,children:"No"})]})]})]})}}]),s}(o.Component);t.Z=b}}]);