"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[141],{2319:function(t,n,e){e.r(n),e.d(n,{default:function(){return N}});var i=e(27853),s=e(84531),r=e(78932),a=e(38128),o=e(47313),u=e(44030),c=e(65832),d=e(63849),l=e(465),p=e(54991),f=e(37062),h=e(3394),g=e(57864),_=e(58821),m=e(46417),v=function(t){(0,r.Z)(e,t);var n=(0,a.Z)(e);function e(){var t;(0,i.Z)(this,e);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))).state={student:t.props.student,student_id:"",docName:"",file:""},t}return(0,s.Z)(e,[{key:"render",value:function(){for(var t=this,n=(Object.values(window.profile_list),Object.keys(window.profile_list)),e={},i={},s={},r={},a=0;a<n.length;a++)e[n[a]]="missing",i[n[a]]="",s[n[a]]="",r[n[a]]="";if(this.props.student.profile)for(var o=0;o<this.props.student.profile.length;o++)"uploaded"===this.props.student.profile[o].status?e[this.props.student.profile[o].name]="uploaded":"accepted"===this.props.student.profile[o].status?e[this.props.student.profile[o].name]="accepted":"rejected"===this.props.student.profile[o].status?e[this.props.student.profile[o].name]="rejected":"notneeded"===this.props.student.profile[o].status?e[this.props.student.profile[o].name]="notneeded":"missing"===this.props.student.profile[o].status&&(e[this.props.student.profile[o].name]="missing"),i[this.props.student.profile[o].name]=this.props.student.profile[o].feedback?this.props.student.profile[o].feedback:"",s[this.props.student.profile[o].name]=new Date(this.props.student.profile[o].updatedAt).toLocaleDateString(),r[this.props.student.profile[o].name]=new Date(this.props.student.profile[o].updatedAt).toLocaleTimeString();for(var u,c=Object.keys(window.profile_list),d={background:"red"},l={background:"green"},p="Complete",v=0;v<c.length;v++)if("uploaded"===e[c[v]]||"rejected"===e[c[v]]||"missing"===e[c[v]]){l=d,p="Incomplete";break}return u=c.map((function(n,i){return"uploaded"===e[n]?(0,m.jsx)("td",{children:(0,m.jsx)(f.Z,{to:"/student-database/"+t.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-info",children:(0,m.jsx)(g.QRz,{size:24,color:"orange",title:"Uploaded successfully"})})},i):"accepted"===e[n]?(0,m.jsx)("td",{children:(0,m.jsx)(f.Z,{to:"/student-database/"+t.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-info",children:(0,m.jsx)(h.cfq,{size:24,color:"limegreen",title:"Valid Document"})})},i):"rejected"===e[n]?(0,m.jsx)("td",{children:(0,m.jsx)(f.Z,{to:"/student-database/"+t.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-info",children:(0,m.jsx)(g.LHV,{size:24,color:"red",title:"Invalid Document"})})},i):"notneeded"===e[n]?(0,m.jsx)("td",{children:(0,m.jsx)(f.Z,{to:"/student-database/"+t.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-info",children:(0,m.jsx)(_.pZ2,{size:24,color:"lightgray",title:"Not needed"})})},i):(0,m.jsx)("td",{children:(0,m.jsx)(f.Z,{to:"/student-database/"+t.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-info",children:(0,m.jsx)(g.znh,{size:24,color:"lightgray",title:"No Document uploaded"})})},i)})),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{style:l,title:p,children:(0,m.jsxs)(f.Z,{to:"/student-database/"+this.props.student._id+"/profile",style:{textDecoration:"none"},className:"text-light",children:[this.props.student.firstname," ",this.props.student.lastname]})}),u]})})}}]),e}(o.Component),x=v,y=e(62327),j=e(51767),Z=e(20688),b=e(82423),I=e(51426),E=function(t){(0,r.Z)(e,t);var n=(0,a.Z)(e);function e(){var t;(0,i.Z)(this,e);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))).state={error:null,isLoaded:!1,data:null,base_docs_link:null,success:!1,students:null,file:"",student_id:"",status:"",category:"",feedback:"",expand:!1,accordionKeys:!t.props.user.students||"Editor"!==t.props.user.role&&"Agent"!==t.props.user.role?[0]:new Array(t.props.user.students.length).fill().map((function(t,n){return n})),res_status:0,res_modal_status:""},t}return(0,s.Z)(e,[{key:"componentDidMount",value:function(){var t=this;(0,I.Nc)().then((function(n){var e=n.data,i=e.base_docs_link,s=e.data,r=e.success,a=n.status;r?t.setState({isLoaded:!0,students:s,base_docs_link:i,success:r,res_status:a}):t.setState({isLoaded:!0,res_status:a})}),(function(n){t.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var t=this,n=this.state,e=n.res_status,i=n.base_docs_link,s=n.isLoaded,r=n.res_modal_status,a=n.res_modal_message;if(!s&&!this.state.students)return(0,m.jsx)("div",{style:j.nT,children:(0,m.jsx)(u.Z,{animation:"border",role:"status",children:(0,m.jsx)("span",{className:"visually-hidden"})})});if(e>=400)return(0,m.jsx)(b.Z,{res_status:e});var o=Object.values(window.profile_list),f=this.state.students.map((function(n,e){return(0,m.jsx)(x,{idx:e,student:n,role:t.props.user.role,user:t.props.user,SYMBOL_EXPLANATION:j.vE,isLoaded:s},e)})),h=this.state.students.map((function(n,e){return(0,m.jsxs)(c.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:[(0,m.jsx)(c.Z.Header,{children:(0,m.jsxs)(c.Z.Title,{className:"my-0 mx-0 text-light",children:[n.firstname," ,",n.lastname]})}),(0,m.jsx)(y.Z,{base_docs_link:i,student:n,user:t.props.user,SYMBOL_EXPLANATION:j.vE})]},e)}));return(0,m.jsx)(p.Z,{children:(0,m.jsxs)(d.Z,{className:"pt-0",children:["Admin"===this.props.user.role||"Agent"===this.props.user.role||"Editor"===this.props.user.role?(0,m.jsxs)(c.Z,{className:"mb-0 mx-0",bg:"dark",text:"light",children:[(0,m.jsx)(c.Z.Header,{as:"h5",children:"Base Documents"})," ",(0,m.jsxs)(l.Z,{size:"sm",responsive:!0,hover:!0,text:"light",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{className:"my-0 mx-0 text-light",children:[(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("th",{style:j.NW,children:"First-, Last Name"})}),o.map((function(t,n){return(0,m.jsx)("th",{style:j.NW,children:(0,j.zY)(t)},n)}))]})}),(0,m.jsx)("tbody",{children:f})]})]}):(0,m.jsx)(m.Fragment,{children:h}),r>=400&&(0,m.jsx)(Z.Z,{ConfirmError:this.ConfirmError,res_modal_status:r,res_modal_message:a})]})})}}]),e}(o.Component),N=E},83708:function(t,n,e){e.d(n,{A$:function(){return E},EL:function(){return r},En:function(){return D},H6:function(){return y},HU:function(){return l},S:function(){return a},_$:function(){return b},_D:function(){return o},aH:function(){return h},aT:function(){return Z},bX:function(){return N},c9:function(){return w},d0:function(){return k},dJ:function(){return f},dh:function(){return s},el:function(){return m},je:function(){return i},kF:function(){return L},pM:function(){return c},qz:function(){return p},sc:function(){return x},ti:function(){return d},x8:function(){return u},y2:function(){return _},y3:function(){return I},yd:function(){return v},ye:function(){return j},ys:function(){return g}});var i=function(t,n){return"Admin"===t.role||"Student"===t.role||"Guest"===t.role||!(!t.students||-1===t.students.findIndex((function(t){return t._id.toString()===n})))},s=function(t){return!(!t||!t.language)&&"O"===t.language.english_isPassed},r=function(t){return!(!t||!t.language)&&"O"===t.language.german_isPassed},a=function(t){return!(!t||!t.language)&&!(!t.language||!(t.language.english_isPassed&&"-"!==t.language.english_isPassed||t.language.german_isPassed&&"-"!==t.language.german_isPassed))},o=function(t){return!(!t||!t.university)&&!!(t.university.attended_high_school&&t.university.high_school_isGraduated&&"-"!==t.university.high_school_isGraduated&&t.university.attended_university&&t.university.attended_university_program)},u=function(t,n){if("O"===n.closed)return"CLOSE";if(!n.programId.application_deadline)return"No Data";if(n.programId.application_deadline.includes("olling"))return"Rolling";var e="<TBD>";if(t.application_preference&&""!==t.application_preference.expected_application_date&&(e=parseInt(t.application_preference.expected_application_date)),!n.programId.application_deadline)return"".concat(e,"-<TBD>");var i=n.programId.semester,s=parseInt(n.programId.application_deadline.split("-")[0]),r=parseInt(n.programId.application_deadline.split("-")[1]);return void 0===i?"Err":("WS"===i&&s>9&&(e-=1),"SS"===i&&s>3&&(e-=1),"".concat(e,"-").concat(s,"-").concat(r))},c=function(t){return!!t&&!(!t.expected_application_date||!t.expected_application_semester)},d=function(t){for(var n=0;n<t.length;n+=1)if(void 0===t[n].agents||0===t[n].agents.length)return!1;return!0},l=function(t){for(var n=0;n<t.length;n+=1)if(void 0===t[n].editors||0===t[n].editors.length)return!1;return!0},p=function(t){if(!t.applications)return!1;if(0===t.applications.length)return!1;for(var n=0;n<t.applications.length;n+=1)if(!t.applications[n].decided||void 0!==t.applications[n].decided&&"-"===t.applications[n].decided)return!1;return!0},f=function(t){if(!t.applications)return!0;if(0===t.applications.length)return!0;for(var n=0;n<t.applications.length;n+=1)if(!t.applications[n].decided||void 0!==t.applications[n].decided&&"-"===t.applications[n].decided)return!1;return!0},h=function(t){return 0===t.applying_program_count||void 0===t.applying_program_count},g=function(t){for(var n=0;n<t.length;n+=1)if(t[n].applications.length<t[n].applying_program_count)return!0;return!1},_=function(t){return void 0===t.applications?0:t.applications.filter((function(t){return"O"===t.decided})).length},m=function(t){return void 0===t.applications?0:t.applications.filter((function(t){return"O"===t.closed})).length},v=function(t){if(void 0===t.applications)return!1;if(0===t.applying_program_count)return!1;if(t.applications.length<t.applying_program_count)return!1;if(!t.applications||0===t.applications.length)return!1;for(var n=0;n<t.applications.length;n+=1)if(!t.applications[n].decided||void 0!==t.applications[n].decided&&"O"!==t.applications[n].decided)return!1;return!0},x=function(t,n){if(void 0===n.applications)return!1;if(0===n.applications.length)return!1;for(var e=0;e<t.length;e+=1)for(var i=0;i<n.applications.length;i+=1)if(!n.applications[i].closed||void 0!==n.applications[i].closed&&"O"!==n.applications[i].closed)return!1;return!0},y=function(t){return!!t.programId.uni_assist&&!!t.programId.uni_assist.includes("Yes")},j=function(t){if(void 0===t.applications)return!1;for(var n=0;n<t.applications.length;n+=1)if("O"===t.applications[n].decided&&t.applications[n].programId.uni_assist&&(t.applications[n].programId.uni_assist.includes("VPD")||t.applications[n].programId.uni_assist.includes("FULL")))return!0;return!1},Z=function(t){var n=0;if(void 0===t.applications)return n;for(var e=0;e<t.applications.length;e+=1)if("O"===t.applications[e].decided&&t.applications[e].programId.uni_assist&&(t.applications[e].programId.uni_assist.includes("VPD")||t.applications[e].programId.uni_assist.includes("FULL"))){if(!t.applications[e].uni_assist)continue;if(t.applications[e].uni_assist&&"notneeded"===t.applications[e].uni_assist.status)continue;!t.applications[e].uni_assist||"uploaded"!==t.applications[e].uni_assist.status&&""===t.applications[e].uni_assist.vpd_file_path&&null!==t.applications[e].uni_assist.vpd_file_path||(n+=1)}return n},b=function(t){var n=0;if(void 0===t.applications)return n;for(var e=0;e<t.applications.length;e+=1)if("O"===t.applications[e].decided&&t.applications[e].programId.uni_assist&&(t.applications[e].programId.uni_assist.includes("VPD")||t.applications[e].programId.uni_assist.includes("FULL"))){if(!t.applications[e].uni_assist)continue;if(t.applications[e].uni_assist&&"notneeded"===t.applications[e].uni_assist.status)continue;n+=1}return n},I=function(t){for(var n=0;n<t.doc_modification_thread.length;n+=1)if(!t.doc_modification_thread[n].isFinalVersion)return!1;return!0},E=function(t){return!!t.generaldocs_threads&&-1!==t.generaldocs_threads.findIndex((function(t){return"CV"===t.doc_thread_id.file_type}))},N=function(t){return!!t.generaldocs_threads&&(-1!==t.generaldocs_threads.findIndex((function(t){return"CV"===t.doc_thread_id.file_type}))&&!!t.generaldocs_threads.find((function(t){return"CV"===t.doc_thread_id.file_type})).isFinalVersion)},L=function(t){for(var n=0;n<t.doc_modification_thread.length;n+=1)if(!t.doc_modification_thread[n].isFinalVersion)return!1;return!(t.programId.uni_assist&&t.programId.uni_assist.includes("Yes")&&(!t.uni_assist||"uploaded"!==t.uni_assist.status))},D=function(t){return"O"===t.closed},w=function(t){if(void 0===t.applications)return!1;for(var n=0;n<t.applications.length;n+=1)if("O"===t.applications[n].decided&&t.applications[n].programId.uni_assist&&(t.applications[n].programId.uni_assist.includes("VPD")||t.applications[n].programId.uni_assist.includes("FULL"))){if(!t.applications[n].uni_assist)return!1;if(t.applications[n].uni_assist&&"notneeded"===t.applications[n].uni_assist.status)continue;if(t.applications[n].uni_assist&&("uploaded"!==t.applications[n].uni_assist.status||""===t.applications[n].uni_assist.vpd_file_path))return!1}return!0},k=function(t){return-1===t.generaldocs_threads.findIndex((function(t){return"CV"===t.doc_thread_id.file_type}))}},62396:function(t,n,e){e.d(n,{Z:function(){return b}});var i=e(18489),s=e(83738),r=e(36222),a=e(46123),o=e.n(a),u=e(46988),c=e(47313),d=e(22752),l=e(59498);var p,f=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.filter((function(t){return null!=t})).reduce((function(t,n){if("function"!==typeof n)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?n:function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];t.apply(this,i),n.apply(this,i)}}),null)},h=e(6280),g=e(39776),_=e(46417),m=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],v={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function x(t,n){var e=n["offset".concat(t[0].toUpperCase()).concat(t.slice(1))],i=v[t];return e+parseInt((0,u.Z)(n,i[0]),10)+parseInt((0,u.Z)(n,i[1]),10)}var y=(p={},(0,r.Z)(p,d.Wj,"collapse"),(0,r.Z)(p,d.Ix,"collapsing"),(0,r.Z)(p,d.d0,"collapsing"),(0,r.Z)(p,d.cn,"collapse show"),p),j={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:x},Z=c.forwardRef((function(t,n){var e=t.onEnter,r=t.onEntering,a=t.onEntered,u=t.onExit,d=t.onExiting,p=t.className,v=t.children,j=t.dimension,Z=void 0===j?"height":j,b=t.getDimensionValue,I=void 0===b?x:b,E=(0,s.Z)(t,m),N="function"===typeof Z?Z():Z,L=(0,c.useMemo)((function(){return f((function(t){t.style[N]="0"}),e)}),[N,e]),D=(0,c.useMemo)((function(){return f((function(t){var n="scroll".concat(N[0].toUpperCase()).concat(N.slice(1));t.style[N]="".concat(t[n],"px")}),r)}),[N,r]),w=(0,c.useMemo)((function(){return f((function(t){t.style[N]=null}),a)}),[N,a]),k=(0,c.useMemo)((function(){return f((function(t){t.style[N]="".concat(I(N,t),"px"),(0,h.Z)(t)}),u)}),[u,I,N]),O=(0,c.useMemo)((function(){return f((function(t){t.style[N]=null}),d)}),[N,d]);return(0,_.jsx)(g.Z,(0,i.Z)((0,i.Z)({ref:n,addEndListener:l.Z},E),{},{"aria-expanded":E.role?E.in:null,onEnter:L,onEntering:D,onEntered:w,onExit:k,onExiting:O,childRef:v.ref,children:function(t,n){return c.cloneElement(v,(0,i.Z)((0,i.Z)({},n),{},{className:o()(p,v.props.className,y[t],"width"===N&&"collapse-horizontal")}))}}))}));Z.defaultProps=j;var b=Z},465:function(t,n,e){var i=e(18489),s=e(83738),r=e(46123),a=e.n(r),o=e(47313),u=e(68524),c=e(46417),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],l=o.forwardRef((function(t,n){var e=t.bsPrefix,r=t.className,o=t.striped,l=t.bordered,p=t.borderless,f=t.hover,h=t.size,g=t.variant,_=t.responsive,m=(0,s.Z)(t,d),v=(0,u.vE)(e,"table"),x=a()(r,v,g&&"".concat(v,"-").concat(g),h&&"".concat(v,"-").concat(h),o&&"".concat(v,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),l&&"".concat(v,"-bordered"),p&&"".concat(v,"-borderless"),f&&"".concat(v,"-hover")),y=(0,c.jsx)("table",(0,i.Z)((0,i.Z)({},m),{},{className:x,ref:n}));if(_){var j="".concat(v,"-responsive");return"string"===typeof _&&(j="".concat(j,"-").concat(_)),(0,c.jsx)("div",{className:j,children:y})}return y}));n.Z=l}}]);