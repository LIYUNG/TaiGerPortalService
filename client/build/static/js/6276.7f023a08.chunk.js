"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[6276],{50099:function(e,r,t){var a=t(35531),s=t(27853),n=t(84531),i=t(78932),o=t(66621),l=t(47313),d=t(58050),c=t(72880),u=t(88815),m=t(29678),h=t.n(m),p=t(54991),f=t(12401),x=t(46417),Z=function(e){(0,i.Z)(t,e);var r=(0,o.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,n.Z)(t,[{key:"render",value:function(){var e,r,t,s,n,i=this,o=[];return this.state.isOption&&(t=(0,x.jsx)("div",{className:"card-header-right",children:(0,x.jsxs)(d.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,x.jsx)(d.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,x.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,x.jsxs)(d.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,x.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,x.jsxs)("a",{href:f.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,x.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,x.jsxs)("a",{href:f.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,x.jsx)("i",{className:"feather icon-refresh-cw"}),(0,x.jsx)("a",{href:f.Z.BLANK_LINK,children:" Reload "})]}),(0,x.jsxs)(d.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,x.jsx)("i",{className:"feather icon-trash"}),(0,x.jsx)("a",{href:f.Z.BLANK_LINK,children:" Remove "})]})]})]})})),s=(0,x.jsxs)(c.Z.Header,{children:[(0,x.jsx)(c.Z.Title,{as:"h5",children:this.props.title}),t]}),this.state.fullCard&&(o=[].concat((0,a.Z)(o),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(o=[].concat((0,a.Z)(o),["card-load"]),r=(0,x.jsx)("div",{className:"card-loader",children:(0,x.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(o=[].concat((0,a.Z)(o),["d-none"])),this.props.cardClass&&(o=[].concat((0,a.Z)(o),[this.props.cardClass])),n=(0,x.jsxs)(c.Z,{className:o.join(" "),style:e,children:[s,(0,x.jsx)(u.Z,{in:!this.state.collapseCard,children:(0,x.jsx)("div",{children:(0,x.jsx)(c.Z.Body,{children:this.props.children})})}),r]}),(0,x.jsx)(p.Z,{children:n})}}]),t}(l.Component);r.Z=h()(Z)},26276:function(e,r,t){t.r(r),t.d(r,{default:function(){return R}});var a=t(27853),s=t(84531),n=t(78932),i=t(66621),o=t(47313),l=t(44030),d=t(63849),c=t(31616),u=t(54991),m=t(18489),h=t(35531),p=t(23430),f=t(45110),x=t(86450),Z=t(94611),v=t(37062),j=t(465),g=t(93298),N=t(72880),C=t(51426),y=t(65777),b=t(46417);function w(e){var r=e.column,t=r.filterValue,a=r.preFilteredRows,s=r.setFilter,n=a.length;return(0,b.jsx)("input",{value:t||"",onChange:function(e){s(e.target.value||void 0)},placeholder:"Search ".concat(n," records...")})}function _(e){var r=e.column,t=r.filterValue,a=r.setFilter,s=r.preFilteredRows,n=r.id,i=o.useMemo((function(){var e=new Set;return s.forEach((function(r){e.add(r.values[n])})),(0,h.Z)(e.values())}),[n,s]);return(0,b.jsxs)("select",{value:t,onChange:function(e){a(e.target.value||void 0)},children:[(0,b.jsx)("option",{value:"",children:"All"}),i.map((function(e,r){return(0,b.jsx)("option",{value:e,children:e},r)}))]})}function I(e,r,t){return(0,y.Lu)(e,t,{keys:[function(e){return e.values[r]}]})}I.autoRemove=function(e){return!e};function P(e){var r=e.header,t=e.data,a=(e.userId,(0,o.useState)({success:!1,isloaded:!1,error:null,everlogin:!1,modalShowAssignWindow:!1,modalShowAssignSuccessWindow:!1})),s=(0,p.Z)(a,2),n=(s[0],s[1],(0,o.useState)({programIds:[],schools:[],program_names:[]})),i=(0,p.Z)(n,2),l=(i[0],i[1],(0,o.useState)("")),u=(0,p.Z)(l,2),h=(u[0],u[1],o.useMemo((function(){return[{Header:r,columns:[{Header:"First Name",accessor:"firstname",Filter:_,filter:"includes"},{Header:"Last Name",accessor:"lastname",filter:"fuzzyText"},{Header:"University",accessor:"school"},{Header:"Program",accessor:"program_name"},{Header:"Application Year",accessor:"year"},{Header:"Semester",accessor:"semester"}]}]}),[])),x=o.useMemo((function(){return{fuzzyText:I,text:function(e,r,t){return e.filter((function(e){var a=e.values[r];return void 0===a||String(a).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),Z=o.useMemo((function(){return{Filter:w}}),[]),N=(0,f.useTable)({columns:h,data:t,defaultColumn:Z,filterTypes:x},f.useFilters,f.useGlobalFilter,f.usePagination),C=N.getTableProps,y=N.getTableBodyProps,P=N.headerGroups,S=N.page,k=N.prepareRow,R=(N.state,N.visibleColumns,N.canPreviousPage),z=N.canNextPage,L=N.pageOptions,F=N.pageCount,H=N.gotoPage,A=N.nextPage,E=N.previousPage,T=N.setPageSize,G=(N.preGlobalFilteredRows,N.setGlobalFilter,N.toggleAllRowsSelected,N.state),K=G.pageIndex,B=G.pageSize;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(j.Z,(0,m.Z)((0,m.Z)({className:"my-0 mx-2",variant:"dark",text:"light",responsive:!0,hover:!0},C()),{},{children:[(0,b.jsx)("thead",{children:P.map((function(e){return(0,b.jsx)("tr",(0,m.Z)((0,m.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,b.jsxs)("th",(0,m.Z)((0,m.Z)({},e.getHeaderProps()),{},{children:[e.render("Header"),(0,b.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),(0,b.jsx)("tbody",(0,m.Z)((0,m.Z)({},y()),{},{children:S.map((function(e,r){return k(e),(0,b.jsx)("tr",(0,m.Z)((0,m.Z)({},e.getRowProps()),{},{children:e.cells.map((function(r,t){return(0,b.jsx)("td",(0,m.Z)((0,m.Z)({},r.getCellProps()),{},{children:0===t?(0,b.jsx)(b.Fragment,{children:r.render("Cell")}):(0,b.jsx)(v.Z,{to:"/student-database/"+e.original._id+"/background",className:"text-info",style:{textDecoration:"none"},children:r.render("Cell")})}))}))}))}))}))]})),(0,b.jsx)("div",{className:"pagination",children:(0,b.jsxs)(d.Z,{children:[(0,b.jsx)(c.Z,{md:1,children:(0,b.jsx)(g.Z,{size:"sm",onClick:function(){return H(0)},disabled:!R,children:"<<"})})," ",(0,b.jsx)(c.Z,{md:1,children:(0,b.jsx)(g.Z,{size:"sm",onClick:function(){return E()},disabled:!R,children:"<"})})," ",(0,b.jsx)(c.Z,{md:1,children:(0,b.jsx)(g.Z,{size:"sm",onClick:function(){return A()},disabled:!z,children:">"})})," ",(0,b.jsx)(c.Z,{md:1,children:(0,b.jsx)(g.Z,{size:"sm",onClick:function(){return H(F-1)},disabled:!z,children:">>"})})," ",(0,b.jsx)(c.Z,{md:2,children:(0,b.jsxs)("span",{className:"my-0 mx-0 text-light",children:["Page"," ",(0,b.jsxs)("strong",{children:[K+1," of ",L.length]})," "]})}),(0,b.jsx)(c.Z,{md:4,children:(0,b.jsxs)("span",{className:"my-0 mx-0 text-light",children:["| Go to page:"," ",(0,b.jsx)("input",{type:"number",defaultValue:K+1,onChange:function(e){var r=e.target.value?Number(e.target.value)-1:0;H(r)},style:{width:"100px"}})]})})," ",(0,b.jsx)(c.Z,{md:2,children:(0,b.jsx)("select",{value:B,onChange:function(e){T(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return(0,b.jsxs)("option",{value:e,children:["Show ",e]},e)}))})})]})})]})}var S=function(e){var r=(0,o.useState)({success:!1,students:null,isloaded:!1,error:null,unauthorizederror:null,everlogin:!1}),t=(0,p.Z)(r,2),a=t[0],s=t[1];if((0,o.useEffect)((function(){(0,C.mK)().then((function(e){var r=e.data,t=r.data,a=r.success;a?s((function(e){return(0,m.Z)((0,m.Z)({},e),{},{success:a,students:t,isloaded:!0})})):401===e.status||500===e.status?s((function(e){return(0,m.Z)((0,m.Z)({},e),{},{error:!0,isloaded:!0})})):403===e.status&&s((function(e){return(0,m.Z)((0,m.Z)({},e),{},{unauthorizederror:!0,isloaded:!0})}))}),(function(e){return s((function(r){return(0,m.Z)((0,m.Z)({},r),{},{error:e,isloaded:!0})}))}))}),[]),a.error)return(0,b.jsx)("div",{children:(0,b.jsx)(Z.Z,{})});if(a.unauthorizederror)return(0,b.jsx)("div",{children:(0,b.jsx)(x.Z,{})});if(!a.isloaded&&!a.students)return(0,b.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,b.jsx)(l.Z,{animation:"border",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden"})})});var n=[],i=[],c=[];return a.students.map((function(e){return e.applications.map((function(r){r.decided&&("O"===r.admission&&n.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.aapplication_preference.expected_application_date,school:r.programId.school,program_name:r.programId.program_name,semester:r.programId.semester}),"X"===r.admission&&i.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.aapplication_preference.expected_application_date,school:r.programId.school,program_name:r.programId.program_name,semester:r.programId.semester}),"-"===r.admission&&c.push({_id:e._id,firstname:e.firstname,lastname:e.lastname,year:e.aapplication_preference&&e.application_preference.expected_application_date,school:r.programId.school,program_name:r.programId.program_name,semester:r.programId.semester}))}))})),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Z,{children:(0,b.jsx)(N.Z,{className:"my-2 mx-0",bg:"dark",text:"white",children:(0,b.jsx)(P,{header:"Admissions",data:n,userId:e.userId})})}),(0,b.jsx)(d.Z,{children:(0,b.jsx)(N.Z,{className:"my-2 mx-0",bg:"dark",text:"white",children:(0,b.jsx)(P,{header:"Rejections ",data:i,userId:e.userId})})}),(0,b.jsx)(d.Z,{children:(0,b.jsx)(N.Z,{className:"my-2 mx-0",bg:"dark",text:"white",children:(0,b.jsx)(P,{header:"Pending",data:c,userId:e.userId})})})]})},k=function(e){(0,n.Z)(t,e);var r=(0,i.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).state={error:null,timeouterror:null,unauthorizederror:null,isLoaded:!1,students:[],success:!1},e}return(0,s.Z)(t,[{key:"componentDidMount",value:function(){var e=this;(0,C.mK)().then((function(r){var t=r.data,a=t.data,s=t.success;s?e.setState({isLoaded:!0,students:a,success:s}):401===r.status||500===r.status?e.setState({isLoaded:!0,timeouterror:!0}):403===r.status&&e.setState({isLoaded:!0,unauthorizederror:!0})}),(function(r){e.setState({isLoaded:!0,error:!0})}))}},{key:"render",value:function(){var e=this.state,r=e.unauthorizederror,t=e.timeouterror,a=e.isLoaded;if(t)return(0,b.jsx)("div",{children:(0,b.jsx)(Z.Z,{})});if(r)return(0,b.jsx)("div",{children:(0,b.jsx)(x.Z,{})});var s={position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"};return a||this.state.data?this.state.success?(0,b.jsx)(u.Z,{children:(0,b.jsx)(d.Z,{children:(0,b.jsxs)(c.Z,{children:["Admin"===this.props.user.role||"Agent"===this.props.user.role||"Editor"===this.props.user.role?(0,b.jsx)(S,{students:this.state.students}):(0,b.jsx)(b.Fragment,{}),!a&&(0,b.jsx)("div",{style:s,children:(0,b.jsx)(l.Z,{animation:"border",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden"})})})]})})}):void 0:(0,b.jsx)("div",{style:s,children:(0,b.jsx)(l.Z,{animation:"border",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden"})})})}}]),t}(o.Component),R=k},94611:function(e,r,t){var a=t(27853),s=t(84531),n=t(78932),i=t(66621),o=t(47313),l=t(63849),d=t(31616),c=t(50099),u=t(54991),m=t(46417),h=function(e){(0,n.Z)(t,e);var r=(0,i.Z)(t);function t(){return(0,a.Z)(this,t),r.apply(this,arguments)}return(0,s.Z)(t,[{key:"render",value:function(){return(0,m.jsx)(u.Z,{children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(d.Z,{children:(0,m.jsx)(c.Z,{children:"Time out error. Please login again!"})})})})}}]),t}(o.Component);r.Z=h},86450:function(e,r,t){var a=t(27853),s=t(84531),n=t(78932),i=t(66621),o=t(47313),l=t(63849),d=t(31616),c=t(50099),u=t(54991),m=t(46417),h=function(e){(0,n.Z)(t,e);var r=(0,i.Z)(t);function t(){return(0,a.Z)(this,t),r.apply(this,arguments)}return(0,s.Z)(t,[{key:"render",value:function(){return(0,m.jsx)(u.Z,{children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(d.Z,{children:(0,m.jsx)(c.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),t}(o.Component);r.Z=h},72880:function(e,r,t){t.d(r,{Z:function(){return I}});var a=t(1368),s=t(38321),n=t(46123),i=t.n(n),o=t(47313),l=t(68524),d=t(28864),c=t(96205),u=t(85348),m=["bsPrefix","className","variant","as"],h=o.forwardRef((function(e,r){var t=e.bsPrefix,n=e.className,d=e.variant,c=e.as,u=void 0===c?"img":c,h=(0,s.Z)(e,m),p=(0,l.vE)(t,"card-img");return o.createElement(u,(0,a.Z)({ref:r,className:i()(d?p+"-"+d:p,n)},h))}));h.displayName="CardImg",h.defaultProps={variant:null};var p=h,f=["bsPrefix","className","bg","text","border","body","children","as"],x=(0,c.Z)("h5"),Z=(0,c.Z)("h6"),v=(0,d.Z)("card-body"),j=(0,d.Z)("card-title",{Component:x}),g=(0,d.Z)("card-subtitle",{Component:Z}),N=(0,d.Z)("card-link",{Component:"a"}),C=(0,d.Z)("card-text",{Component:"p"}),y=(0,d.Z)("card-header"),b=(0,d.Z)("card-footer"),w=(0,d.Z)("card-img-overlay"),_=o.forwardRef((function(e,r){var t=e.bsPrefix,n=e.className,d=e.bg,c=e.text,m=e.border,h=e.body,p=e.children,x=e.as,Z=void 0===x?"div":x,j=(0,s.Z)(e,f),g=(0,l.vE)(t,"card"),N=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:g+"-header"}}),[g]);return o.createElement(u.Z.Provider,{value:N},o.createElement(Z,(0,a.Z)({ref:r},j,{className:i()(n,g,d&&"bg-"+d,c&&"text-"+c,m&&"border-"+m)}),h?o.createElement(v,null,p):p))}));_.displayName="Card",_.defaultProps={body:!1},_.Img=p,_.Title=j,_.Subtitle=g,_.Body=v,_.Link=N,_.Text=C,_.Header=y,_.Footer=b,_.ImgOverlay=w;var I=_},85348:function(e,r,t){var a=t(47313).createContext(null);a.displayName="CardContext",r.Z=a},63849:function(e,r,t){var a=t(1368),s=t(38321),n=t(46123),i=t.n(n),o=t(47313),l=t(68524),d=["bsPrefix","className","noGutters","as"],c=["xl","lg","md","sm","xs"],u=o.forwardRef((function(e,r){var t=e.bsPrefix,n=e.className,u=e.noGutters,m=e.as,h=void 0===m?"div":m,p=(0,s.Z)(e,d),f=(0,l.vE)(t,"row"),x=f+"-cols",Z=[];return c.forEach((function(e){var r,t=p[e];delete p[e];var a="xs"!==e?"-"+e:"";null!=(r=null!=t&&"object"===typeof t?t.cols:t)&&Z.push(""+x+a+"-"+r)})),o.createElement(h,(0,a.Z)({ref:r},p,{className:i().apply(void 0,[n,f,u&&"no-gutters"].concat(Z))}))}));u.displayName="Row",u.defaultProps={noGutters:!1},r.Z=u},96205:function(e,r,t){var a=t(1368),s=t(47313),n=t(46123),i=t.n(n);r.Z=function(e){return s.forwardRef((function(r,t){return s.createElement("div",(0,a.Z)({},r,{ref:t,className:i()(r.className,e)}))}))}}}]);