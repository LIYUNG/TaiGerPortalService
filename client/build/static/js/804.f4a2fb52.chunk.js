"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[804],{50099:function(e,n,s){var t=s(35531),i=s(27853),a=s(84531),r=s(78932),l=s(66621),o=s(47313),c=s(58050),d=s(72880),u=s(88815),h=s(29678),x=s.n(h),Z=s(54991),p=s(12401),f=s(46417),m=function(e){(0,r.Z)(s,e);var n=(0,l.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,a.Z)(s,[{key:"render",value:function(){var e,n,s,i,a,r=this,l=[];return this.state.isOption&&(s=(0,f.jsx)("div",{className:"card-header-right",children:(0,f.jsxs)(c.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,f.jsx)(c.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,f.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,f.jsxs)(c.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,f.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){r.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,f.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,f.jsxs)("a",{href:p.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,f.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){r.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,f.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,f.jsxs)("a",{href:p.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,f.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,f.jsx)("i",{className:"feather icon-refresh-cw"}),(0,f.jsx)("a",{href:p.Z.BLANK_LINK,children:" Reload "})]}),(0,f.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,f.jsx)("i",{className:"feather icon-trash"}),(0,f.jsx)("a",{href:p.Z.BLANK_LINK,children:" Remove "})]})]})]})})),i=(0,f.jsxs)(d.Z.Header,{children:[(0,f.jsx)(d.Z.Title,{as:"h5",children:this.props.title}),s]}),this.state.fullCard&&(l=[].concat((0,t.Z)(l),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(l=[].concat((0,t.Z)(l),["card-load"]),n=(0,f.jsx)("div",{className:"card-loader",children:(0,f.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(l=[].concat((0,t.Z)(l),["d-none"])),this.props.cardClass&&(l=[].concat((0,t.Z)(l),[this.props.cardClass])),a=(0,f.jsxs)(d.Z,{className:l.join(" "),style:e,children:[i,(0,f.jsx)(u.Z,{in:!this.state.collapseCard,children:(0,f.jsx)("div",{children:(0,f.jsx)(d.Z.Body,{children:this.props.children})})}),n]}),(0,f.jsx)(Z.Z,{children:a})}}]),s}(o.Component);n.Z=x()(m)},30804:function(e,n,s){s.r(n),s.d(n,{default:function(){return y}});var t=s(18489),i=s(23430),a=s(47313),r=s(44030),l=s(63849),o=s(31616),c=s(72880),d=s(93298),u=s(83109),h=s(64212),x=s(54991),Z=s(94611),p=s(86450),f=s(51426),m=s(51767),j=s(53537),g=(s(31257),s(46417));function y(e){var n=(0,a.useState)({error:null,timeouterror:null,unauthorizederror:null,isLoaded:!1,coursesdata:{},analysis:{},confirmModalWindowOpen:!1,analysisSuccessModalWindowOpen:!1,success:!1,student:null,file:"",study_group:"",analyzed_course:"",expand:!0,isAnalysing:!1,isDownloading:!1}),s=(0,i.Z)(n,2),y=s[0],v=s[1];(0,a.useEffect)((function(){var n=e.match.params.student_id?e.match.params.student_id:e.user._id.toString();(0,f.TE)(n).then((function(e){var n=e.data,s=n.data,i=n.success;if(i){var a=s.table_data_string?JSON.parse(s.table_data_string):{};v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isLoaded:!0,updatedAt:s.updatedAt,coursesdata:a,analysis:s.analysis,student:s.student_id,success:i})}))}else 401===e.status||500===e.status?v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isLoaded:!0,timeouterror:!0})})):403===e.status&&v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isLoaded:!0,unauthorizederror:!0})}))}),(function(e){v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isLoaded:!0,error:!0})}))}))}),[]);var C=(0,a.useState)([{course_chinese:"\u96fb\u5b50\u5b78",course_english:"Electronics",credits:"3",grades:"B"},{course_chinese:"\u8cc7\u6599\u7d50\u69cb",course_english:"Data structure",credits:"3",grades:"A"}]),N=(0,i.Z)(C,2),w=(N[0],N[1],function(){v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{confirmModalWindowOpen:!1})}))}),b=function(){v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{analysisSuccessModalWindowOpen:!1})}))},_=[(0,t.Z)((0,t.Z)({},(0,j.vU)("course_chinese",j.hg)),{},{title:"Courses Name Chinese"}),(0,t.Z)((0,t.Z)({},(0,j.vU)("course_english",j.hg)),{},{title:"Courses Name English"}),(0,t.Z)((0,t.Z)({},(0,j.vU)("credits",j.hg)),{},{title:"Credits"}),(0,t.Z)((0,t.Z)({},(0,j.vU)("grades",j.hg)),{},{title:"Grades"})];return y.timeouterror?(0,g.jsx)("div",{children:(0,g.jsx)(Z.Z,{})}):y.unauthorizederror?(0,g.jsx)("div",{children:(0,g.jsx)(p.Z,{})}):y.isLoaded?(0,g.jsxs)(x.Z,{children:[(0,g.jsx)(l.Z,{className:"sticky-top ",children:(0,g.jsx)(o.Z,{children:(0,g.jsx)(c.Z,{className:"mb-2 mx-0",bg:"dark",text:"light",children:(0,g.jsx)(c.Z.Header,{text:"dark",children:(0,g.jsx)(c.Z.Title,{children:(0,g.jsx)(l.Z,{children:(0,g.jsxs)(o.Z,{className:"my-0 mx-0 text-light",children:[y.student.firstname," ",y.student.lastname," ","Courses"]})})})})})})}),(0,g.jsx)(l.Z,{children:(0,g.jsxs)(o.Z,{sm:12,children:[(0,g.jsx)(c.Z,{className:"mb-2 mx-0",children:(0,g.jsxs)(c.Z.Body,{children:[(0,g.jsx)(l.Z,{children:(0,g.jsxs)(o.Z,{children:[(0,g.jsx)("p",{children:"Please fill the courses you have taken. (Ignore if you are high school student)"}),(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Only Bachelor's courses "}),"are considered in this table."]})]})}),(0,g.jsx)("br",{}),(0,g.jsx)(j.co,{height:6e3,disableContextMenu:!0,disableExpandSelection:!1,headerRowHeight:30,rowHeight:25,value:y.coursesdata,autoAddRow:!0,onChange:function(e){v((function(n){return(0,t.Z)((0,t.Z)({},n),{},{coursesdata:e})}))},columns:_}),(0,g.jsx)(l.Z,{className:"my-2",children:(0,g.jsxs)(o.Z,{children:["Last update at: ",(0,m.Ny)(y.updatedAt)]})}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(d.Z,{onClick:function(){var e=JSON.stringify(y.coursesdata);(0,f.Cj)(y.student._id.toString(),{student_id:y.student._id.toString(),name:y.student.firstname,table_data_string:e}).then((function(e){var n=e.data,s=n.data,i=n.success,a=JSON.parse(s.table_data_string);i?v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isLoaded:!0,updatedAt:s.updatedAt,coursesdata:a,confirmModalWindowOpen:!0,success:i})})):401===e.status||500===e.status?v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isLoaded:!0,timeouterror:!0})})):403===e.status&&v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isLoaded:!0,unauthorizederror:!0})}))}))},children:"Update"})})]})}),"Guest"===e.user.role&&(0,g.jsx)(c.Z,{className:"mb-2 mx-0",children:(0,g.jsxs)(c.Z.Body,{children:[(0,g.jsx)(l.Z,{children:"Do you want to see result? Contact our consultant!"}),(0,g.jsx)("br",{})]})}),("Admin"===e.user.role||"Agent"===e.user.role)&&(0,g.jsx)(c.Z,{className:"mb-2 mx-0",children:(0,g.jsxs)(c.Z.Body,{children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(o.Z,{children:(0,g.jsx)("h4",{children:"Analyser"})})}),(0,g.jsx)("br",{}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(o.Z,{children:(0,g.jsxs)(u.Z.Group,{controlId:"study_group",children:[(0,g.jsx)(u.Z.Label,{children:"Select target group"}),(0,g.jsxs)(u.Z.Control,{as:"select",onChange:function(e){return function(e){e.preventDefault();var n=e.target.value;v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{study_group:n})}))}(e)},children:[(0,g.jsx)("option",{value:"",children:"Select Study Group"}),m.Ue.map((function(e,n){return(0,g.jsx)("option",{value:e.key,children:e.value},n)}))]})]})})}),(0,g.jsx)("br",{}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(o.Z,{children:(0,g.jsx)("p",{children:y.analysis&&y.analysis.isAnalysed?(0,g.jsx)(d.Z,{onClick:function(){v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isDownloading:!0})})),(0,f.Jd)(y.student._id.toString()).then((function(e){var n=e.headers["content-disposition"].split('"')[1],s=e.data;if(0!==s.size){var i=n.split(".");if("pdf"===(i=i.pop())){var a=window.URL.createObjectURL(new Blob([s],{type:"application/pdf"}));window.open(a)}else{var r=window.URL.createObjectURL(new Blob([s])),l=document.createElement("a");l.href=r,l.setAttribute("download",n),document.body.appendChild(l),l.click(),l.parentNode.removeChild(l),v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isDownloading:!1})}))}}}))},disabled:y.isDownloading,children:"Download"}):0})})}),(0,g.jsx)("br",{}),(0,g.jsx)(l.Z,{className:"my-2",children:(0,g.jsxs)(o.Z,{children:["Last analysis at:"," ",(0,m.Ny)(y.analysis.updatedAt)]})}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(d.Z,{onClick:function(){""!==y.study_group?(v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isAnalysing:!0})})),(0,f.fA)(y.student._id.toString(),y.study_group).then((function(e){var n=e.data,s=n.data,i=n.success;JSON.parse(s.table_data_string);i?v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isLoaded:!0,analysis:s.analysis,analysisSuccessModalWindowOpen:!0,success:i,isAnalysing:!1})})):401===e.status||500===e.status?v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isLoaded:!0,isAnalysing:!1,timeouterror:!0})})):403===e.status&&v((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isLoaded:!0,isAnalysing:!1,unauthorizederror:!0})}))}))):alert("Please select study group")},disabled:y.isAnalysing,children:"Analyse"})})]})})]})}),(0,g.jsxs)(h.Z,{show:y.confirmModalWindowOpen,onHide:w,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,g.jsx)(h.Z.Header,{children:(0,g.jsx)(h.Z.Title,{id:"contained-modal-title-vcenter",children:"Confirmation"})}),(0,g.jsx)(h.Z.Body,{children:"Update transcript successfully"}),(0,g.jsx)(h.Z.Footer,{children:(0,g.jsx)(d.Z,{onClick:w,children:"Close"})})]}),(0,g.jsxs)(h.Z,{show:y.analysisSuccessModalWindowOpen,onHide:b,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,g.jsx)(h.Z.Header,{children:(0,g.jsx)(h.Z.Title,{id:"contained-modal-title-vcenter",children:"Success"})}),(0,g.jsx)(h.Z.Body,{children:"Transcript analysed successfully!"}),(0,g.jsx)(h.Z.Footer,{children:(0,g.jsx)(d.Z,{onClick:b,children:"Close"})})]})]}):(0,g.jsx)("div",{style:{position:"fixed",top:"40%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,g.jsx)(r.Z,{animation:"border",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden"})})})}},94611:function(e,n,s){var t=s(27853),i=s(84531),a=s(78932),r=s(66621),l=s(47313),o=s(63849),c=s(31616),d=s(50099),u=s(54991),h=s(46417),x=function(e){(0,a.Z)(s,e);var n=(0,r.Z)(s);function s(){return(0,t.Z)(this,s),n.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(o.Z,{children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(d.Z,{children:"Time out error. Please login again!"})})})})}}]),s}(l.Component);n.Z=x},86450:function(e,n,s){var t=s(27853),i=s(84531),a=s(78932),r=s(66621),l=s(47313),o=s(63849),c=s(31616),d=s(50099),u=s(54991),h=s(46417),x=function(e){(0,a.Z)(s,e);var n=(0,r.Z)(s);function s(){return(0,t.Z)(this,s),n.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){return(0,h.jsx)(u.Z,{children:(0,h.jsx)(o.Z,{children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(d.Z,{children:"\u8acb\u8ddf\u60a8\u7684TaiGer\u9867\u554f\u806f\u7e6b"})})})})}}]),s}(l.Component);n.Z=x},51767:function(e,n,s){s.d(n,{Ny:function(){return p},Ue:function(){return x},Vb:function(){return f},XA:function(){return Z},_3:function(){return j},vE:function(){return h},xL:function(){return g}});s(47313);var t=s(57864),i=s(3394),a=s(58821),r=s(46417),l=(0,r.jsx)(i.cfq,{size:18,color:"limegreen",title:"Valid Document"}),o=(0,r.jsx)(t.LHV,{size:18,color:"red",title:"Invalid Document"}),c=(0,r.jsx)(t.QRz,{size:18,color:"orange",title:"Uploaded successfully"}),d=(0,r.jsx)(t.znh,{size:18,color:"lightgray",title:"No Document uploaded"}),u=(0,r.jsx)(a.pZ2,{size:18,color:"lightgray",title:"Not needed"}),h=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-muted",children:" "}),(0,r.jsxs)("p",{className:"text-info",children:[l,": The document is valid and can be used in the application."]}),(0,r.jsxs)("p",{className:"text-info",children:[o,": The document is invalid and cannot be used in the application. Please properly scan a new one."]}),(0,r.jsxs)("p",{className:"text-info",children:[c,": The document is uploaded. Your agent will check it as soon as possible."]}),(0,r.jsxs)("p",{className:"text-info",children:[d,": Please upload the copy of the document."]}),(0,r.jsxs)("p",{className:"text-info",children:[u,": This document is not needed."]})," "]}),x=[{key:"ee",value:"Eletrical/Electronics Engineering"},{key:"cs",value:"Computer Science"},{key:"mgm",value:"Business/Management"},{key:"dsbi",value:"Data Science/Business Intelligence"},{key:"me",value:"Mechanical Engineering"},{key:"mtl",value:"Materials Science"}],Z=[{key:"application",value:"Application"},{key:"base-documents",value:"Base-documents"},{key:"cv-ml-rl",value:"CV/ML/RL"},{key:"portal-instruction",value:"Portal-Instruction"},{key:"certification",value:"Certification"},{key:"uniassist",value:"Uni-Assist"},{key:"visa",value:"Visa"}],p=function(e){return new Date(e).toLocaleDateString()+", "+new Date(e).toLocaleTimeString()},f=function(e,n){var s=new Date(e),t=new Date(n).getTime()-s.getTime();return Math.round(t/864e5).toString()},m=function(e,n){var s=n-e;return Array.from({length:s},(function(n,s){return s+e}))},j=function(){return(0,r.jsx)(r.Fragment,{children:m(1950,2050).map((function(e,n){return(0,r.jsx)("option",{value:e,children:e},n)}))})},g=function(){return(0,r.jsx)(r.Fragment,{children:m(2022,2050).map((function(e,n){return(0,r.jsx)("option",{value:e,children:e},n)}))})}}}]);